(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/1ha":function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_calculateaggregate:function(e,t,r,s){var o=e.aggregates;if(o||(o=t),o){for(var l=new Array,a=0;a<o.length;a++)"count"!=o[a]&&(l[l.length]=e.cellsformat);if(this.source&&this.source.getAggregatedData)return void 0==s&&(s=this.getrows()),this.virtualmode&&(s=new Array,i.each(this.source._source.records,function(){s.push(this)})),this.source.getAggregatedData(void 0==r||1==r?[{name:e.datafield,aggregates:o,formatStrings:l}]:[{name:e.datafield,aggregates:o}],this.gridlocalization,s)}return null},getcolumnaggregateddata:function(e,t,i,r){var s=this.getcolumn(e),o=void 0!=i&&0!=i&&i;if(null==t)return"";var l=s.aggregates;s.aggregates=null;var a=this._calculateaggregate(s,t,o,r),n={};return a&&(n=a[e]),s.aggregates=l,n},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(e,t,r){var s=this;if(t)r.children().remove(),r.html(""),e.aggregatesrenderer?t&&(l=e.aggregatesrenderer(t[e.datafield],e,r,this.getcolumnaggregateddata(e.datafield,t[e.datafield])),r.html(l)):i.each(t,function(){for(o in this){var e=i('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),t=o;t=s._getaggregatename(t),e.html(t+":"+this[o]),s.rtl&&e.addClass(s.toThemeProperty("jqx-rtl")),r.append(e)}});else if(r.children().remove(),r.html(""),e.aggregatesrenderer){var o={};e.aggregates&&(o=this.getcolumnaggregateddata(e.datafield,e.aggregates));var l=e.aggregatesrenderer({},e,r,null);r.html(l)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var e=this.getrows(),t=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var r=0;r<t;r++){var s=i(this.statusbar[0].cells[r]),o=this.columns.records[r],l=this._calculateaggregate(o,null,!0,e);this._updatecolumnaggregates(o,l,s)}},_updateaggregates:function(){var e=i('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),t=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),t=-1),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var o=r+10,l=new Array;this.statusbar[0].cells=l;for(var a=this.getrows(),n=0;n<r;n++){var d=this.columns.records[n],h=this._calculateaggregate(d,d.aggregates,!0,a),c=d.width;c<d.minwidth&&(c=d.minwidth),c>d.maxwidth&&(c=d.maxwidth);var u=s;d.cellsalign&&(u+=" "+this.toThemeProperty("jqx-"+d.cellsalign+"-align"));var p=i('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+u+'"></div>');e.append(p),p.css("left",t),p.css("z-index",this.rtl?o++:o--),p.width(c),p[0].left=t,d.hidden&&d.hideable?p.css("display","none"):t+=c,l[l.length]=p[0],this._updatecolumnaggregates(d,h,p)}i.jqx.browser.msie&&i.jqx.browser.version<8&&e.css("z-index",o--),e.width(parseFloat(t)+2),e.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(e),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(s),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})},"94vT":function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return o});var r=i("CcnG"),s=(i("Lg09"),r["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function o(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),r["\u0275ncd"](null,0)],null,null)}},HZfz:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{savestate:function(e){var t=this.getstate();return void 0===e||i.isEmptyObject(e)||(-1==e.indexOf("sort")&&(delete t.sortcolumn,delete t.sortdirection),-1==e.indexOf("pager")&&(delete t.pagenum,delete t.pagesizeoptions,delete t.pagesize),-1==e.indexOf("selection")&&(delete t.selectedcells,delete t.selectedrowindexes,delete t.selectedrowindex),-1==e.indexOf("grouping")&&delete t.groups,-1==e.indexOf("filter")&&delete t.filters,i.each(this.columns.records,function(i){var r=t.columns[this.datafield];-1==e.indexOf("hidden_columns")&&delete r.hidden,-1==e.indexOf("reorder")&&delete r.index,-1==e.indexOf("columns_width")&&delete r.width,-1==e.indexOf("columns_text")&&delete r.text,-1==e.indexOf("alignment")&&(delete r.align,delete r.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(t)),this._savedstate=t,t},loadstate:function(e,t){var r="";if(void 0!=e&&void 0!=e.width?r=e:window.localStorage?window.localStorage["jqxGrid"+this.element.id]&&(r=i.parseJSON(window.localStorage["jqxGrid"+this.element.id])):this._savedstate&&(r=this._savedstate),null!=r&&""!==r){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var s=r;if(void 0!==s.width&&(this.width=s.width),void 0!==s.height&&(this.height=s.height),this.pageable&&(void 0!=s.pagesize&&(this.pagesize=s.pagesize,this.dataview.pagesize=s.pagesize),void 0!=s.pagenum&&(this.dataview.pagenum=s.pagenum),void 0!=s.pagesizeoptions&&(this.pagesizeoptions=s.pagesizeoptions),this.pagesizeoptions)){for(var o=0,l=0;l<this.pagesizeoptions.length;l++)this.pagesize>=this.pagesizeoptions[l]&&(o=l);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:o})}if(this.sortable)if(this._loading&&(this._loading=!1),s.sortdirection){if(s.sortdirection.ascending||s.sortdirection.descending){this.dataview.sortfield=s.sortcolumn;var a=s.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=a,this.source.sortcolumn=s.sortcolumn,this.source.sortdirection=a,this.sortby(s.sortcolumn,a)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&s.groups&&(this.dataview.groups=s.groups,this.groups=s.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(s),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==t?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(e){this.loadingstate=!0;var t="";if(void 0!=e&&void 0!=e.width?t=e:window.localStorage?window.localStorage["jqxGrid"+this.element.id]&&(t=i.parseJSON(window.localStorage["jqxGrid"+this.element.id])):this._savedstate&&(t=this._savedstate),null!=t&&""!=t){var r=this._loading;this._loading=!1;var s=t,o=this,l=!1,a=[];if(a.length=0,i.each(this.columns.records,function(e){var t=s.columns[this.datafield];if(void 0!=t){if(this.text!=t.text&&(l=!0),this.hidden!=t.hidden&&(l=!0),void 0!==t.width&&(this.width=t.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==t.hidden&&(this.hidden=t.hidden),void 0!==t.pinned&&(this.pinned=t.pinned),void 0!==t.groupable&&(this.groupable=t.groupable),void 0!==t.resizable&&(this.resizable=t.resizable),this.draggable=t.draggable,void 0!==t.text&&(this.text=t.text),void 0!==t.align&&(this.align=t.align),void 0!==t.cellsalign&&(this.cellsalign=t.cellsalign),o._columns)for(var i=0;i<o._columns.length;i++)o._columns[i].datafield==this.datafield&&(void 0!==t.hidden&&(o._columns[i].hidden=t.hidden),void 0!==t.width&&(o._columns[i].width=t.width));void 0!==t.index&&(a[this.datafield]=t.index,a.length++)}}),a.length>0){if(this.setcolumnindex){for(var n=new Array,d=0;d<this.columns.records.length;d++)n.push(this.columns.records[d]);var h=0,c=new Array;for(d=0;d<n.length;d++){var u=a[(v=n[d]).datafield];this.groupable&&v.grouped?h++:0==d&&this.rowdetails?h++:(d!==u||this.groupable||this.rowdetails)&&c.push({column:v,key:h+u})}c.sort(function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}),c.reverse(),i.each(c,function(e,t){o.setcolumnindex(this.column.datafield,this.key,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==s.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));var p="",g=new i.jqx.filter;for(d=0;d<s.filters.filterscount;d++){var f=s.filters["filtercondition"+d],m=s.filters["filterdatafield"+d],v=this.getcolumn(m);if(m!=p&&(g=new i.jqx.filter),p=m,v&&v.filterable){var w=s.filters["filtervalue"+d],x=s.filters["filteroperator"+d];if("datefilter"==(j=s.filters["filtertype"+d]))var b=g.createfilter(j,w,f,null,v.cellsformat,this.gridlocalization);else b=g.createfilter(j,w,f);if(g.addfilter(x,b),this.showfilterrow){var y=v._filterwidget,_=v._filterwidget.parent();if(null!=y)switch(v.filtertype){case"number":if(_.find("input").val(w),this.host.jqxDropDownList){var q=g.getoperatorsbyfiltertype("numericfilter");y.find(".filter").jqxDropDownList("selectIndex",q.indexOf(f))}break;case"date":this.host.jqxDateTimeInput?i(_.children()[0]).jqxDateTimeInput("setDate",w):y.val(w);break;case"range":if(this.host.jqxDateTimeInput){var j,C=s.filters["filtervalue"+(d+1)];b=g.createfilter(j=s.filters["filtertype"+d],C,"LESS_THAN_OR_EQUAL"),g.addfilter(x,b);var k=new Date(w),z=new Date(C);isNaN(k)&&(k=i.jqx.dataFormat.tryparsedate(w)),isNaN(z)&&(z=i.jqx.dataFormat.tryparsedate(w)),i(_.children()[0]).jqxDateTimeInput("setRange",k,z),d++}else y.val(w);break;case"textbox":case"default":y.val(w),o["_oldWriteText"+y[0].id]=w;break;case"list":if(this.host.jqxDropDownList){var I=i(_.children()[0]).jqxDropDownList("getItems");u=-1,i.each(I,function(e){if(this.value==w)return u=e,!1}),i(_.children()[0]).jqxDropDownList("selectIndex",u)}else y.val(w);break;case"checkedlist":this.host.jqxDropDownList||y.val(w);break;case"bool":case"boolean":this.host.jqxCheckBox?i(_.children()[0]).jqxCheckBox({checked:w}):y.val(w)}}this.addfilter(m,g)}}s.filters&&s.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&i.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&o.host.jqxDropDownList){var e=this,t=e._filterwidget,r=(t.jqxDropDownList("getItems"),t.jqxDropDownList("listBox"));if(r.checkAll(!1),e.filter){r.uncheckAll(!1);for(var s=e.filter.getfilters(),l=0;l<r.items.length;l++){var a=r.items[l].label;i.each(s,function(){if("NOT_EQUAL"==this.condition)return!0;a==this.value&&r.checkIndex(l,!1,!1)})}r._updateCheckedItems();var n=r.getCheckedItems().length;r.items.length!=n&&n>0&&r.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==s.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(s.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(s.pagenum))}if(s.selectedrowindexes&&s.selectedrowindexes&&s.selectedrowindexes.length>0&&(this.selectedrowindexes=s.selectedrowindexes,this.selectedrowindex=s.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),s.selectedcells&&this._applycellselection&&i.each(s.selectedcells,function(){o._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==s.groups)return this._refreshdataview(),this.render(),this._loading=r,void(this.loadingstate=!1);if(l){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=r,this.loadingstate=!1,this.updating())return!1}else this._loading=r,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=r,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var e=this.getdatainformation(),t={};if(t.width=this.width,t.height=this.height,t.pagenum=e.paginginformation.pagenum,t.pagesize=e.paginginformation.pagesize,t.pagesizeoptions=this.pagesizeoptions,t.sortcolumn=e.sortinformation.sortcolumn,t.sortdirection=e.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(-1!=this.selectionmode.toString().indexOf("cell")){var r=this.getselectedcells(),s=new Array;i.each(r,function(){s.push({datafield:this.datafield,rowindex:this.rowindex})}),t.selectedcells=s}else{var o=this.getselectedrowindexes();t.selectedrowindexes=o,t.selectedrowindex=this.selectedrowindex}var l={},a=0;if(this.dataview.filters)for(var n=0;n<this.dataview.filters.length;n++){var d=this.dataview.filters[n].datafield,h=this.dataview.filters[n].filter,c=h.getfilters();l[d+"operator"]=h.operator;for(var u=0;u<c.length;u++){if(c[u].datafield=d,"datefilter"==c[u].type)if(c[u].value&&c[u].value.toLocaleString){var p=this.getcolumn(c[u].datafield);if(p.cellsformat){var g=this.source.formatDate(c[u].value,p.cellsformat,this.gridlocalization);l["filtervalue"+a]=g||c[u].value.toLocaleString()}else l["filtervalue"+a]=c[u].value.toLocaleString()}else l["filtervalue"+a]=c[u].value;else l["filtervalue"+a]=c[u].value;l["filtercondition"+a]=c[u].condition,l["filteroperator"+a]=c[u].operator,l["filterdatafield"+a]=d,l["filtertype"+a]=c[u].type,a++}}l.filterscount=a,t.filters=l,t.groups=this.groups,t.columns={};var f=0;return this.columns.records&&i.each(this.columns.records,function(e,i){if(!this.datafield)return!0;var r={};r.width=this.width,r.hidden=this.hidden,r.pinned=this.pinned,r.groupable=this.groupable,r.resizable=this.resizable,r.draggable=this.draggable,r.text=this.text,r.align=this.align,r.cellsalign=this.cellsalign,r.index=f++,t.columns[this.datafield]=r}),t},_stringify:function(e){if(window.JSON&&"function"==typeof window.JSON.stringify){var t="";try{t=window.JSON.stringify(e)}catch(t){return this._str("",{"":e})}return t}return this._str("",{"":e})},_quote:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){var i=t[e];return"string"==typeof i?i:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(e){for(var t=e.length,i=[],r=0;r<t;r++)i.push(this._str(r,e)||"null");return"["+i.join(",")+"]"},_stringifyObject:function(e){var t,i,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=this._str(t,e))&&r.push(this._quote(t)+":"+i);return"{"+r.join(",")+"}"},_stringifyReference:function(e){switch(Object.prototype.toString.call(e)){case"[object Array]":return this._stringifyArray(e)}return this._stringifyObject(e)},_stringifyPrimitive:function(e,t){switch(t){case"string":return this._quote(e);case"number":return isFinite(e)?e:"null";case"boolean":return e}return"null"},_str:function(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(r=typeof(i=i.toJSON(e))),/(number|string|boolean)/.test(r)||!i&&"object"===r?this._stringifyPrimitive(i,r):this._stringifyReference(i)}})},Lg09:function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i("RIWq"),i("glIC"),i("q7jt"),i("Eafw"),i("ta97"),i("r7VO"),i("Irud"),i("ioxJ"),i("Pi67"),i("GoxA"),i("+FTG"),i("7+Kr"),i("q5Vg"),i("Nm67"),i("1zgJ"),i("VoVR"),i("Ys8p"),i("wG7f"),i("Pa1p"),i("h2sn"),i("SSte"),i("HZfz"),i("hcty"),i("t6Hq"),i("lGOm"),i("z/Tp"),i("/1ha");var r=i("CcnG"),s=function(){function e(e){this.autoCreate=!0,this.properties=["altrows","altstart","altstep","autoshowloadelement","autoshowfiltericon","autoshowcolumnsmenubutton","showcolumnlines","showrowlines","showcolumnheaderlines","adaptive","adaptivewidth","clipboard","closeablegroups","columnsmenuwidth","columnmenuopening","columnmenuclosing","cellhover","enablekeyboarddelete","enableellipsis","enablemousewheel","enableanimations","enabletooltips","enablehover","enablebrowserselection","everpresentrowposition","everpresentrowheight","everpresentrowactions","everpresentrowactionsmode","filterrowheight","filtermode","groupsrenderer","groupcolumnrenderer","groupsexpandedbydefault","handlekeyboardnavigation","pagerrenderer","rtl","showdefaultloadelement","showfiltercolumnbackground","showfiltermenuitems","showpinnedcolumnbackground","showsortcolumnbackground","showsortmenuitems","showgroupmenuitems","showrowdetailscolumn","showheader","showgroupsheader","showaggregates","showgroupaggregates","showeverpresentrow","showfilterrow","showemptyrow","showstatusbar","statusbarheight","showtoolbar","selectionmode","updatefilterconditions","updatefilterpanel","theme","toolbarheight","autoheight","autorowheight","columnsheight","deferreddatafields","groupsheaderheight","groupindentwidth","height","pagerheight","rowsheight","scrollbarsize","scrollmode","scrollfeedback","width","autosavestate","autoloadstate","columns","columngroups","columnsmenu","columnsresize","columnsautoresize","columnsreorder","disabled","editable","editmode","filter","filterable","groupable","groups","horizontalscrollbarstep","horizontalscrollbarlargestep","initrowdetails","keyboardnavigation","localization","pagesize","pagesizeoptions","pagermode","pagerbuttonscount","pageable","rowdetails","rowdetailstemplate","ready","rendered","renderstatusbar","rendertoolbar","rendergridrows","sortable","sortmode","selectedrowindex","selectedrowindexes","source","sorttogglestates","updatedelay","virtualmode","verticalscrollbarstep","verticalscrollbarlargestep"],this.onBindingcomplete=new r.EventEmitter,this.onColumnresized=new r.EventEmitter,this.onColumnreordered=new r.EventEmitter,this.onColumnclick=new r.EventEmitter,this.onCellclick=new r.EventEmitter,this.onCelldoubleclick=new r.EventEmitter,this.onCellselect=new r.EventEmitter,this.onCellunselect=new r.EventEmitter,this.onCellvaluechanged=new r.EventEmitter,this.onCellbeginedit=new r.EventEmitter,this.onCellendedit=new r.EventEmitter,this.onFilter=new r.EventEmitter,this.onGroupschanged=new r.EventEmitter,this.onGroupexpand=new r.EventEmitter,this.onGroupcollapse=new r.EventEmitter,this.onPagechanged=new r.EventEmitter,this.onPagesizechanged=new r.EventEmitter,this.onRowclick=new r.EventEmitter,this.onRowdoubleclick=new r.EventEmitter,this.onRowselect=new r.EventEmitter,this.onRowunselect=new r.EventEmitter,this.onRowexpand=new r.EventEmitter,this.onRowcollapse=new r.EventEmitter,this.onSort=new r.EventEmitter,this.elementRef=e}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e="",t={};if(JQXLite(this.elementRef.nativeElement.children).find("tr").length>0){this.container=document.createElement("div"),e=this.elementRef.nativeElement.innerHTML,this.container.appendChild(this.elementRef.nativeElement.firstChild),this.elementRef.nativeElement.innerHTML=e,this.content=e;var i=JQXLite.jqx.parseSourceTag(this.container);void 0!==this.attrColumns?t.source=i.source:(t.source=i.source,t.columns=i.columns)}this.autoCreate&&this.createComponent(t)},e.prototype.ngAfterViewChecked=function(){if(this.container&&this.content!==this.container.innerHTML){this.content=this.container.innerHTML;var e=JQXLite.jqx.parseSourceTag(this.container),t=this.host.jqxGrid("columns");this.host.jqxGrid(0===t.length?{source:e.source,columns:e.columns}:{source:e.source})}},e.prototype.ngOnChanges=function(e){if(this.host)for(var t=0;t<this.properties.length;t++){var i="attr"+this.properties[t].substring(0,1).toUpperCase()+this.properties[t].substring(1),r=!1;if(void 0!==this[i]){if("object"==typeof this[i]){if(this[i]instanceof Array&&(r=this.arraysEqual(this[i],this.host.jqxGrid(this.properties[t]))),r)return!1;this.host.jqxGrid(this.properties[t],this[i]);continue}this[i]!==this.host.jqxGrid(this.properties[t])&&this.host.jqxGrid(this.properties[t],this[i])}}},e.prototype.arraysEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},e.prototype.manageAttributes=function(){for(var e={},t=0;t<this.properties.length;t++){var i="attr"+this.properties[t].substring(0,1).toUpperCase()+this.properties[t].substring(1);void 0!==this[i]&&(e[this.properties[t]]=this[i])}return e},e.prototype.moveClasses=function(e,t){var i,r=e.classList;r.length>0&&(i=t.classList).add.apply(i,r),e.className=""},e.prototype.moveStyles=function(e,t){t.style.cssText=e.style.cssText,e.style.cssText=""},e.prototype.createComponent=function(e){this.host||(e?JQXLite.extend(e,this.manageAttributes()):e=this.manageAttributes(),this.host=JQXLite(this.elementRef.nativeElement.firstChild),this.moveClasses(this.elementRef.nativeElement,this.host[0]),this.moveStyles(this.elementRef.nativeElement,this.host[0]),this.__wireEvents__(),this.widgetObject=jqwidgets.createInstance(this.host,"jqxGrid",e))},e.prototype.createWidget=function(e){this.createComponent(e)},e.prototype.__updateRect__=function(){this.host&&this.host.css({width:this.attrWidth,height:this.attrHeight})},e.prototype.setOptions=function(e){this.host.jqxGrid("setOptions",e)},e.prototype.altrows=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("altrows");this.host.jqxGrid("altrows",e)},e.prototype.altstart=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("altstart");this.host.jqxGrid("altstart",e)},e.prototype.altstep=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("altstep");this.host.jqxGrid("altstep",e)},e.prototype.autoshowloadelement=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoshowloadelement");this.host.jqxGrid("autoshowloadelement",e)},e.prototype.autoshowfiltericon=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoshowfiltericon");this.host.jqxGrid("autoshowfiltericon",e)},e.prototype.autoshowcolumnsmenubutton=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoshowcolumnsmenubutton");this.host.jqxGrid("autoshowcolumnsmenubutton",e)},e.prototype.showcolumnlines=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showcolumnlines");this.host.jqxGrid("showcolumnlines",e)},e.prototype.showrowlines=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showrowlines");this.host.jqxGrid("showrowlines",e)},e.prototype.showcolumnheaderlines=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showcolumnheaderlines");this.host.jqxGrid("showcolumnheaderlines",e)},e.prototype.adaptive=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("adaptive");this.host.jqxGrid("adaptive",e)},e.prototype.adaptivewidth=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("adaptivewidth");this.host.jqxGrid("adaptivewidth",e)},e.prototype.clipboard=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("clipboard");this.host.jqxGrid("clipboard",e)},e.prototype.closeablegroups=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("closeablegroups");this.host.jqxGrid("closeablegroups",e)},e.prototype.columnsmenuwidth=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsmenuwidth");this.host.jqxGrid("columnsmenuwidth",e)},e.prototype.columnmenuopening=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnmenuopening");this.host.jqxGrid("columnmenuopening",e)},e.prototype.columnmenuclosing=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnmenuclosing");this.host.jqxGrid("columnmenuclosing",e)},e.prototype.cellhover=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("cellhover");this.host.jqxGrid("cellhover",e)},e.prototype.enablekeyboarddelete=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablekeyboarddelete");this.host.jqxGrid("enablekeyboarddelete",e)},e.prototype.enableellipsis=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enableellipsis");this.host.jqxGrid("enableellipsis",e)},e.prototype.enablemousewheel=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablemousewheel");this.host.jqxGrid("enablemousewheel",e)},e.prototype.enableanimations=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enableanimations");this.host.jqxGrid("enableanimations",e)},e.prototype.enabletooltips=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enabletooltips");this.host.jqxGrid("enabletooltips",e)},e.prototype.enablehover=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablehover");this.host.jqxGrid("enablehover",e)},e.prototype.enablebrowserselection=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("enablebrowserselection");this.host.jqxGrid("enablebrowserselection",e)},e.prototype.everpresentrowposition=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowposition");this.host.jqxGrid("everpresentrowposition",e)},e.prototype.everpresentrowheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowheight");this.host.jqxGrid("everpresentrowheight",e)},e.prototype.everpresentrowactions=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowactions");this.host.jqxGrid("everpresentrowactions",e)},e.prototype.everpresentrowactionsmode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("everpresentrowactionsmode");this.host.jqxGrid("everpresentrowactionsmode",e)},e.prototype.filterrowheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filterrowheight");this.host.jqxGrid("filterrowheight",e)},e.prototype.filtermode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filtermode");this.host.jqxGrid("filtermode",e)},e.prototype.groupsrenderer=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupsrenderer");this.host.jqxGrid("groupsrenderer",e)},e.prototype.groupcolumnrenderer=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupcolumnrenderer");this.host.jqxGrid("groupcolumnrenderer",e)},e.prototype.groupsexpandedbydefault=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupsexpandedbydefault");this.host.jqxGrid("groupsexpandedbydefault",e)},e.prototype.handlekeyboardnavigation=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("handlekeyboardnavigation");this.host.jqxGrid("handlekeyboardnavigation",e)},e.prototype.pagerrenderer=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagerrenderer");this.host.jqxGrid("pagerrenderer",e)},e.prototype.rtl=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rtl");this.host.jqxGrid("rtl",e)},e.prototype.showdefaultloadelement=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showdefaultloadelement");this.host.jqxGrid("showdefaultloadelement",e)},e.prototype.showfiltercolumnbackground=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showfiltercolumnbackground");this.host.jqxGrid("showfiltercolumnbackground",e)},e.prototype.showfiltermenuitems=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showfiltermenuitems");this.host.jqxGrid("showfiltermenuitems",e)},e.prototype.showpinnedcolumnbackground=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showpinnedcolumnbackground");this.host.jqxGrid("showpinnedcolumnbackground",e)},e.prototype.showsortcolumnbackground=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showsortcolumnbackground");this.host.jqxGrid("showsortcolumnbackground",e)},e.prototype.showsortmenuitems=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showsortmenuitems");this.host.jqxGrid("showsortmenuitems",e)},e.prototype.showgroupmenuitems=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showgroupmenuitems");this.host.jqxGrid("showgroupmenuitems",e)},e.prototype.showrowdetailscolumn=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showrowdetailscolumn");this.host.jqxGrid("showrowdetailscolumn",e)},e.prototype.showheader=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showheader");this.host.jqxGrid("showheader",e)},e.prototype.showgroupsheader=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showgroupsheader");this.host.jqxGrid("showgroupsheader",e)},e.prototype.showaggregates=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showaggregates");this.host.jqxGrid("showaggregates",e)},e.prototype.showgroupaggregates=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showgroupaggregates");this.host.jqxGrid("showgroupaggregates",e)},e.prototype.showeverpresentrow=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showeverpresentrow");this.host.jqxGrid("showeverpresentrow",e)},e.prototype.showfilterrow=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showfilterrow");this.host.jqxGrid("showfilterrow",e)},e.prototype.showemptyrow=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showemptyrow");this.host.jqxGrid("showemptyrow",e)},e.prototype.showstatusbar=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showstatusbar");this.host.jqxGrid("showstatusbar",e)},e.prototype.statusbarheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("statusbarheight");this.host.jqxGrid("statusbarheight",e)},e.prototype.showtoolbar=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("showtoolbar");this.host.jqxGrid("showtoolbar",e)},e.prototype.selectionmode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("selectionmode");this.host.jqxGrid("selectionmode",e)},e.prototype.updatefilterconditions=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("updatefilterconditions");this.host.jqxGrid("updatefilterconditions",e)},e.prototype.updatefilterpanel=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("updatefilterpanel");this.host.jqxGrid("updatefilterpanel",e)},e.prototype.theme=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("theme");this.host.jqxGrid("theme",e)},e.prototype.toolbarheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("toolbarheight");this.host.jqxGrid("toolbarheight",e)},e.prototype.autoheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoheight");this.host.jqxGrid("autoheight",e)},e.prototype.autorowheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autorowheight");this.host.jqxGrid("autorowheight",e)},e.prototype.columnsheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsheight");this.host.jqxGrid("columnsheight",e)},e.prototype.deferreddatafields=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("deferreddatafields");this.host.jqxGrid("deferreddatafields",e)},e.prototype.groupsheaderheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupsheaderheight");this.host.jqxGrid("groupsheaderheight",e)},e.prototype.groupindentwidth=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupindentwidth");this.host.jqxGrid("groupindentwidth",e)},e.prototype.height=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("height");this.host.jqxGrid("height",e)},e.prototype.pagerheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagerheight");this.host.jqxGrid("pagerheight",e)},e.prototype.rowsheight=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rowsheight");this.host.jqxGrid("rowsheight",e)},e.prototype.scrollbarsize=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("scrollbarsize");this.host.jqxGrid("scrollbarsize",e)},e.prototype.scrollmode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("scrollmode");this.host.jqxGrid("scrollmode",e)},e.prototype.scrollfeedback=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("scrollfeedback");this.host.jqxGrid("scrollfeedback",e)},e.prototype.width=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("width");this.host.jqxGrid("width",e)},e.prototype.autosavestate=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autosavestate");this.host.jqxGrid("autosavestate",e)},e.prototype.autoloadstate=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("autoloadstate");this.host.jqxGrid("autoloadstate",e)},e.prototype.columns=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columns");this.host.jqxGrid("columns",e)},e.prototype.columngroups=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columngroups");this.host.jqxGrid("columngroups",e)},e.prototype.columnsmenu=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsmenu");this.host.jqxGrid("columnsmenu",e)},e.prototype.columnsresize=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsresize");this.host.jqxGrid("columnsresize",e)},e.prototype.columnsautoresize=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsautoresize");this.host.jqxGrid("columnsautoresize",e)},e.prototype.columnsreorder=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("columnsreorder");this.host.jqxGrid("columnsreorder",e)},e.prototype.disabled=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("disabled");this.host.jqxGrid("disabled",e)},e.prototype.editable=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("editable");this.host.jqxGrid("editable",e)},e.prototype.editmode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("editmode");this.host.jqxGrid("editmode",e)},e.prototype.filter=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filter");this.host.jqxGrid("filter",e)},e.prototype.filterable=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("filterable");this.host.jqxGrid("filterable",e)},e.prototype.groupable=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groupable");this.host.jqxGrid("groupable",e)},e.prototype.groups=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("groups");this.host.jqxGrid("groups",e)},e.prototype.horizontalscrollbarstep=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("horizontalscrollbarstep");this.host.jqxGrid("horizontalscrollbarstep",e)},e.prototype.horizontalscrollbarlargestep=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("horizontalscrollbarlargestep");this.host.jqxGrid("horizontalscrollbarlargestep",e)},e.prototype.initrowdetails=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("initrowdetails");this.host.jqxGrid("initrowdetails",e)},e.prototype.keyboardnavigation=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("keyboardnavigation");this.host.jqxGrid("keyboardnavigation",e)},e.prototype.localization=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("localization");this.host.jqxGrid("localization",e)},e.prototype.pagesize=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagesize");this.host.jqxGrid("pagesize",e)},e.prototype.pagesizeoptions=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagesizeoptions");this.host.jqxGrid("pagesizeoptions",e)},e.prototype.pagermode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagermode");this.host.jqxGrid("pagermode",e)},e.prototype.pagerbuttonscount=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pagerbuttonscount");this.host.jqxGrid("pagerbuttonscount",e)},e.prototype.pageable=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("pageable");this.host.jqxGrid("pageable",e)},e.prototype.rowdetails=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rowdetails");this.host.jqxGrid("rowdetails",e)},e.prototype.rowdetailstemplate=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rowdetailstemplate");this.host.jqxGrid("rowdetailstemplate",e)},e.prototype.ready=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("ready");this.host.jqxGrid("ready",e)},e.prototype.rendered=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rendered");this.host.jqxGrid("rendered",e)},e.prototype.renderstatusbar=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("renderstatusbar");this.host.jqxGrid("renderstatusbar",e)},e.prototype.rendertoolbar=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rendertoolbar");this.host.jqxGrid("rendertoolbar",e)},e.prototype.rendergridrows=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("rendergridrows");this.host.jqxGrid("rendergridrows",e)},e.prototype.sortable=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("sortable");this.host.jqxGrid("sortable",e)},e.prototype.sortmode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("sortmode");this.host.jqxGrid("sortmode",e)},e.prototype.selectedrowindex=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("selectedrowindex");this.host.jqxGrid("selectedrowindex",e)},e.prototype.selectedrowindexes=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("selectedrowindexes");this.host.jqxGrid("selectedrowindexes",e)},e.prototype.source=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("source");this.host.jqxGrid("source",e)},e.prototype.sorttogglestates=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("sorttogglestates");this.host.jqxGrid("sorttogglestates",e)},e.prototype.updatedelay=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("updatedelay");this.host.jqxGrid("updatedelay",e)},e.prototype.virtualmode=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("virtualmode");this.host.jqxGrid("virtualmode",e)},e.prototype.verticalscrollbarstep=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("verticalscrollbarstep");this.host.jqxGrid("verticalscrollbarstep",e)},e.prototype.verticalscrollbarlargestep=function(e){if(this.autoCreate&&!this.host&&this.createComponent(),void 0===e)return this.host.jqxGrid("verticalscrollbarlargestep");this.host.jqxGrid("verticalscrollbarlargestep",e)},e.prototype.autoresizecolumns=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("autoresizecolumns",e)},e.prototype.autoresizecolumn=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("autoresizecolumn",e,t)},e.prototype.beginupdate=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("beginupdate")},e.prototype.clear=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("clear")},e.prototype.destroy=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("destroy")},e.prototype.endupdate=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("endupdate")},e.prototype.ensurerowvisible=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("ensurerowvisible",e)},e.prototype.focus=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("focus")},e.prototype.getcolumnindex=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnindex",e)},e.prototype.getcolumn=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumn",e)},e.prototype.getcolumnproperty=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnproperty",e,t)},e.prototype.getrowid=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowid",e)},e.prototype.getrowdata=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowdata",e)},e.prototype.getrowdatabyid=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowdatabyid",e)},e.prototype.getrowboundindexbyid=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowboundindexbyid",e)},e.prototype.getrowboundindex=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrowboundindex",e)},e.prototype.getrows=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrows")},e.prototype.getboundrows=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getboundrows")},e.prototype.getdisplayrows=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getdisplayrows")},e.prototype.getdatainformation=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getdatainformation")},e.prototype.getsortinformation=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getsortinformation")},e.prototype.getpaginginformation=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getpaginginformation")},e.prototype.hidecolumn=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("hidecolumn",e)},e.prototype.hideloadelement=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("hideloadelement")},e.prototype.hiderowdetails=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("hiderowdetails",e)},e.prototype.iscolumnvisible=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("iscolumnvisible",e)},e.prototype.iscolumnpinned=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("iscolumnpinned",e)},e.prototype.localizestrings=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("localizestrings",e)},e.prototype.pincolumn=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("pincolumn",e)},e.prototype.refreshdata=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refreshdata")},e.prototype.refresh=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refresh")},e.prototype.render=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("render")},e.prototype.scrolloffset=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("scrolloffset",e,t)},e.prototype.scrollposition=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("scrollposition")},e.prototype.showloadelement=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showloadelement")},e.prototype.showrowdetails=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showrowdetails",e)},e.prototype.setcolumnindex=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcolumnindex",e,t)},e.prototype.setcolumnproperty=function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcolumnproperty",e,t,i)},e.prototype.showcolumn=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showcolumn",e)},e.prototype.unpincolumn=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("unpincolumn",e)},e.prototype.updatebounddata=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("updatebounddata",e)},e.prototype.updating=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("updating")},e.prototype.getsortcolumn=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getsortcolumn")},e.prototype.removesort=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removesort")},e.prototype.sortby=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("sortby",e,t)},e.prototype.addgroup=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("addgroup",e)},e.prototype.cleargroups=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("cleargroups")},e.prototype.collapsegroup=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("collapsegroup",e)},e.prototype.collapseallgroups=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("collapseallgroups")},e.prototype.expandallgroups=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("expandallgroups")},e.prototype.expandgroup=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("expandgroup",e)},e.prototype.getrootgroupscount=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getrootgroupscount")},e.prototype.getgroup=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getgroup",e)},e.prototype.insertgroup=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("insertgroup",e,t)},e.prototype.iscolumngroupable=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("iscolumngroupable")},e.prototype.removegroupat=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removegroupat",e)},e.prototype.removegroup=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removegroup",e)},e.prototype.addfilter=function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("addfilter",e,t,i)},e.prototype.applyfilters=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("applyfilters")},e.prototype.clearfilters=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("clearfilters")},e.prototype.getfilterinformation=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getfilterinformation")},e.prototype.getcolumnat=function(e){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnat",e)},e.prototype.removefilter=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("removefilter",e,t)},e.prototype.refreshfilterrow=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refreshfilterrow")},e.prototype.gotopage=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("gotopage",e)},e.prototype.gotoprevpage=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("gotoprevpage")},e.prototype.gotonextpage=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("gotonextpage")},e.prototype.addrow=function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("addrow",e,t,i)},e.prototype.begincelledit=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("begincelledit",e,t)},e.prototype.beginrowedit=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("beginrowedit",e)},e.prototype.closemenu=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("closemenu")},e.prototype.deleterow=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("deleterow",e)},e.prototype.endcelledit=function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("endcelledit",e,t,i)},e.prototype.endrowedit=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("endrowedit",e,t)},e.prototype.getcell=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcell",e,t)},e.prototype.getcellatposition=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcellatposition",e,t)},e.prototype.getcelltext=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcelltext",e,t)},e.prototype.getcelltextbyid=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcelltextbyid",e,t)},e.prototype.getcellvaluebyid=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcellvaluebyid",e,t)},e.prototype.getcellvalue=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcellvalue",e,t)},e.prototype.isBindingCompleted=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("isBindingCompleted")},e.prototype.openmenu=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("openmenu",e)},e.prototype.setcellvalue=function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcellvalue",e,t,i)},e.prototype.setcellvaluebyid=function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("setcellvaluebyid",e,t,i)},e.prototype.showvalidationpopup=function(e,t,i){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("showvalidationpopup",e,t,i)},e.prototype.updaterow=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("updaterow",e,t)},e.prototype.clearselection=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("clearselection")},e.prototype.getselectedrowindex=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedrowindex")},e.prototype.getselectedrowindexes=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedrowindexes")},e.prototype.getselectedcell=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedcell")},e.prototype.getselectedcells=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getselectedcells")},e.prototype.selectcell=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("selectcell",e,t)},e.prototype.selectallrows=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("selectallrows")},e.prototype.selectrow=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("selectrow",e)},e.prototype.unselectrow=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("unselectrow",e)},e.prototype.unselectcell=function(e,t){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("unselectcell",e,t)},e.prototype.getcolumnaggregateddata=function(e,t){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getcolumnaggregateddata",e,t)},e.prototype.refreshaggregates=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("refreshaggregates")},e.prototype.renderaggregates=function(){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("renderaggregates")},e.prototype.exportdata=function(e,t,i,r,s,o,l){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("exportdata",e,t,i,r,s,o,l)},e.prototype.getstate=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("getstate")},e.prototype.loadstate=function(e){this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("loadstate",e)},e.prototype.savestate=function(){return this.autoCreate&&!this.host&&this.createComponent(),this.host.jqxGrid("savestate")},e.prototype.__wireEvents__=function(){var e=this;this.host.on("bindingcomplete",function(t){e.onBindingcomplete.emit(t)}),this.host.on("columnresized",function(t){e.onColumnresized.emit(t)}),this.host.on("columnreordered",function(t){e.onColumnreordered.emit(t)}),this.host.on("columnclick",function(t){e.onColumnclick.emit(t)}),this.host.on("cellclick",function(t){e.onCellclick.emit(t)}),this.host.on("celldoubleclick",function(t){e.onCelldoubleclick.emit(t)}),this.host.on("cellselect",function(t){e.onCellselect.emit(t)}),this.host.on("cellunselect",function(t){e.onCellunselect.emit(t)}),this.host.on("cellvaluechanged",function(t){e.onCellvaluechanged.emit(t)}),this.host.on("cellbeginedit",function(t){e.onCellbeginedit.emit(t)}),this.host.on("cellendedit",function(t){e.onCellendedit.emit(t)}),this.host.on("filter",function(t){e.onFilter.emit(t)}),this.host.on("groupschanged",function(t){e.onGroupschanged.emit(t)}),this.host.on("groupexpand",function(t){e.onGroupexpand.emit(t)}),this.host.on("groupcollapse",function(t){e.onGroupcollapse.emit(t)}),this.host.on("pagechanged",function(t){e.onPagechanged.emit(t)}),this.host.on("pagesizechanged",function(t){e.onPagesizechanged.emit(t)}),this.host.on("rowclick",function(t){e.onRowclick.emit(t)}),this.host.on("rowdoubleclick",function(t){e.onRowdoubleclick.emit(t)}),this.host.on("rowselect",function(t){e.onRowselect.emit(t)}),this.host.on("rowunselect",function(t){e.onRowunselect.emit(t)}),this.host.on("rowexpand",function(t){e.onRowexpand.emit(t)}),this.host.on("rowcollapse",function(t){e.onRowcollapse.emit(t)}),this.host.on("sort",function(t){e.onSort.emit(t)})},e}()},Pa1p:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var r=t[i];if(r){var s=this.getboundindex(r);void 0!=s&&(this.selectedrowindexes[i]=s)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1,this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;this._checkboxcolumn.checkboxelement.jqxCheckBox(i===t?{checked:!0}:0===i?{checked:!1}:{checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||void 0==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var r=t[i],s=0;s<this.columns.records.length;s++)"_checkboxcolumn"!==this.columns.records[s].datafield&&e.push({rowindex:r,datafield:this.columns.records[s].datafield});return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],s=e.getcolumn(r.datafield),o=e.getcellvalue(r.rowindex,r.datafield);if(s&&""!==o){var l=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(l=!1)),e._raiseEvent(17,{rowindex:r.rowindex,datafield:r.datafield,value:o}),i==t.length-1?(e.setcellvalue(r.rowindex,r.datafield,l,!0),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,l,!0)):(e.setcellvalue(r.rowindex,r.datafield,l,!1),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,l,!0)),e._raiseEvent(18,{rowindex:r.rowindex,datafield:r.datafield,oldvalue:o,value:l})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var e="",t=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var r=t.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(r=this._getcellsforcopypaste());var s=new Array;if(null!=r&&r.length>0){for(var o=999999999999999,l=-1,a=0;a<r.length;a++){var n=r[a],d=t.getcolumn(n.datafield);if(null!=d&&d.clipboard&&(!d.hidden||this.copytoclipboardhiddencolumns)){-1==s.indexOf(d.text)&&s.push(d.text);var h=t.getcelltext(n.rowindex,d.displayfield),c=this.getrowdisplayindex(n.rowindex);this.clipboardselection[c]||(this.clipboardselection[c]={}),this.clipboardselection[c][d.displayfield]=h,this.logicalclipboardselection[c]||(this.logicalclipboardselection[c]={}),this.logicalclipboardselection[c][d.displayfield]=h,d.displayfield!=d.datafield&&(this.logicalclipboardselection[c][d.datafield]=t.getcellvalue(n.rowindex,d.datafield)),o=Math.min(o,c),l=Math.max(l,c)}}for(var u=new Array,p=o;p<=l;p++)if(this.logicalclipboardselection[p]){var g=i.extend({},this.logicalclipboardselection[p]);u.push(g)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var f=0;f<s.length;f++)f>0&&(e+="\t"),e+=s[f];e+="\r\n"}for(p=o;p<=l;p++){var m=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[p]&&(i.each(this.clipboardselection[p],function(i,r){m>0&&(e+="\t");var s=r;null==r&&(s=""),t._clipboardselection[t._clipboardselection.length-1][m]=s,m++,e+=s}),p<l&&(e+="\r\n"))}}return this.clipboardselectedtext=e,e},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=this.getrowdisplayindex(e[0].rowindex),i=this._getcolumnindex(e[0].datafield);this.selectedrowindexes=new Array,this.selectedcells=new Array;var r=0,s=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var o=0;o<this._clipboardselection.length;o++){r+=this._clipboardselection[o].length,s[o]=new Array;for(var l=0;l<this._clipboardselection[o].length;l++)s[o].push(c=this._clipboardselection[o][l])}if(r<e.length){var a=new Array;for(o=0;o<e.length;o++)a[(v=e[o]).rowindex]||(a[v.rowindex]=new Array),a[v.rowindex].push(v);var n=0,d=0;for(o=0;o<a.length;o++)if(a[o]){for(l=0;l<a[o].length;l++){var h=(v=a[o][l]).rowindex;if("_checkboxcolumn"!==(m=this.getcolumn(v.datafield)).datafield&&!m.hidden){var c="";if(void 0==s[n][d]&&(d=0),c=s[n][d],d++,m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){c.indexOf(this.gridlocalization.currencysymbol)>-1&&(c=c.replace(this.gridlocalization.currencysymbol,"")),(c=(c=function(e,t,i){var r=c;if(""==t)return c;for(var s=r.indexOf(t);-1!=s;)s=(r=r.replace(t,"")).indexOf(t);return r}(0,this.gridlocalization.thousandsseparator)).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(c=c.replace(this.gridlocalization.percentsymbol,""));for(var u="",p=0;p<c.length;p++)"-"===(w=c.substring(p,p+1))&&(u+="-"),"."===w&&(u+="."),null!=w.match(/^[0-9]+$/)&&(u+=w);c=(c=u).replace(/ /g,""),c=new Number(c),isNaN(c)&&(c="")}this._raiseEvent(17,{rowindex:h,datafield:v.datafield,value:c}),this.setcellvalue(h,m.displayfield,c,!1),m.displayfield!=m.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[h]&&void 0!=(x=this.logicalclipboardselection[h][m.datafield])&&this.setcellvalue(h,m.datafield,x,!1),this._raiseEvent(18,{rowindex:h,datafield:v.datafield,oldvalue:this.getcellvalue(v.rowindex,v.datafield),value:c}),this._applycellselection(h,v.datafield,!0,!1)}}d=0,s[++n]||(n=0)}}else{if(!this._clipboardselection)return;for(var g=0;g<this._clipboardselection.length;g++)for(var f=0;f<this._clipboardselection[g].length;f++){var m;if((m=this.getcolumnat(i+f))&&"_checkboxcolumn"!==m.datafield&&!m.hidden){h=this.getrowboundindex(t+g);var v=this.getcell(h,m.datafield);if(c=null,null!=(c=this._clipboardselection[g][f])){if(m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){for(c.indexOf(this.gridlocalization.currencysymbol)>-1&&(c=c.replace(this.gridlocalization.currencysymbol,"")),(c=(c=function(e,t,i){var r=c;if(""==t)return c;for(var s=r.indexOf(t);-1!=s;)s=(r=r.replace(t,"")).indexOf(t);return r}(0,this.gridlocalization.thousandsseparator)).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(c=c.replace(this.gridlocalization.percentsymbol,"")),u="",p=0;p<c.length;p++){var w;"-"===(w=c.substring(p,p+1))&&(u+="-"),"."===w&&(u+="."),null!=w.match(/^[0-9]+$/)&&(u+=w)}c=(c=u).replace(/ /g,""),c=new Number(c),isNaN(c)&&(c="")}var x;this._raiseEvent(17,{rowindex:h,datafield:v.datafield,value:c}),this.setcellvalue(h,m.displayfield,c,!1),m.displayfield!=m.datafield&&this.logicalclipboardselection&&void 0!=(x=this.logicalclipboardselection[g][m.datafield])&&this.setcellvalue(h,m.datafield,x,!1),this._raiseEvent(18,{rowindex:h,datafield:v.datafield,oldvalue:this.getcellvalue(v.rowindex,v.datafield),value:c}),this._applycellselection(h,v.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,r,s){if(null==e)return!1;var o=this.selectedrowindex;if("singlerow"==this.selectionmode&&(this._raiseEvent(t?2:3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:o}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==r&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var l=this.getrowdata(e);l&&void 0!==l.dataindex?e=l.dataindex:l&&void 0===l.dataindex&&void 0!=l.uid&&(e=this.getrowboundindexbyid(l.uid))}var a=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==a?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(a>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var n=this.selectedrowindexes[a];this.selectedrowindexes.splice(a,1),this._raiseEvent(3,{rowindex:n,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(void 0==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,r){if(null==e)return!1;if(null==t)return!1;var s;"singlecell"==this.selectionmode&&(null!=(s=this.selectedcell)&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield}),this.selectedcells=new Array),"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(s=this.selectedcell)&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield});var o=e+"_"+t;if(this.dataview.filters.length>0){var l=this.getrowdata(e);l&&void 0!==l.dataindex?o=(e=l.dataindex)+"_"+t:l&&void 0===l.dataindex&&l.uid&&(o=(e=this.getrowboundindexbyid(l.uid))+"_"+t)}var a={rowindex:e,datafield:t};return i?(this.selectedcell=a,this.selectedcells[o]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)):(this.selectedcells[o]=a,this.selectedcells.length++,this._raiseEvent(15,a))):(delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,a)),(void 0==r||r)&&this._rendervisualrows(),!0},_getcellindex:function(e){var t=-1;return i.each(this.selectedcells,function(){if(t++,this[e])return!1}),t},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var e=this.table[0].rows.length,t=this.table[0].rows,r=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),o=this.toTP("jqx-grid-cell-hover"),l=this.toTP("jqx-fill-state-hover"),a=0;a<e;a++)for(var n=t[a],d=n.cells.length,h=n.cells,c=0;c<d;c++){var u=h[c],p=i(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(r),p.removeClass(s)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(o),p.removeClass(l))}},_selectpath:function(e,t){var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(i<=r){var s=this._getcolumnindex(this._lastClickedCell.column),o=this._getcolumnindex(t),l=Math.min(s,o),a=Math.max(s,o);this.selectedcells=new Array;for(var n=this.dataview.loadedrecords,d=i;d<=r;d++)for(var h=l;h<=a;h++)this._applycellselection(this.getboundindex(e=n[d]),this._getcolumnat(h).datafield,!0,!1);this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,r=this.dataview.loadedrecords;if(t<=i){this.selectedrowindexes=new Array;for(var s=t;s<=i;s++){e=r[s];var o=this.getrowboundindex(s);this._applyrowselection(o,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,r,s,o){if(void 0!=(w=t.row)){var l=t.index;if(void 0!=this.hittestinfo[l]){var a=this.hittestinfo[l].visualrow;if(!this.hittestinfo[l].details&&!w.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==o||1==s)){var n=this.getboundindex(w);if(this.dataview.filters.length>0){var d=this.getrowdata(n);d&&void 0==(n=d.dataindex)&&(n=this.getboundindex(w))}var h=-1!=i.indexOf(n),c=this.getboundindex(w)+"_"+r;if(-1!=this.selectionmode.indexOf("cell")){if(this._selectcellwithstyle(e,void 0==this.selectedcells[c]||!(void 0!=this.selectedcells[c]),l,r,a),o&&void 0==this._lastClickedCell){var u=this.getselectedcells();u&&u.length>0&&(this._lastClickedCell={row:u[0].rowindex,column:u[0].datafield})}o&&this._lastClickedCell&&(this._selectpath(w.visibleindex,r),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(h?s?this._applyrowselection(this.getboundindex(w),!1):this._selectrowwithstyle(e,a,!1,r):this._selectrowwithstyle(e,a,!0,r),o&&void 0==this._lastClickedCell){var p=this.getselectedrowindexes();p&&p.length>0&&(this._lastClickedCell={row:p[0],column:r})}if(o&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,w.visibleindex):0,f=this._lastClickedCell?Math.max(this._lastClickedCell.row,w.visibleindex):0,m=this.dataview.loadedrecords,v=g;v<=f;v++){var w;(w=m[v])&&this._applyrowselection(this.getboundindex(w),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,a,!0,r),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,l,r,a);o||(this._lastClickedCell={row:w.visibleindex,column:r})}}}},_selectcellwithstyle:function(e,t,r,s,o){var l=i(o.cells[e._getcolumnindex(s)]);l.removeClass(this.toTP("jqx-grid-cell-hover")),l.removeClass(this.toTP("jqx-fill-state-hover")),t?(l.addClass(this.toTP("jqx-grid-cell-selected")),l.addClass(this.toTP("jqx-fill-state-pressed"))):(l.removeClass(this.toTP("jqx-grid-cell-selected")),l.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(e,t,r,s){var o=t.cells.length,l=0;e.rowdetails&&e.showrowdetailscolumn?this.rtl?(o-=1,o-=this.groups.length):l=1+this.groups.length:this.groupable&&(this.rtl?o-=this.groups.length:l=this.groups.length);for(var a=l;a<o;a++){var n=t.cells[a];r?(i(n).removeClass(this.toTP("jqx-grid-cell-hover")),i(n).removeClass(this.toTP("jqx-fill-state-hover")),-1==e.selectionmode.indexOf("cell")&&(i(n).addClass(this.toTP("jqx-grid-cell-selected")),i(n).addClass(this.toTP("jqx-fill-state-pressed")))):(i(n).removeClass(this.toTP("jqx-grid-cell-hover")),i(n).removeClass(this.toTP("jqx-grid-cell-selected")),i(n).removeClass(this.toTP("jqx-fill-state-hover")),i(n).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(e,t){if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==t.selectionmode||"multiplecellsextended"==t.selectionmode||"multiplecellsadvanced"==t.selectionmode)&&t.mousecaptured){if(t.multipleselectionbegins&&!1===t.multipleselectionbegins(e))return!0;var r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;s+=this.showtoolbar?this.toolbar.height():0;var o=this.host.coord();if(this.hasTransform){o=i.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();o.left-=l.left,o.top-=l.top}"0px"===this.host.css("border-top-width")&&(s-=2);var a=e.pageX,n=e.pageY-s;if(Math.abs(this.mousecaptureposition.left-a)>3||Math.abs(this.mousecaptureposition.top-n)>3){parseInt(this.columnsheader.coord().top),this.hasTransform&&i.jqx.utilities.getOffset(this.columnsheader),a<o.left&&(a=o.left),a>o.left+this.host.width()&&(a=o.left+this.host.width());var d=o.top+r;n<d&&(n=d+5);var h=parseInt(Math.min(t.mousecaptureposition.left,a)),c=-5+parseInt(Math.min(t.mousecaptureposition.top,n)),u=parseFloat(Math.abs(t.mousecaptureposition.left-a)),p=parseInt(Math.abs(t.mousecaptureposition.top-n));if(h-=o.left,c-=o.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==t.selectionmode){var g=(a=h)+u,f=t.hScrollInstance,m=f.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(m=f.max-f.value);var v=t.table[0].rows[0],w=0,x=t.mousecaptureposition.clickedcell,b=x,y=!1,_=0,q=v.cells.length;t.mousecaptureposition.left<=e.pageX&&(_=x);for(var j=!1,C=_;C<q;C++){var k=parseFloat(i(this.columnsrow[0].cells[C]).css("left")),z=k-m;if(!t.columns.records[C].pinned||t.columns.records[C].hidden){if(j){y=!0,b--;break}var I=this._getcolumnat(C);if(!(null!=I&&I.hidden||t.groupable&&t.groups.length>0&&C<t.groups.length))if(T=z+i(this.columnsrow[0].cells[C]).width(),t.mousecaptureposition.left>e.pageX){if(T>=a&&a>=z){b=C,y=!0;break}}else if(T>=g&&g>=z){b=C,y=!0;break}}else{C==x&&(j=!0);var T=k+i(this.columnsrow[0].cells[C]).width();if(t.mousecaptureposition.left>e.pageX){if(T>=a&&a>=z){b=C,y=!0;break}}else if(T>=g&&g>=z){b=C,y=!0;break}}}y||(t.mousecaptureposition.left>e.pageX?i.each(this.columns.records,function(e,i){return!!(t.groupable&&t.groups.length>0&&e<t.groups.length)||(this.pinned||this.hidden?void 0:(b=e,!1))}):(!t.groupable||t.groupable&&!t.groups.length>0)&&(b=v.cells.length-1));var D=x;x=Math.min(x,b),b=Math.max(D,b),c+=5,c+=s,t.table[0].rows.indexOf(t.mousecaptureposition.clickedrow);var S=0,B=-1,P=-1,L=0;for(C=0;C<t.table[0].rows.length;C++){var H=i(t.table[0].rows[C]);0==C&&(L=H.coord().top);var G=H.height(),A=L-o.top;if(-1==B&&A+G>=c){for(var E=!1,O=0;O<t.groups.length;O++)if(-1!=(M=H[0].cells[O].className).indexOf("jqx-grid-group-collapse")||-1!=M.indexOf("jqx-grid-group-expand")){E=!0;break}if(E)continue;B=C}if(L+=G,t.groupable&&t.groups.length>0){for(E=!1,O=0;O<t.groups.length;O++){var M;if(-1!=(M=H[0].cells[O].className).indexOf("jqx-grid-group-collapse")||-1!=M.indexOf("jqx-grid-group-expand")){E=!0;break}}if(E)continue;w=0;for(var N=t.groups.length;N<H[0].cells.length;N++)""==i(H[0].cells[N]).html()&&w++;if(w==H[0].cells.length-t.groups.length)continue}if(-1!=B&&(S+=G),A+G>c+p){P=C;break}}if(-1!=B){c=i(t.table[0].rows[B]).coord().top-o.top-s-2;var F=0;this.filterable&&this.showfilterrow&&(F=this.filterrowheight),parseFloat(t.table[0].style.top)<0&&c<this.rowsheight+F&&(c-=parseFloat(t.table[0].style.top),S+=parseFloat(t.table[0].style.top)),p=S;var R=i(this.columnsrow[0].cells[x]),W=i(this.columnsrow[0].cells[b]);if(h=parseFloat(R.css("left")),u=parseFloat(W.css("left"))-parseFloat(h)+W.width()-2,h-=m,j&&(h+=m),t.editcell&&t.editable&&t.endcelledit&&(x!=b||B!=P)){if(0==t.editcell.validated)return;t.endcelledit(t.editcell.row,t.editcell.column,!0,!0)}}}this.selectionarea.width(u),this.selectionarea.height(p),this.selectionarea.css("left",h),this.selectionarea.css("top",c)}}},_handlemouseupselection:function(e,t){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return t.mousecaptured=!1,!0;if(t.mousecaptured&&("multiplerowsextended"==t.selectionmode||"multiplerowsadvanced"==t.selectionmode||"multiplecellsextended"==t.selectionmode||"multiplecellsadvanced"==t.selectionmode)&&(t.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(s-=2),s+=this.showtoolbar?this.toolbar.height():0;var o=this.selectionarea.coord(),l=this.host.coord();this.hasTransform&&(l=i.jqx.utilities.getOffset(this.host),o=i.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(s-=2);var a=o.left-l.left,n=o.top-r-l.top-s,d=n,h=a+this.selectionarea.width(),c=a,u=new Array,p=new Array;if("multiplerowsextended"==t.selectionmode){for(;n<d+this.selectionarea.height();){var g=(b=this._hittestrow(a,n)).row;-1!=(y=b.index)&&(p[y]||(p[y]=!0,u[u.length]=b)),n+=20}d=0,i.each(u,function(){"none"!=t.selectionmode&&t._selectrowwithmouse&&(t._applyrowselection(t.getboundindex(this.row),!0,!1,!e.ctrlKey&&!e.metaKey&&0==d),d++)})}else{"multiplecellsadvanced"==t.selectionmode&&(n+=2);var f=t.hScrollInstance,m=f.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(m=f.max-f.value),"hidden"!=this.vScrollBar[0].style.visibility&&(m-=this.scrollbarsize+4));var v=t.table[0].rows[0],w=t.selectionarea.height();!e.ctrlKey&&!e.metaKey&&w>0&&(t.selectedcells=new Array);for(var x=w;n<d+x;){var b;if(b=t._hittestrow(a,n)){var y;if(g=b.row,-1!=(y=b.index)&&!p[y]){p[y]=!0;for(var _=0;_<v.cells.length;_++){var q=parseFloat(i(t.columnsrow[0].cells[_]).css("left"))-m,j=q+i(t.columnsrow[0].cells[_]).width();(c>=q&&c<=j||h>=q&&h<=j||q>=c&&q<=h)&&t._applycellselection(t.getboundindex(g),t._getcolumnat(_).datafield,!0,!1)}}n+=5}else n+=5}}t.autosavestate&&t.savestate&&t.savestate(),t._renderrows(t.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),r=this._getprevvisiblecolumn(i);null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),r=this._getnextvisiblecolumn(i);null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;e>=0;e--){var t=this.columns.records[e];if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(e,t){if(t.disabled)return!1;var r=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(t.editcell&&"multiplecellsadvanced"!=t.selectionmode)return!0;if(t.editcell&&"multiplecellsadvanced"==t.selectionmode){if(!(r>=33&&r<=40))return!0;if(e.altKey)return t._cancelkeydown=!1,!0;if(void 0!=t._cancelkeydown&&0!=t._cancelkeydown)return t._cancelkeydown=!1,!0;if("selectedrow"===t.editmode)return!0;if(t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._cancelkeydown=!1,t.editcell&&!t.editcell.validated)return t._rendervisualrows(),t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),!1}if("none"==t.selectionmode)return!0;if(t.showfilterrow&&t.filterable&&this.filterrow&&i(e.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(t.addnewrowtop&&i(e.target).ischildof(t.addnewrowtop))return!0;if(t.addnewrowbottom&&i(e.target).ischildof(t.addnewrowbottom))return!0}if(e.target.className&&e.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(t.pageable&&i(e.target).ischildof(this.pager))return!0;if(this.showtoolbar&&i(e.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&i(e.target).ischildof(this.statusbar))return!0;var s=!1;if(e.altKey)return!0;if((e.ctrlKey||e.metaKey)&&this.clipboard){var o=String.fromCharCode(r).toLowerCase();if(this.clipboardbegin){var l=null;if("c"==o?l=this.clipboardbegin("copy",this.copyselection()):"x"==o?l=this.clipboardbegin("cut",this.copyselection()):"v"==o&&(l=this.clipboardbegin("paste")),!1===l)return!1}if("c"==o||"x"==o){var a=this.copyselection();if("c"==o&&this.clipboardend&&this.clipboardend("copy"),"x"==o&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",a);else{var n=i('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');n.val(a),i("body").append(n),n.select(),setTimeout(function(){document.designMode="off",n.select(),n.remove(),t.focus()},100)}if("c"==o&&i.jqx.browser.msie)return!1;if("c"==o)return!0}else if("v"==o){var d=i('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');i("body").append(d),d.select();var h=this;return setTimeout(function(){if(h._clipboardselection=new Array,0==(e=d.val()).length&&window.clipboardData){d.val(window.clipboardData.getData("Text"));var e=d.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("\t").length>0){var r=t[i].split("\t");if(1==r.length&&i==t.length-1&&""==r[0])continue;r.length>0&&h._clipboardselection.push(r)}h.pasteselection(),d.remove(),h.focus()},100),!0}if("x"==o)return this.deleteselection(),this.host.focus(),!1}var c=Math.round(t._gettableheight()),u=Math.round(c/t.rowsheight),p=t.getdatainformation();switch(t.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var g=t.getselectedcell();if(null===g&&t.selectcell(0,t.columns.records[0].displayfield),null!=g){var f=this.getrowvisibleindex(g.rowindex),m=g.datafield,v=t._getcolumnindex(m),w=function(i,r,o,l){var a=function(i,r){var a,n=t.dataview.loadedrecords[i];if(t.groupable&&t.groups.length>0){var d=i;"up"==l&&d++,"down"==l&&d--,n=t.getdisplayrows()[d];for(var h=1,c=!0;c&&h<300&&(c=!1,"down"==l?n=t.getdisplayrows()[d+h]:"up"==l&&(n=t.getdisplayrows()[d-h]),n);){n&&n.group&&(c=!0);for(var u=n.parentItem;u;)!u||(a=u).group&&(t.expandedgroups[a.uniqueid]?t.expandedgroups[a.uniqueid].expanded:void 0)||(c=!0),u=u.parentItem;if(!c)break;h++}if(300==h&&(n=null),t.pageable){var p=!1;if(n){for(var g=0;g<t.dataview.rows.length;g++)t.dataview.rows[g].boundindex==n.boundindex&&(p=!0);p||(n=null)}}}else if(t.pageable&&(p=!1,n)){for(g=0;g<t.dataview.rows.length;g++)t.dataview.rows[g].boundindex==n.boundindex&&(p=!0);p||(t.pagerpageinput&&9===e.keyCode&&n.boundindex>t.dataview.rows[t.dataview.rows.length-1].boundindex&&(t.pagerpageinput.focus(),e.preventDefault()),t.ensurerowvisible(n))}if(void 0!=n&&null!=r){(o||void 0==o)&&t.clearselection();var f=t.getboundindex(n);return t.selectcell(f,r),t._oldselectedcell=t.selectedcell,s=!0,t.ensurecellvisible(t.groupable?f:i,r),!0}return!1};if(a(i,r)||t.groupable||(t.ensurecellvisible(i,r),a(i,r),t.virtualmode&&t.host.focus()),!(t.groupable&&t.groups.length>0))if(e.shiftKey&&9!=e.keyCode){if(("multiplecellsextended"==t.selectionmode||"multiplecellsadvanced"==t.selectionmode)&&t._lastClickedCell){t._selectpath(i,r);var n=t.getboundindex(t.dataview.loadedrecords[i]);return void(t.selectedcell={rowindex:n,datafield:r})}}else e.shiftKey||(t._lastClickedCell={row:i,column:r})},x=e.shiftKey&&"singlecell"!=t.selectionmode&&"multiplecells"!=t.selectionmode,b=function(){w(t.pageable?t.dataview.pagenum*t.dataview.pagesize:0,m,!x)},y=function(){var e=p.rowscount-1;t.pageable&&(e=t.dataview.pagenum*t.dataview.pagesize+t.dataview.rows.length-1),w(e,m,!x)},_=9==r&&!e.shiftKey,q=9==r&&e.shiftKey;if(t.rtl){var j=_;_=q,q=j}if((_||q)&&(x=!1),(_||q)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;if((B=e.ctrlKey||e.metaKey)&&37==r)null!=(I=t._getfirstvisiblecolumn(v))&&w(f,I.datafield);else if(B&&39==r){var C=t._getlastvisiblecolumn(v);null!=C&&w(f,C.datafield)}else if(39==r||_){var k=t._getnextvisiblecolumn(v);if(null!=k)w(f,k.datafield,!x);else if(_){var z=t._getfirstvisiblecolumn();r=40,m=z.displayfield}else s=!0}else{var I;if(37==r||q)if(null!=(I=t._getprevvisiblecolumn(v)))w(f,I.datafield,!x);else if(q){var T=t._getlastvisiblecolumn();r=38,m=T.displayfield}else s=!0;else 36==r?b():35==r?y():33==r?f-u>=0?(w(D=f-u,m,!x),t.pageable&&t.virtualmode&&(t.gotoprevpage(),setTimeout(function(){w(D,m,!x)},25))):b():34==r&&(p.rowscount>f+u?(w(D=f+u,m,!x),t.pageable&&t.virtualmode&&(t.gotonextpage(),setTimeout(function(){w(D,m,!x)},25))):y())}38==r&&(B?b():f>0?w(f-1,m,!x,"up"):s=!1),40==r&&(B?y():p.rowscount>f+1||t.groupable&&t.groups.length>0?w(f+1,m,!x,"down"):s=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(f=t.getselectedrowindex())||-1==f)return!0;f=this.getrowvisibleindex(f);var D,S=function(i,o,l){var a=function(e){var i,r=t.dataview.loadedrecords[e];if(t.groupable&&t.groups.length>0){"up"==l&&e++,"down"==l&&e--,r=t.getdisplayrows()[e];for(var a=1,n=!0;n&&a<300&&(n=!1,"down"==l?r=t.getdisplayrows()[e+a]:"up"==l&&(r=t.getdisplayrows()[e-a]),r);){r&&r.group&&(n=!0);for(var d=r.parentItem;d;)!d||(i=d).group&&(t.expandedgroups[i.uniqueid]?t.expandedgroups[i.uniqueid].expanded:void 0)||(n=!0),d=d.parentItem;if(!n)break;a++}if(300==a&&(r=null),t.pageable){var h=!1;if(r){for(var c=0;c<t.dataview.rows.length;c++)t.dataview.rows[c].boundindex==r.boundindex&&(h=!0);h||(r=null)}}}if(void 0!=r){var u=t.getboundindex(r),p=t.selectedrowindex;if((o||void 0==o)&&t.clearselection(),t.selectedrowindex=p,t.selectrow(u,!1),t.groupable)var g=t.ensurerowvisible(u);else g=t.ensurerowvisible(e);return(!g||t.autoheight||t.groupable)&&t._rendervisualrows(),s=!0,!0}return!1};if(a(i)||t.groupable||(t.ensurerowvisible(i),a(i),t.virtualmode&&setTimeout(function(){a(i)},25),t.virtualmode&&t.host.focus()),!(t.groupable&&t.groups.length>0))if(e.shiftKey&&9!=r){if("multiplerowsextended"==t.selectionmode&&t._lastClickedCell)return t._selectrowpath(i),void(t.selectedrowindex=t.getrowboundindex(i))}else e.shiftKey||(t._lastClickedCell={row:i},t.selectedrowindex=t.getrowboundindex(i))},B=(x=e.shiftKey&&"singlerow"!=t.selectionmode&&"multiplerows"!=t.selectionmode,b=function(){S(t.pageable?t.dataview.pagenum*t.dataview.pagesize:0,!x)},y=function(){var e=p.rowscount-1;t.pageable&&(e=t.dataview.pagenum*t.dataview.pagesize+t.dataview.rows.length-1),S(e,!x)},e.ctrlKey||e.metaKey);36==r||B&&38==r?b():35==r||B&&40==r?y():33==r?f-u>=0?(S(D=f-u,!x),t.pageable&&t.virtualmode&&(t.gotoprevpage(),setTimeout(function(){S(D,!x)},25))):b():34==r?p.rowscount>f+u?(S(D=f+u,!x),t.pageable&&t.virtualmode&&(t.gotonextpage(),setTimeout(function(){S(D,!x)},25))):y():38==r?f>0?S(f-1,!x,"up"):s=!0:40==r&&(p.rowscount>f+1||t.groupable&&t.groups.length>0?S(f+1,!x,"down"):s=!0)}return!s||(t.autosavestate&&t.savestate&&t.savestate(),!1)},_handlemousemove:function(e,t){if(!t.vScrollInstance.isScrolling()&&!t.hScrollInstance.isScrolling()){var r,s,o,l,a;if(t.enablehover||"multiplerows"==t.selectionmode){if(r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0,s+=this.showtoolbar?this.toolbarheight:0,o=this.host.coord(),this.hasTransform){o=i.jqx.utilities.getOffset(this.host);var n=this._getBodyOffset();o.left-=n.left,o.top-=n.top}l=e.pageX-o.left,a=e.pageY-r-o.top-s}if("multiplerowsextended"!=t.selectionmode&&"multiplecellsextended"!=t.selectionmode&&"multiplecellsadvanced"!=t.selectionmode||1!=t.mousecaptured){if(!t.enablehover)return!0;if(!t.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(l,a);if(d){var h=d.row,c=d.index;if((-1==this.hoveredrow||-1==c||this.hoveredrow!=c||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=c&&void 0!=h)){var u=this.hittestinfo[c].visualrow;if(null!=u&&!(this.hittestinfo[c].details||e.clientX>i(u).width()+i(u).coord().left)){var p=0,g=u.cells.length;if(t.rowdetails&&t.showrowdetailscolumn?this.rtl?(g-=1,g-=this.groups.length):p=1+this.groups.length:this.groupable&&(this.rtl?g-=this.groups.length:p=this.groups.length),0!=u.cells.length){var f=u.cells[p].className;if(!(h.group||this.selectionmode.indexOf("row")>=0&&-1!=f.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=c,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(x=p;x<g;x++)i(y=u.cells[x]).addClass(this.toTP("jqx-grid-cell-hover")),i(y).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(y,e.pageX,e.pageY);else{var m=-1,v=this.hScrollInstance,w=v.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(w=v.max-v.value);for(var x=p;x<g;x++){var b=parseInt(i(this.columnsrow[0].cells[x]).css("left"))-w;if(this.columns.records[x].pinned&&!this.rtl&&(b=parseInt(i(this.columnsrow[0].cells[x]).css("left"))),b+i(this.columnsrow[0].cells[x]).width()>=l&&l>=b){m=x;break}}if(-1!=m){var y=u.cells[m];if(this.cellhover&&this.cellhover(y,e.pageX,e.pageY),-1==y.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var _=this._getcolumnat(m);if(_&&this.editcell.row==c&&this.editcell.column==_.datafield)return}i(y).addClass(this.toTP("jqx-grid-cell-hover")),i(y).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})},SSte:function(e,t){var i;(i=jqxBaseFramework).jqx.dataview.sort=function(){this.sortby=function(e,t,r){var s=Object.prototype.toString;if(null!=t||(this.sortdata=null,"many"!==this.grid.sortmode?this.sortcache={}:this.sortcache[e]&&delete this.sortcache[e],this.grid._pagescache=new Array,this.grid._cellscache=new Array,"many"===this.grid.sortmode)){"many"===this.grid.sortmode&&(this.grid._pagescache=new Array,this.grid._cellscache=new Array),null!=t&&(t="a"==t||"asc"==t||"ascending"==t||1==t);var o=e;this.sortfield=e,this.sortfielddirection=t?"asc":"desc",null==t&&(this.sortfielddirection=null),void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var l=[],a=!1;"constructor"==o&&(o=""),this.virtualmode||null==this.sortcache[o]||"many"===this.grid.sortmode||(l=(y=this.sortcache[o])._sortdata,y.direction==t?l.reverse():(!y.direction&&t&&l.reverse(),a=!0),l.length<this.totalrecords&&(this.sortcache={},a=!1,l=[])),Object.prototype.toString="function"==typeof e?e:function(){return this[e]};var n=this.records,d="";if(this.source.datafields&&i.each(this.source.datafields,function(){if(this.name==e)return this.type&&(d=this.type),!1}),0==l.length)if(n.length){for(var h=n.length,c=0;c<h;c++)if(null!=(g=n[c])){var u=(f=g).toString();l.push({sortkey:u,value:f,index:c})}}else{var p=!1;for(obj in n){var g,f;if(void 0==(g=n[obj])){p=!0;break}l.push({sortkey:(f=g).toString(),value:f,index:obj})}p&&i.each(n,function(e,t){l.push({sortkey:t.toString(),value:t,index:e})})}if(!a)if(null==r){this._sortcolumntype=d;var m=this;l.sort(function(e,t){return m._compare(e,t,d)})}else l.sort(r);if(t||l.reverse(),Object.prototype.toString=s,this.sortdata=l,null!==t&&(this.sortcache[o]={_sortdata:l,direction:t,dataType:this._sortcolumntype,dataField:o}),"many"===this.grid.sortmode){var v=[],w=[],x=[];for(var b in this.sortcache){var y;"data"!==b&&(v.push((y=this.sortcache[b]).dataField),w.push(y.direction?"asc":"desc"),x.push(y.dataType))}if(!(v.length>0))return this.sortcache={},this.sortdata=null,void this.refresh();var _=this.multiSort(n,v,w,x);l=[],i.each(_,function(e,t){l.push({sortkey:o,value:t,index:t.boundindex})}),this.sortdata=l}this.reload(this.records,this.rows,this.filters,this.updated,!0)}else this.refresh()},this.multiSort=function(e,t,r,s,o){if(0!==e.length){for(var l=[],a=0;a<e.length;a++){var n=i.extend({},e[a]);l.push(n)}var d=!1;if(l&&l.constructor&&"ObservableArray"===l.constructor.name&&(d=!0),!(l&&l instanceof Array&&0!==l.length&&t&&!(t instanceof Array&&0===t.length)||d))throw new Error("sort: Missing or Invalid arguments!");"string"==typeof t&&(t=[t]);var h=[],c=[];void 0===r&&(r=[]);var u=function(e,t){var i;switch(t||typeof e){case"string":default:i=(new Intl.Collator).compare;break;case"date":case"time":case"datetime":case"number":case"int":case"float":i=function(e,t){return e-t};break;case"boolean":i=function(e,t){return e===t?0:!1===e?-1:1};break;case"object":e instanceof Date&&(i=function(e,t){return e.getTime()-t.getTime()})}return i};for(a=0;a<t.length;a++)h[a]=void 0===r[a]||"asc"===r[a]||"ascending"===r[a]?1:-1,c[a]=u(l[0][t[a]],s[a]);if(!o)return l.sort(function(e,i){for(var r=0;r<t.length;r++){var s=c[r](e[t[r]],i[t[r]]);if(0===s){if(t[r+1])continue;return void 0!==e._index?(e._index-i._index)*h[r]:0}return s*h[r]}if(0===t.length)return e.boundIndex<i.boundIndex?-1:e.boundIndex>i.boundIndex?1:0}),l;o(l,t,r,c)}},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(e,t,r){if(t=t.sortkey,void 0===(e=e.sortkey)&&(e=null),void 0===t&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;if(i.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return e<t?-1:e>t?1:0;case"date":case"time":return e<t?-1:e>t?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(i.jqx.dataFormat.isNumber(e)&&i.jqx.dataFormat.isNumber(t))return e<t?-1:e>t?1:0;if(i.jqx.dataFormat.isDate(e)&&i.jqx.dataFormat.isDate(t))return e<t?-1:e>t?1:0;i.jqx.dataFormat.isNumber(e)||i.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(e>t)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},i.extend(i.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var e=this.that,t=this.getsortcolumn();if("many"!==this.sortmode){if(this.sortdirection){var r=function(t,r){var s=e.getcolumn(t);s&&i.jqx.aria(s.element,"aria-sort",r.ascending?"ascending":r.descending?"descending":"none")};this._oldsortinfo&&this._oldsortinfo.column&&r(this._oldsortinfo.column,{ascending:!1,descending:!1}),r(t,this.sortdirection)}this._oldsortinfo={column:t,direction:this.sortdirection},this.sortdirection&&i.each(this.columns.records,function(r,s){var o=i.data(document.body,"groupsortelements"+this.displayfield);null==t||this.displayfield!=t?(i(this.sortasc).hide(),i(this.sortdesc).hide(),i(this.sorticon).css("visibility","hidden"),i(this.sorticon).removeClass("ascending"),i(this.sorticon).removeClass("descending"),this.element.removeAttribute("sort"),null!=o&&(o.sortasc.hide(),o.sortdesc.hide())):(e.isMaterialized()||e.isModern()?(i(this.sortasc).hide(),i(this.sortdesc).hide(),i(this.sorticon).show(),i(this.sorticon).css("visibility","inherit"),null!=o&&(o.sortasc.hide(),o.sortdesc.show()),i(this.sorticon).removeClass("ascending"),i(this.sorticon).removeClass("descending"),e.sortdirection.ascending?i(this.sorticon).addClass("ascending"):i(this.sorticon).addClass("descending")):e.sortdirection.ascending?(i(this.sortasc).show(),i(this.sortdesc).hide(),null!=o&&(o.sortasc.show(),o.sortdesc.hide())):(i(this.sortasc).hide(),i(this.sortdesc).show(),null!=o&&(o.sortasc.hide(),o.sortdesc.show())),this.element.setAttribute("sort",!0))})}else{var s=this.getsortcolumns();if(i.each(this.columns.records,function(e,t){i(this.sortasc).hide(),i(this.sortdesc).hide(),i(this.sorticon).css("visibility","hidden"),this.element.removeAttribute("sort")}),s.length>0)for(var o=0;o<s.length;o++){var l=s[o],a=this._getcolumnbydatafield(l.dataField);a.element.setAttribute("sort",!0),e.isMaterialized()||e.isModern()?(i(a.sorticon).show(),i(a.sorticon).css("visibility","inherit"),i(a.sorticon).removeClass("ascending"),i(a.sorticon).removeClass("descending"),l.ascending?i(a.sorticon).addClass("ascending"):i(a.sorticon).addClass("descending")):l.ascending?(i(a.sortasc).show(),i(a.sortdesc).hide()):!1===l.ascending&&(i(a.sortasc).hide(),i(a.sortdesc).show())}}},getsortcolumns:function(){var e=this,t=[];for(var i in e.dataview.sortcache)"data"!==i&&t.push({dataField:i,ascending:e.dataview.sortcache[i].direction});if(0===t.length)for(var r in e.sortcolumns){var s=e.sortcolumns[r];null!==s&&t.push({dataField:r,ascending:s})}return t},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,r,s){if(this._loading&&!1!==s)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),void 0!=e){var o=this.that;if(void 0==i&&null!=o.source.sortcomparer&&(i=o.source.sortcomparer),void 0===t&&(t=!0),ascending="a"==t||"asc"==t||"ascending"==t||1==t,o.sortdirection=null!=t?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1},o.sortcolumn=null!=t?e:null,o.sortcolumns||(o.sortcolumns=[]),o.sortcolumns[e]=t,o.source.sort||o.virtualmode){if(o.dataview.sortfield=e,o.dataview.sortfielddirection=null==t?"":ascending?"asc":"desc",o.source.sort&&!this._loading)return o.source.sort(e,t,o.sortcolumns),void o._raiseEvent(6,{sortinformation:o.getsortinformation()})}else o.dataview.sortby(e,t,i);if(!1===r)return;o.groupable&&o.groups.length>0?(o._render(!0,!1,!1),o._updategroupheadersbounds&&o.showgroupsheader&&o._updategroupheadersbounds(),o._postrender("sort")):(o.pageable&&o.dataview.updateview(),o._updaterowsproperties(),o.rendergridcontent(!0),o._postrender("sort")),o._raiseEvent(6,{sortinformation:o.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled)if("many"!==this.sortmode){if(e.sortable&&t.sortable){var i=t.getsortinformation();s=null,null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(s=i.sortdirection.ascending,s=t.sorttogglestates>1?1!=s&&null:!s):s=!0,t.sortby(e.displayfield,s,null)}}else if(e.sortable&&t.sortable){for(var r=t.getsortcolumns(),s=null,o=0;o<r.length;o++){var l=r[o];if(e.displayfield===l.dataField)return s=l.ascending,void t.sortby(e.displayfield,s=t.sorttogglestates>1?1!=s&&null:!s,null)}t.sortby(e.displayfield,!0,null)}}})},VoVR:function(e,t){!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.adaptivehidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else this[e.toLowerCase()]&&(i=this[e.toLowerCase()],this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i))},this._initfields=function(i){if(null!=i){var r=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),this.displayfield=e.jqx.hasProperty(i,"displayField")?e.jqx.get(i,"displayField"):this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),this.text=e.jqx.hasProperty(i,"text")?e.jqx.get(i,"text"):this.displayfield,e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"adaptivehidden")&&(this.adaptivehidden=e.jqx.get(i,"adaptivehidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+s+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={adaptive:!1,adaptivewidth:600,disabled:!1,width:600,height:400,pagerheight:40,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:32,columnsheight:32,filterrowheight:36,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,sortmode:"one",filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showrowlines:!0,showcolumnlines:!0,showcolumnheaderlines:!0,showtoolbar:!1,toolbarheight:36,showstatusbar:!1,statusbarheight:36,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:79,headerZIndex:29,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:16,autoshowcolumnsmenubutton:!0,showcolumnsactionbutton:!1,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,keyboardmenunavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===e.jqx._jqxGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.that=this;var i=this;i.pagesize=parseInt(i.pagesize),i.toolbarheight=parseInt(i.toolbarheight),i.columnsheight=parseInt(i.columnsheight),i.filterrowheight=parseInt(i.filterrowheight),i.statusbarheight=parseInt(i.statusbarheight),i.groupsheaderheight=parseInt(i.groupsheaderheight),i.detailsVisibility=new Array,i.savedArgs=t&&t.length>0?t[0]:null;var r="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+i.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(i.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(i.scrollbarsize=e.jqx.utilities.scrollBarSize),i.source){if(!i.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");i.source=new e.jqx.dataAdapter(i.source)}(h=i.source._source.datafields)&&h.length>0&&(i.editmode=i.editmode.toLowerCase(),i.selectionmode=i.selectionmode.toLowerCase())}i.host.attr("role","grid"),i.host.attr("align","left"),i.element.innerHTML=r,i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i.wrapper=i.host.find("#wrapper"+i.element.id),i.content=i.host.find("#content"+i.element.id),i.content.addClass(i.toTP("jqx-reset"));var s=i.host.find("#verticalScrollBar"+i.element.id),o=i.host.find("#horizontalScrollBar"+i.element.id);if(i.bottomRight=i.host.find("#bottomRight").addClass(i.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!s.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(i.editors=new Array,i.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:i.rtl,touchMode:i.touchmode,step:i.verticalscrollbarstep,largestep:i.verticalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.hScrollBar=o.jqxScrollBar({vertical:!1,rtl:i.rtl,touchMode:i.touchmode,step:i.horizontalscrollbarstep,largestep:i.horizontalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.addnewrow=i.host.find("#addrow"),i.addnewrow[0].id="addrow"+i.element.id,i.addnewrow.addClass(i.toTP("jqx-widget-header")),i.pager=i.host.find("#pager"),i.pager[0].id="pager"+i.element.id,i.toolbar=i.host.find("#toolbar"),i.toolbar[0].id="toolbar"+i.element.id,i.toolbar.addClass(i.toTP("jqx-grid-toolbar")),i.toolbar.addClass(i.toTP("jqx-widget-header")),i.statusbar=i.host.find("#statusbar"),i.statusbar[0].id="statusbar"+i.element.id,i.statusbar.addClass(i.toTP("jqx-grid-statusbar")),i.statusbar.addClass(i.toTP("jqx-widget-header")),i.pager.addClass(i.toTP("jqx-grid-pager")),i.pager.addClass(i.toTP("jqx-widget-header")),i.groupsheader=i.host.find("#groupsheader"),i.groupsheader.addClass(i.toTP("jqx-grid-groups-header")),i.groupsheader.addClass(i.toTP("jqx-widget-header")),i.groupsheader[0].id="groupsheader"+i.element.id,i.vScrollBar.css("visibility","hidden"),i.hScrollBar.css("visibility","hidden"),i.vScrollInstance=e.data(i.vScrollBar[0],"jqxScrollBar").instance,i.hScrollInstance=e.data(i.hScrollBar[0],"jqxScrollBar").instance,i.gridtable=null,i.isNestedGrid=!!i.host.parent()&&299==i.host.parent().css("z-index"),i.touchdevice=i.isTouchDevice(),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1)),i.rowdetailstemplate&&(void 0==i.rowdetailstemplate.rowdetails&&(i.rowdetailstemplate.rowdetails="<div></div>"),void 0==i.rowdetailstemplate.rowdetailsheight&&(i.rowdetailstemplate.rowdetailsheight=200),void 0==i.rowdetailstemplate.rowdetailshidden&&(i.rowdetailstemplate.rowdetailshidden=!0)),i.showfilterrow&&!i.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(i.autorowheight&&!i.autoheight&&!i.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(i.virtualmode&&null==i.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(i.virtualmode&&!i.pageable&&i.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!i._testmodules()){if(i._builddataloadelement(),i._cachedcolumns=i.columns,i.columns&&i.columns.length>i.headerZIndex&&(i.headerZIndex=i.columns.length+100),i.theme&&i.theme.indexOf("material")>=0){var l=e("<span>Test</span>"),a=e("<span>Test</span>");l.addClass(i.toTP("jqx-grid-row-cell")),a.addClass(i.toTP("jqx-grid-column-header-cell")),i.host.append(l),i.host.append(a);var n=l.outerHeight(),d=a.outerHeight();n>this.rowsheight&&(i.rowsheight=n,this._cellheight=n),d>this.columnsheight&&(i.columnsheight=d,this._columnHeight=d),l.remove(),a.remove()}var h;if(31!=i.rowsheight&&i._measureElement("cell"),(32!=i.columnsheight||i.columngroups)&&i._measureElement("column"),i.source&&(null==(h=i.source.datafields)&&i.source._source&&(h=i.source._source.datafields),h))for(var c=0;c<i.columns.length;c++)if((a=i.columns[c])&&a.cellsformat&&a.cellsformat.length>2)for(var u=0;u<h.length;u++)if(h[u].name==a.datafield&&!h[u].format){h[u].format=a.cellsformat;break}i.databind(i.source),i.showtoolbar&&i.toolbar.css("visibility","inherit"),i.showstatusbar&&i.statusbar.css("visibility","inherit"),i._arrange(),i.pageable&&i._initpager&&i._initpager(),i.tableheight=null;var p=i.that,g=function(){p.content&&(p.content[0].scrollTop=0,p.content[0].scrollLeft=0),p.gridcontent&&(p.gridcontent[0].scrollLeft=0,p.gridcontent[0].scrollTop=0)};i.addHandler(i.content,"mousedown",function(){g()}),i.addHandler(i.content,"scroll",function(e){return g(),!1}),i.showfilterrow||(i.showstatusbar||i.showtoolbar||i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect")),i.enablebrowserselection&&(i.content.removeClass("jqx-disableselect"),i.host.removeClass("jqx-disableselect")),i._resizeWindow(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.hasTransform=e.jqx.utilities.hasTransform(i.host),"logical"==i.scrollmode&&(i.vScrollInstance.thumbStep=i.rowsheight,i.vScrollInstance.step=i.rowsheight),e.jqx.isHidden(i.host)||(i.filterable||i.groupable||i.sortable)&&i._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var r=e(window).width(),s=e(window).height(),o=t.host.width(),l=t.host.height();if(t.pageable){var a=t.host.find(".jqx-grid-pager-input");r<350?a.hide():a.show()}if(t.autoheight&&(t._lastHostWidth=s),t._lastHostWidth!=o||t._lastHostHeight!=l){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=o,t._lastHostHeight!=l)}t._lastWidth=r,t._lastHeight=s,t._lastHostWidth=o,t._lastHostHeight=l});var i=t.host.width(),r=t.host.height();t._lastHostWidth=i,t._lastHostHeight=r}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,r=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(r(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(r(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(r(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(r(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(r(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(r(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(r(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(r(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(r(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(r(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[],o=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||s.numberinput||(s.numberinput=!0,r(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||s.datetimeinput?i.host.jqxCalendar||s.calendar||(r(),t+=" jqxcalendar.js"):(r(),s.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||s.combobox?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&o("dropdownlist");for(var l=0;l<this.columns.length;l++){var a;void 0!=this.columns[l]&&(o(a=this.columns[l].columntype),this.filterable&&this.showfilterrow&&("checkedlist"!=(a=this.columns[l].filtertype)&&"bool"!=a||o("checkbox"),"date"==a&&o("datetimeinput")))}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var r=this.that;r._newmax=null;var s=r.host.width(),o=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=o),r._resizeTimer&&clearTimeout(r._resizeTimer),r._resizeTimer=setTimeout(function(){if(r.resizingGrid=!0,!e.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),d!=r._oldHeight||1==i){var o=r.groupable&&r.groups.length>0,l=r.vScrollBar.css("visibility");if(!r.autoheight){if(r.virtualmode&&(r._pageviews=new Array),o||r.rowdetails||r.pageable){r._arrange(),r.prerenderrequired=!0,d=Math.round(r.host.height())+2*r.rowsheight,realheight=r._gettableheight();var a=Math.round(d/r.rowsheight),n=Math.max(r.dataview.totalrows,r.dataview.totalrecords);r.pageable&&(n=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?n=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(n=Math.max(r.dataview.totalrows,r.dataview.totalrecords))),r._getpagesize(),!r.pageable&&r.autoheight&&(a=n),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=a),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)}else{r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight();var d=Math.round(r.host.height())+2*r.rowsheight;parseInt(d)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo),r.rtl&&(r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}l!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}}if(s!=r._oldWidth||1==t){var h=!1;if(r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(h=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"))return r.editcell.editor.jqxDropDownList({openDelay:0}),r.editcell.editor.jqxDropDownList("open"),void r.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(h=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"))return r.editcell.editor.jqxComboBox({openDelay:0}),r.editcell.editor.jqxComboBox("open"),void r.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(h)return h=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding"),r.editcell.editor.jqxDateTimeInput({openDelay:0}),r.editcell.editor.jqxDateTimeInput("open"),void r.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=r.hScrollBar.css("visibility");r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths(),0==t&&r._oldWidth>s||i&&0!=r.dataview.rows.length||r._renderrows(r.virtualsizeinfo),c!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0)}r._oldWidth=s,r._oldHeight=d,r.resizingGrid=!1}},5)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t._overlayElement.css("visibility",t.editcell?"hidden":"visible")}),this.addHandler(this.host,r,function(){t._overlayElement.css("visibility",t.editcell?"hidden":"visible")})))}},_rendercelltexts:function(){if("12F129D4-0E1B-44B8-9BBB-BB4CF78CC6BA"!==e.jqx.credits){var t="www.jqwidgets.com";if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),r=String.fromCharCode(72,84,84,80,58,47,47),s=document.createElement(i);s.id=e.jqx.utilities.createId(),s.innerHTML=t,s.style.position="absolute",s.style.right="5px",s.style.bottom="5px",s.style.color="#909090",s.style.cursor="pointer",s.style.zIndex="999999",s.style.display="none",s.style.fontSize="9px",s.onmousedown=function(){open(r+t)},this.content[0].appendChild(s),this._gridRenderElement=s}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);if(t.okstring&&(this.gridlocalization.okstring=t.okstring),t.cancelstring&&(this.gridlocalization.cancelstring=t.cancelstring),t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),void 0!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),void 0!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),!1!==i){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var r in this._filterrowcache)e(this._filterrowcache[r]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter ",okstring:"Ok",cancelstring:"Cancel"}},_getmenudefaultheight:function(){var t=this,i=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i+=2);var r=i*t._measureMenuElement()+9;return t.filterable&&!t.showfilterrow&&t.showfiltermenuitems&&(r+=194,e.jqx.browser.msie&&e.jqx.browser.version<8&&(r+=20)),r},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div tabindex=0 id="gridmenu'+this.element.id+'" style="z-index: 99;"></div>'),this.host.append(this.gridmenu);var r=e("<ul></ul>"),s=e('<li class="'+i+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),o=e('<li class="'+i+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),l=e('<li class="'+i+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),a='<div class="jqx-grid-groupby-icon"></div>',n=e('<li class="'+i+'">'+a+this.gridlocalization.groupbystring+"</li>"),d=e('<li class="'+i+'">'+a+this.gridlocalization.groupremovestring+"</li>"),h=e('<li type="separator"></li>'),c=e('<li class="filter '+i+'" style="height: 194px;" ignoretheme="true"><div class="filter"></div></li>'),u=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>u&&(u=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>u&&(u=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>u&&(u=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>u&&(u=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring));var g=200;p=e.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var f=e("<span>"+p+"</span>");f.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(f),g=f.outerWidth()+60,f.remove();var m=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(r.append(s),this.menuitemsarray[0]=s[0],r.append(o),this.menuitemsarray[1]=o[0],r.append(l),this.menuitemsarray[2]=l[0],m=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(r.append(n),this.menuitemsarray[3]=n[0],r.append(d),this.menuitemsarray[4]=d[0],m+=2);var v=m*this._measureMenuElement()+9,w=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=c[0],this.menuitemsarray[6]=c[0],r.append(h),r.append(c),v+=194,e.jqx.browser.msie&&e.jqx.browser.version<8&&(v+=20),this.isTouchDevice()&&(v+=30);var x=e(c).find("div:first");this.excelfilterpanel=e("<div></div>"),this.filterpanel=x,this.filtermenu=e(c),g+=20,this.adaptive&&this.element.offsetWidth<this.adaptivewidth&&(g=this.element.offsetWidth-50),this._initfilterpanel(this,x,"",g),this._initfilterpanel(this,this.excelfilterpanel,"",g,!0),w=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(r),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",49),e("#listBoxfilter2"+this.element.id).css("z-index",49),e("#listBoxfilter3"+this.element.id).css("z-index",49),e("#gridmenu"+this.element.id).css("z-index",50),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",49)})),void 0==this.menuitemsarray[0]&&(v=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){var r=e(t.gridmenu.find(".jqx-item")).toArray(),s=function(e){for(var t=r.indexOf(e)-1;t>=0;t--)if(!(r[t].className.indexOf("disabled")>=0))return r[t];return e},o=function(e){for(var t=r.indexOf(e)+1;t<r.length;t++)if(!(r[t].className.indexOf("disabled")>=0))return r[t];return e},l=function(){var e=r[r.length-1];return e.className.indexOf("disabled")>=0?s(e):e},a=function(t){e(r).removeClass("jqx-fill-state-focus");for(var i=0;i<r.length;i++)r[i].active=!1;t&&(e(t).addClass("jqx-fill-state-focus"),t.active=!0)};if((n=function(){for(var e=0;e<r.length;e++)if(r[e].active)return r[e];return null})()||t.filterable||(r[0].active=!0),t.keyboardmenunavigation&&t.keyboardnavigation){if(40===i.keyCode){var n=n();a(o(n))}else 38===i.keyCode&&(n=n(),a(s(n)));if(9===i.keyCode){if(!n())return i.shiftKey&&(document.activeElement===e.find("#filter1"+t.element.id)[0]?(a(l()),e(e.find("#filter1"+t.element.id)).removeClass("jqx-fill-state-focus"),t.gridmenu.focus(),i.stopPropagation(),i.preventDefault()):document.activeElement===e.find("#filter1"+t.element.id+"ex")[0]&&(a(l()),e(e.find("#filter1"+t.element.id)+"ex").removeClass("jqx-fill-state-focus"),t.gridmenu.focus(),i.stopPropagation(),i.preventDefault())),!0;i.shiftKey?(n=n(),a(s(n)),i.stopPropagation(),i.preventDefault()):((n=n())===l()&&t.filterable&&!t.showfilterrow?(a(null),e(e.find("#filter1"+t.element.id)).length>0?e(e.find("#filter1"+t.element.id)).jqxDropDownList("focus"):e(e.find("#filter1"+t.element.id+"ex")).length>0&&e(e.find("#filter1"+t.element.id+"ex")).jqxListBox("focus")):a(o(n)),i.stopPropagation(),i.preventDefault())}}if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode){if(r=t.gridmenu.find(".jqx-item"),n=n())e(n).trigger("click"),a(null);else if(t._buildfilter&&t.filterable&&!t.showfilterrow){if(e.find("#filter1"+t.element.id).length>0)var d="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),h="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),u="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display");var p=e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus"),g=e(e.find("#filterbutton"+t.element.id)).hasClass("jqx-fill-state-focus");if(p){var f=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,f),t.gridmenu.jqxMenu("close")}else!g||d||h||u||(f=e.data(document.body,"contextmenu"+t.element.id).column,t.gridmenu.jqxMenu("close"),t._buildfilter(t,c,f))}t.clearselection();var m=t.getdisplayrows()[0];if(m){var v=t.getboundindex(m);t.selectionmode.indexOf("cell")>=0?t.selectcell(v,t.columns.records[0].displayfield):t.selectrow(v)}}}),"auto"!=this.popupwidth&&(g=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:1e3,width:g,height:v,autoCloseOnClick:w,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",c[0].id,"closeOnClick",!1),this.rtl){var b=this.that;e.each(r.find("li"),function(){e(this).addClass(b.toTP("jqx-rtl"))});var y=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};y(l),y(o),y(s),y(n),y(d)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var r=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var s=e("<span>"+i+"</span>");s.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(s),r=s.outerWidth()+60,s.remove();var o=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(o=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(o+=2);var l=o*this._measureMenuElement()+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(l+=194,r+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(l+=20),this.isTouchDevice()&&(l+=30)),void 0==this.menuitemsarray[0]&&(l=65),"auto"!=this.popupwidth&&(r=this.popupwidth),"auto"!=this.popupheight&&(l=this.popupheight),this.gridmenu.jqxMenu({width:r,height:l})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,r=!1;if(void 0==t.target||void 0!=t.target&&void 0==t.target.className.indexOf)i.gridmenu.jqxMenu("close");else if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter"))if(-1==t.target.className.indexOf("jqx-grid-cell")){if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){i.host.coord();var s=i.gridmenu.coord(),o=t.pageX,l=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!r){try{if("default"===i.filtermode){var a=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if((n=new Date)-a<100)return;if(n-e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var n;if(a=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,(n=new Date)-a<100)return;if(n-e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(e){}if(!(o>=s.left&&o<=s.left+i.gridmenu.width()&&l>=s.top&&l<=s.top+i.gridmenu.height())){if(i.columnmenuclosing){var d=e.data(document.body,"contextmenu"+i.element.id);if(d||(d={column:{displayfield:null}}),!1===i.columnmenuclosing(i.gridmenu,d.column.displayfield,e(i.gridmenu).height()))return}i.gridmenu.jqxMenu("close")}}}}else i.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var r=i.args,s=0;s<t.menuitemsarray.length;s++)if(r==t.menuitemsarray[s]){if(void 0!=e(r).attr("ignoretheme"))return;var o=e.data(document.body,"contextmenu"+t.element.id),l=o.column;t.filterable&&t.gridmenu.jqxMenu("close");var a=l.displayfield;if(null==a&&(a=l.datafield),null!=o)switch(s){case 0:t.sortby(a,"ascending",null);break;case 1:t.sortby(a,"descending",null);break;case 2:t.sortby(a,null,null);break;case 3:t.addgroup(a);break;case 4:t.removegroup(a);break;case 5:var n=e(t.menuitemsarray[6]);e(n).css("display","block")}break}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumns:this.getsortcolumns?this.getsortcolumns():[],sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array,e.each(this.hiddenboundrows,function(e){if(void 0!=this.index){var i=t.getrowvisibleindex(e);t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array,e.each(this.heightboundrows,function(e){if(void 0!=this.index){var i=t.getrowvisibleindex(e);t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array,e.each(this.detailboundrows,function(e){if(void 0!=this.index){var i=t.getrowvisibleindex(e);t.details[i]=this.details}})},_getmenuitembyindex:function(e){return void 0==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var r=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var s=this,o=0;o<s.columns.records.length;o++)s.columns.records[o].datafield!=t&&e(s.columns.records[o].element).trigger("mouseleave");setTimeout(function(){"block"==e(r)[0].style.display&&e(r).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing&&((t=e.data(document.body,"contextmenu"+this.element.id))||(t={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,t.column.displayfield,e(this.gridmenu).height())))return;var t;null!=this.gridmenu&&this.gridmenu.jqxMenu("close"),null!=(t=e.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton&&(this.enableanimations?(e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")}),t.column.iconscontainer.animate({"margin-left":this.rtl?0:-32},"fast")):(e(t.columnsmenu).css("display","none"),t.column.iconscontainer.css("margin-left",this.rtl?0:-32)),e.data(document.body,"contextmenu"+this.element.id,null)),this._hasOpenedMenu=!1,this.menuOwner=null;var i=this._getmenuitembyindex(5);if(i){var r=e(i).find("#filter1"+this.element.id),s=e(i).find("#filter2"+this.element.id),o=e(i).find("#filter3"+this.element.id);r.length>0&&"default"===this.filtermode&&(r.jqxDropDownList("hideListBox"),s.length>0&&s.jqxDropDownList("hideListBox"),o.length>0&&o.jqxDropDownList("hideListBox"))}this.focus()}},scrolloffset:function(e,t){null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,!0===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(e){}}},50))},databind:function(t,i){if(!0!==this.loadingstate&&!0!==this._stopbindings){var r=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var s=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),void 0!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);var o=null;if(null!=t&&(o=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!s.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var l=t._source.sortdirection;if("a"==l||"asc"==l||"ascending"==l||1==l)var a=!0;else a=!1;this.sortdirection=null!=l?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&s.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!s.pageable&&s.virtualmode&&(s.loadondemand=!0),s._loading=!1,s.dataview.isupdating()&&s.dataview.resumeupdate(!1),s.pageable&&s.pagerrenderer){if(!s._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");s._initpager()}if(s.source&&s.source.sortcolumn&&s.sortby&&!s.virtualmode)s.render(),s.source._source.sort||s.sortby(s.source.sortcolumn,s.source.sortdirection,s.source.sortcomparer),s.source.sortcolumn=null,s._postrender("data");else{var o=s.vScrollInstance.value,l=s.hScrollInstance.value,a=s.source?s.source.datatype:"array";if("local"!=a||"array"!=a){var n=null==s.virtualsizeinfo||null!=s.virtualsizeinfo&&0==s.virtualsizeinfo.virtualheight;if("cells"==i){var d=!1;if(s.filterable&&s._initfilterpanel&&s.dataview.filters.length&&(d=!0),0==t)return s.vScrollInstance.isScrolling()||s.hScrollInstance.isScrolling()||(s._cellscache=new Array,s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s.showfilterrow&&s.filterable&&s.filterrow&&s._updatelistfilters(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()),s.sortcolumn&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.virtualmode&&!s._loading&&(s.loadondemand=!0,s._renderrows(s.virtualsizeinfo)),void s._postrender("data");d?i="filter":void 0!=s.sortcolumn&&(i="sort")}!s.virtualmode||n||s.virtualmode&&s.pageable?1==s.initializedcall&&"pagechanged"==i?(o=0,s.groupable&&s.groups.length>0?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):(s.rendergridcontent(!0),s.pageable&&s.updatepagerdetails&&(s.updatepagerdetails(),s.autoheight?(s._updatepageviews(),s.autorowheight&&s._renderrows(this.virtualsizeinfo)):s.autorowheight&&(s._updatepageviews(),s._renderrows(this.virtualsizeinfo)))),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):"filter"==i?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._updatefocusedfilter(),s._postrender("data")):"sort"==i?(s.virtualmode?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):(s._render(!0,!0,!1,!1,!1),s.sortcolumn&&!s.source.sort&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s._postrender("data")),s.source.sort&&s._updatefocusedfilter()):"data"==i?(s._render(!0,!0,!1,!1,!1),s._postrender("data")):"state"==i?(s._render(!0,!0,!1,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):(s._render(!0,!0,!0,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):s.virtualmode&&1==t&&!s.pageable?(s._render(!0,!0,!1,!1,!1),s._updatefocusedfilter(),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):s.virtualmode&&!s.pageable&&0==t&&void 0!=i?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):s.virtualmode&&0==s.dataview.totalrecords&&s.dataview.filters.length>0?(s._render(!0,!0,!0,s.menuitemsarray&&!s.virtualmode),s._postrender("data")):(s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s._postrender("data")),s.vScrollInstance.value!=o&&o<=s.vScrollInstance.max&&s.vScrollInstance.setPosition(o),s.hScrollInstance.value!=l&&l<=s.hScrollInstance.max&&s.hScrollInstance.setPosition(l)}}if(s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.pageable&&(s.pagerrightbutton&&(s.pagerrightbutton.jqxButton({disabled:!1}),s.pagerleftbutton.jqxButton({disabled:!1}),s.pagershowrowscombo.jqxDropDownList({disabled:!1})),s.pagerfirstbutton&&(s.pagerfirstbutton.jqxButton({disabled:!1}),s.pagerlastbutton.jqxButton({disabled:!1}))),s._raiseEvent(11),s.initializedcall)s._updateTouchScrolling();else{var h=function(){if(s._raiseEvent(0),s.initializedcall=!0,s.isInitialized=!0,s.ready&&s.ready(),"many"===s.sortmode&&s.sortable&&s.source.sortcolumns)for(var t=s.source.sortcolumns,i=0;i<t.length;i++)s.sortby(t[i],"asc"===s.source.sortdirections[i]);if(s.renderstatusbar&&s.renderstatusbar(s.statusbar),s.rendertoolbar&&s.rendertoolbar(s.toolbar),s._rendercelltexts&&s._rendercelltexts(),s._gridRenderElement){e(s._gridRenderElement).show("slow");var o=6e3+Math.floor(4e3*Math.random()+1),l=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(l)](function(){e(s._gridRenderElement).hide("slow",function(){e(s._gridRenderElement).remove()})},o)}s.autoloadstate&&s.loadstate&&s.loadstate(null,!0)};e.jqx.isHidden(s.host)?(s.readyInterval&&clearInterval(s.readyInterval),s.readyInterval=setInterval(function(){e.jqx.isHidden(s.host)||s.__isRendered&&(clearInterval(s.readyInterval),s.readyInterval=null,h(),s._initmenu())},200)):h(),null!=s.width&&-1!=s.width.toString().indexOf("%")||null!=s.height&&s.height.toString().indexOf("%"),"hidden"==s.host.css("visibility")&&("visible"==s.vScrollBar.css("visibility")&&s.vScrollBar.css("visibility","inherit"),s.autowidth||"visible"==s.hScrollBar.css("visibility")&&s.hScrollBar.css("visibility","inherit"),s._intervalTimer=setInterval(function(){"visible"==s.host.css("visibility")&&(s._updatesize(!0),clearInterval(s._intervalTimer))},100))}},this.dataview.databind(t),this.dataview.isupdating()&&(void 0!=o?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){void 0!=e&&this.hScrollInstance.setPosition(e),void 0!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){var t=this;if(this.autoheight&&!this.pageable)return!0;var i=this._getpagesize(),r=Math.floor(e/i);if(this._pageviews[r]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0){for(var s=this.getdisplayrows(),o=0,l=0;l<s.length;l++){if(s[l].boundindex===e){var a=this.vScrollInstance.value,n=this._gettableheight()-this.rowsheight;(o<a||o>a+n)&&this.scrolltop(o-this.rowsheight),o===a&&this.scrolltop(o-this.rowsheight);break}o+=this.rowsheight,this.details[l]&&0==this.details[l].rowdetailshidden&&(o+=this.details[l].rowdetailsheight)}return!0}var d=!1;if(this.pageable&&this.gotopage&&!this.virtualmode&&(r=Math.floor(e/i),this.dataview.pagenum!=r)){if(this.groupable&&this.groups.length>0)return!0;if(this.editcell)return setTimeout(function(){t.pagerpageinput.focus()},25),!1;this.gotopage(r),d=!0}a=this.vScrollInstance.value,n=this._gettableheight()-this.rowsheight;var h=i*(e/i-r);if(h=Math.round(h),this._pageviews[r]){var c=(o=this._pageviews[r].top)+h*this.rowsheight;if(this.rowdetails)for(l=i*r;l<e;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(c+=this.details[l].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=c+this.rowsheight&&(c=this.vScrollInstance.max),c<a?(this.scrolltop(c),d=!0):c>a+n+2&&(this.scrolltop(c-n),d=!0)}else if(this.pageable){if(c=h*this.rowsheight,this.rowdetails)for(l=i*r;l<i*r+h;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(c+=this.details[l].rowdetailsheight);(c<a||c>a+n)&&(this.scrollto(0,c),d=!0)}return d},ensurecellvisible:function(t,i){var r=this.that,s=this.hScrollBar.jqxScrollBar("value"),o=r.hScrollInstance.max;r.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(o=0);var l=this.ensurerowvisible(t),a=0;if(this.columns.records){var n=s;if("hidden"==this.hScrollBar.css("visibility"))return;var d=this.host.width(),h=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=r.rtl?o-s:n;return a+this.width>t+d-c?(e=a+this.width-d+c,r.rtl&&(e=o-e),r.scrollleft(e),u=!0):a<=t&&(e=a-this.width,r.rtl&&(e=o-e),r.scrollleft(e),u=!0),0==h?(r.scrollleft(r.rtl?o:0),u=!0):h==r.columns.records.length-1&&"visible"==r.hScrollBar.css("visibility")&&(r.scrollleft(r.hScrollBar.jqxScrollBar(r.rtl?"min":"max")),u=!0),!1}h++,a+=this.width}),u||r.scrollleft(n)}return l},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null!=e&&null!=t&&(this.heightboundrows[e]={index:e,height:t},!((e=this.getrowvisibleindex(e))<0||(this.rows.records[e]?this.rows.records[e].height=t:(row=new i(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),0)))},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,r,s){if(!(void 0==t||null==t||t<0)){var o=t+"_";this._rowdetailscache[o]&&(e(this._rowdetailscache[o].element).remove(),this._rowdetailscache[o]=null);var l=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:r,rowdetailshidden:s,key:l}},!((t=this.getrowvisibleindex(t))<0)&&this._setrowdetails(t,i,r,s,l)}},getcolumn:function(t){var i=null;return this.columns.records?e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}):this.columns&&e.each(this.columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){if(i++,this.datafield==t)return!1}),i},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){var i=t.getcolumnat(--e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){var i=t.getcolumnat(++e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var r=this.getcolumn(e);if(null!=r){var s=r[t];r[t]=i;var o=this._getcolumn(e);switch(null!=o&&(o[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=s){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==r.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,r,s){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=s)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:s};else{for(var o=null!=this.details[e]?this.details[e].detailskey:null,l={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:o},a=0;a<this.detailboundrows.length;a++)if(void 0!=this.detailboundrows[a]){var n=this.detailboundrows[a];if(n.details.detailskey==o){n.details.rowdetailsheight=l.rowdetailsheight,n.details.rowdetailshidden=l.rowdetailshidden,n.details.rowdetails=l.rowdetails;break}}this.details[e]=l}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null!=e&&!(e<0)&&(this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0)},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var r=this.vScrollInstance.value,s=!i.rowdetailshidden,o=this.getboundindex(e);void 0!=o&&(this.detailsVisibility[o]=s);var l=this._setrowdetailsvisibility(t,i,s);return 0!==r&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(r<=this.vScrollInstance.max?r:this.vScrollInstance.max),l}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var r=this.dataview.generatekey();this.details[e].detailskey=r,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var s=this.details[e];return this._raiseEvent(i?21:20,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}),this._setrowdetails(e,s.rowdetails,s.rowdetailsheight,s.rowdetailshidden)},getrowvisibleindex:function(e){if(void 0==e||null==e||e<0)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return void 0==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(void 0==e||null==e||e<0)&&null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(void 0==e||null==e||e<0)&&null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(void 0!=i&&!i||(this.rendergridcontent(!0),0)))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,r=new Array,s=new Array,o=t.groupable&&t.groups.length>0,l=0;this.rows.beginupdate();var a=this.dataview.pagesize;this.pageable&&o&&(a=this.dataview.rows.length);for(var n=0;n<a&&!(n>=this.dataview.rows.length);n++){var d=this.dataview.rows[n],h=null;t.rows.records[d.visibleindex]?(h=t.rows.records[d.visibleindex]).setdata(d):h=new i(t,d),h.hidden=this.hiddens[h.visibleindex],this.rowdetailstemplate&&(h.rowdetails=this.rowdetailstemplate.rowdetails,h.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,h.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[h.visibleindex];if(c?(h.rowdetails=c.rowdetails,h.rowdetailsheight=c.rowdetailsheight,h.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(h.rowdetails=null),o&&this.pageable&&null!=h.parentbounddata){var u=r[h.parentbounddata.uniqueid];if(null!=u){var p=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,h.parentbounddata,!p,!1),h.hidden=this.hiddens[h.visibleindex]}null!=u&&void 0!=u&&(h.parentrow=u,u.subrows[u.subrows.length++]=h)}if(!h.hidden){var g=d.visibleindex;this.heights[g]||(this.heights[g]=this.rowsheight),h.height=this.heights[g],this.rowdetails&&h.rowdetails&&!h.rowdetailshidden&&(h.height+=h.rowdetailsheight),r[h.uniqueid]=h,s[l++]=h,h.top=e,e+=h.height,t.rows.replace(g,h)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),s.length>0&&(this._pagescache[this.dataview.pagenum]=s)}}},_updateaddnewrowui:function(t){for(var i=this,r="bottom"!=i.everpresentrowposition?i.addnewrowtop:i.addnewrowbottom,s=i.columns.records.length,o=0,l=0;l<s;l++)(a=i.columns.records[l]).addnewrowwidget&&e(a.addnewrowwidget).detach();for(l=0;l<s;l++){var a,n=(a=i.columns.records[l]).width;n<a.minwidth&&(n=a.minwidth),n>a.maxwidth&&(n=a.maxwidth);var d=e(r[0].cells[l]);d.css("left",o),d.width(),d.width(n),d[0].left=o,a.addnewrowwidget&&(d.html(""),d.append(a.addnewrowwidget)),a.hidden&&a.hideable||a.adaptivehidden?d.css("display","none"):o+=n}var h=i.everpresentrowactions.split(" ");i.addnewrowbutton.show(),i.addnewrowupdatebutton.show(),i.addnewrowresetbutton.show(),i.addnewrowdeletebutton.show(),-1==h.indexOf("add")&&-1==h.indexOf("addBottom")&&i.addnewrowbutton.hide(),-1==h.indexOf("update")&&i.addnewrowupdatebutton.hide(),-1==h.indexOf("reset")&&i.addnewrowresetbutton.hide(),-1==h.indexOf("delete")&&i.addnewrowdeletebutton.hide();var c=e(r.children()[0]);c.width(parseInt(o)+2),c.height(i.everpresentrowheight),c.css("max-height",i.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;i<t;i++){var r=e.columns.records[i];r.addnewrowwidget&&(r.destroyeverpresentrowwidget?r.destroyeverpresentrowwidget(r.addnewrowwidget):r.addnewrowwidget.remove(),r.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,r=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),s=0,o=t.columns.records.length,l=t.toThemeProperty("jqx-grid-cell");l+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),l+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var a=o+10,n=new Array;i[0].cells=n,r.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),r.css("max-height",t.everpresentrowheight+"px"),i.append(r);var d=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99; display: none; position: absolute;'><div>").appendTo(e(document.body)),h=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");d.addClass(t.toThemeProperty("jqx-popup")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-fill-state-normal")),d.addClass(t.toThemeProperty("jqx-shadow")),d.append(h),d.append(c),d.append(u),d.append(p);var g=t.everpresentrowactions.split(" ");-1==g.indexOf("add")&&-1==g.indexOf("addBottom")&&h.hide(),-1==g.indexOf("update")&&c.hide(),-1==g.indexOf("reset")&&p.hide(),-1==g.indexOf("delete")&&u.hide(),t.addnewrowpopup=d,t.addnewrowbutton=h,t.addnewrowupdatebutton=c,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=p,h.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),c.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),c.mousedown(function(e){for(var i={},r={},s=0;s<o;s++)if((c=t.columns.records[s]).geteverpresentrowwidgetvalue){var l=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);r[c.datafield]=l,c.datafield!=c.displayfield&&(r[c.datafield]=l.value,r[c.displayfield]=l.label)}var a=!1;for(s=0;s<o;s++)if((c=t.columns.records[s]).geteverpresentrowwidgetvalue){if(l=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget),c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var n=c.validateeverpresentrowwidgetvalue(c.displayfield,l,r),h=t.gridlocalization.validationstring;void 0!=n.message&&(h=n.message),("boolean"==typeof n?n:n.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(l="invalid editor state",c.addnewrowwidget.attr("title",h),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==l||(e.preventDefault(),e.stopPropagation(),a=!0)}if(a)return d.hide(),void t.focus();for(s=0;s<o;s++){var c;(c=t.columns.records[s]).geteverpresentrowwidgetvalue&&(l=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget),i[c.datafield]=l,c.datafield!=c.displayfield&&(i[c.datafield]=l.value,i[c.displayfield]=l.label),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget))}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var u=t.getselectedcells()[0].rowindex;else u=t.selectedrowindexes[0];rowData=t.getrowdata(u),rowData&&t.updaterow(rowData.uid,i)}d.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];rowData=t.getrowdata(i),rowData&&t.deleterow(rowData.uid)}for(var r=0;r<o;r++){var s=t.columns.records[r];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget)}d.hide(),t.focus(),t.updateeverpresentrow()}),h.mousedown(function(e){for(var i={},r={},s=0;s<o;s++)if((c=t.columns.records[s]).geteverpresentrowwidgetvalue){var l=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget);r[c.datafield]=l,c.datafield!=c.displayfield&&(r[c.datafield]=l.value,r[c.displayfield]=l.label),c.datafield!=c.displayfield&&(r[c.datafield]=l.label,r[c.displayfield]=l.value)}var a=!1;for(s=0;s<o;s++)if((c=t.columns.records[s]).geteverpresentrowwidgetvalue){if(l=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget),c.createeverpresentrowwidget&&c.validateeverpresentrowwidgetvalue){var n=c.validateeverpresentrowwidgetvalue(c.displayfield,l,r),h=t.gridlocalization.validationstring;void 0!=n.message&&(h=n.message),("boolean"==typeof n?n:n.result)?(c.addnewrowwidget.attr("title",""),c.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(l="invalid editor state",c.addnewrowwidget.attr("title",h),c.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==l||(e.preventDefault(),e.stopPropagation(),a=!0)}if(a)return d.hide(),void t.focus();for(s=0;s<o;s++){var c;(c=t.columns.records[s]).geteverpresentrowwidgetvalue&&(l=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget),i[c.datafield]=l,c.datafield!=c.displayfield&&(r[c.datafield]=l.label,r[c.displayfield]=l.value),c.reseteverpresentrowwidgetvalue&&c.reseteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget))}var u=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,u),d.hide(),t.focus()}),p.mousedown(function(e){for(var i=0;i<o;i++){var r=t.columns.records[i];r.reseteverpresentrowwidgetvalue&&r.reseteverpresentrowwidgetvalue(r.displayfield,r.addnewrowwidget),r.addnewrowwidget&&(r.addnewrowwidget.attr("title",""),r.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}d.hide(),t.focus()});for(var f=0;f<o;f++){var m=t.columns.records[f],v=m.width;v<m.minwidth&&(v=m.minwidth),v>m.maxwidth&&(v=m.maxwidth);var w=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+l+'"></div>');if(r.append(w),w.css("left",s),t.rtl?(w.css("z-index",a++),w.css("border-left-width","1px")):w.css("z-index",a--),"auto"==v&&(v=0),w[0].style.width=parseFloat(v)+"px",w[0].left=s,m.hidden&&m.hideable||m.adaptivehidden?w.css("display","none"):s+=v,n[n.length]=w[0],m.checkboxcolumn){var x=t.toThemeProperty("jqx-grid-cell");x+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),x+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),w.removeClass().addClass(x)}else{var b=!0;if(t.rtl?(t.groupable&&t.groups.length+(t.showrowdetailscolumn&&t.rowdetails?1:0)+f>o-1&&(b=!1),t.showrowdetailscolumn&&t.rowdetails&&f==o-1&&(b=!1)):(t.groupable&&t.groups.length+(t.showrowdetailscolumn&&t.rowdetails?1:0)>f&&(b=!1),t.showrowdetailscolumn&&t.rowdetails&&0==f&&(b=!1)),t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var r=0;r<t.columns.records.length;r++){var s=t.columns.records[r];if(s.seteverpresentrowwidgetvalue){var o=t.getcelltext(i,s.displayfield);s.seteverpresentrowwidgetvalue(s.addnewrowwidget,o)}}},b)if(m.createeverpresentrowwidget)m.addnewrowwidget=m.createeverpresentrowwidget(m.datafield,w,d,function(){h.trigger("mousedown")}),m.initeverpresentrowwidget&&m.initeverpresentrowwidget(m.datafield,w,d);else{t._measureElement("column");var y=t.everpresentrowheight/2-t._columnheight/2;if(y<0&&(y=6),y+="px","addButtonColumn"===m.datafield){var _=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+y+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");w.append(_),_.mousedown(function(){h.trigger("mousedown")});continue}if("resetButtonColumn"===m.datafield){_=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+y+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>"),w.append(_),_.mousedown(function(){p.trigger("mousedown")});continue}!function(i,r,s){var l=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(l[0].id=e.jqx.utilities.createId(),l.addClass(i.toThemeProperty("jqx-widget")),l.addClass(i.toThemeProperty("jqx-input")),l.addClass(i.toThemeProperty("jqx-widget-content")),l.addClass(i.toThemeProperty("jqx-enableselect")),l.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),l.css("text-align",s.cellsalign),i.rtl&&l.css("direction","rtl"),i.disabled&&l.attr("disabled",!0),l.attr("disabled",!1),l.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+s.text),l.appendTo(r),l.css("width","100%"),l.css("height",i.everpresentrowheight+"px"),l.css("line-height",i.everpresentrowheight+"px"),l.css("max-height",i.everpresentrowheight+"px"),l.css("margin","0px"),l.focus(function(){(t.selectedcells.length>0||t.selectedrowindexes.length>0)&&t.selectionmode.indexOf("cell")>=0&&t.getselectedcells(),l.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(s);"columns"!==i.everpresentrowactionsmode&&d.css({display:"block",top:l.coord().top+i.everpresentrowheight-1,left:e>0?l.coord().left:l.coord().left-1});var r=d.children().width();return"right"===s.cellsalign?(r=h.width()+p.width(),d.children().css("left",r-r+"px")):d.children().css("left","0px"),i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),s.addnewrowwidget=l,s.reseteverpresentrowwidgetvalue||(s.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),s.seteverpresentrowwidgetvalue||(s.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!s.geteverpresentrowwidgetvalue){var a=s;s.geteverpresentrowwidgetvalue=function(i,r,s){var n=r.val();if(!1!==s&&a.validateeverpresentrowwidgetvalue){for(var d={},h=0;h<o;h++){var c=t.columns.records[h];if(c.geteverpresentrowwidgetvalue){var u=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget,!1);d[c.datafield]=u,c.datafield!=c.displayfield&&(d[c.datafield]=u.value,d[c.displayfield]=u.label)}}var p=a.validateeverpresentrowwidgetvalue(a.displayfield,n,d),g=t.gridlocalization.validationstring;if(void 0!=p.message&&(g=p.message),!("boolean"==typeof p?p:p.result))return l.addClass(t.toThemeProperty("jqx-input-invalid")),l.attr("title",g),"invalid editor state";l.removeClass(t.toThemeProperty("jqx-input-invalid")),l.attr("title","")}var f="string",m=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(m){var v="";e.each(m,function(){if(this.name==a.displayfield)return this.type&&(v=this.type),!1}),v&&(f=v)}if("number"===f){var w=parseFloat(n);if(isNaN(w))return null}return"date"===f?e.jqx.dataFormat.tryparsedate(n,t.gridlocalization):"bool"===f||"boolean"===f?"true"===n||"1"==n||"false"!==n&&"0"!=n&&(!0===n?n:!1===n&&n):n}}l.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?h.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),l.blur(function(){l.removeClass(i.toThemeProperty("jqx-fill-state-focus")),d.css("display","none")}),s.initeverpresentrowwidget&&s.initeverpresentrowwidget(s.datafield,r,d)}(this,w,m)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&r.css("z-index",a--),r.width(parseFloat(s)+2),i.addClass(l),i.css("border-bottom-width","0px"),i.css("border-top-width",t.showfilterrow?"0px":"1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var e=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=i*this.rowsheight,s=0,o=0,l=0,a=this._getpagesize(),n=a*this.rowsheight,d=0;if(!this.pageable&&this.autoheight&&(t=i),i+a>0)for(;d<=i+a;){if(s+=n,d-a<i&&d>=i){var h=d-i;h>0&&(this._pageviews[o-1]={top:l-=n,height:n-h*this.rowsheight});break}this._pageviews[o++]={top:l,height:n},l=s,d+=a}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(d=0;d<this.columns.records.length;d++)c+=isNaN(this.columns.records[d].width)?this.columns.records[d].minwidth:this.columns.records[d].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(realheight-=30)}}return r>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),this.vScrollBar.jqxScrollBar("deferred"==this.scrollmode?{max:r}:{max:r-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=a,this.dataview.updateview(),{visiblerecords:t,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),r=Math.max(this.dataview.totalrows,this.dataview.totalrecords),s=r*this.rowsheight,o=0,l=0,a=0,n=0,d=0,h=this._getpagesize();if(this.pageable)this._updatepagedview&&(s=this._updatepagedview(r,s,0)),this.autoheight&&this._arrange();else for(var c=0;c<r;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(void 0==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),void 0==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),void 0==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(s-=e.rowsheight,s+=u.height),u.hidden)s-=u.height;else{l+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(l+=p=u.details.rowdetailsheight,s+=p)),o+=u.height+p}(++d>=h||c==r-1)&&(this._pageviews[a++]={top:n,height:l},l=0,n=o,d=0)}var g=this._gettableheight();if(s>g)if(this.pageable&&this.gotopage&&(s=this._pageviews[0].height)<0&&(s=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(s<=g||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),s-g>0)if("deferred"!=this.scrollmode){var f=s-g,m=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:f}),f!=m&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:s});else this.vScrollBar.jqxScrollBar({value:0,max:s});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:s}}},updatebounddata:function(e){if("data"!=e&&"sort"!=e&&"filter"!=e&&"cells"!=e&&"pagechanged"!=e&&"pagesizechanged"!=e&&!this.virtualmode){if(this.virtualsizeinfo=null,this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];i.destroywidget&&i.widget&&i.destroywidget&&i.destroywidget(i.widget)}this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.showeverpresentrow&&this._removeaddnewrow(),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())}this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();e>t?(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar(e-t>0?{max:e-t}:{value:0,max:e})):(this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0}))}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var r=function(e){for(var i=0;i<t.columngroups.length;i++){var r=t.columngroups[i];if(r.name===e)return r}return null};for(i=0;i<this.columngroups.length;i++)(d=this.columngroups[i]).groups||(d.groups=null),d.parentgroup&&(s=r(d.parentgroup))&&(d.parent=s,s.groups||(s.groups=new Array),-1===s.groups.indexOf(d)&&s.groups.push(d));for(i=0;i<this.columns.records.length;i++){var s;(d=this.columns.records[i]).columngroup&&(s=r(d.columngroup))&&(s.groups||(s.groups=new Array),d.parent=s,-1===s.groups.indexOf(d)&&s.groups.push(d))}var o=0;for(i=0;i<this.columns.records.length;i++){var l=d=this.columns.records[i];for(d.level=0;l.parent;)l=l.parent,d.level++;l=d;var a=d.level;for(o=Math.max(o,d.level);l.parent;)(l=l.parent)&&(l.level=--a)}var n=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=n(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t};for(i=0;i<this.columngroups.length;i++){var d,h=n(d=this.columngroups[i]);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0});for(var g=1;g<c.length;g++)if(c[g]!=c[g-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+o,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,r,s,o){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var l=this;return l.___hiddenTimer&&(clearInterval(l.___hiddenTimer),l.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(l.host)||(clearInterval(l.___hiddenTimer),l.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0==i||i,this._newmax=null,r)if(this._requiresupdate||0!=s&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var a=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){a.columns=a._columns,a.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){for(var i in a.beginupdate(),e.newValue)a.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);a.endupdate()}else{var r=e.path.split(".");a.setcolumnproperty(a.columns[r[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){a.render()}),this._initializeColumns()}var n;if(this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==s&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),r?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove(),n=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(n+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(n+this.filterrowheight+this.everpresentrowheight)):this.columnsheader.height(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?n+this.everpresentrowheight:n),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,r),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==o||1==o)&&this._updatelistfilters(!r),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",180),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var r=this._overlayElement.css("left");this._overlayElement.css("left",r+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",1800),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",1900),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],r=0;for(var s in this.groupsVisibility)s==i.group&&this.groupsVisibility[s]&&(suspendgroupevents=!0,this._setgroupstate(i,!0,!1),r++);if(r>0){suspendgroupevents=!1;var o=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(t,i){if(this.updating())return!1;void 0!=t&&null!=t||(t=!1),this._requiresupdate=t;var r=this.prerenderrequired;this.prerenderrequired&&this._arrange();var s=this.that;if(null!=(i=i)&&void 0!=i||(i=!0),this.tableheight=null,s.virtualsizeinfo=s.virtualsizeinfo||s._calculatevirtualheight(),s.pageable&&!s.autoheight&&s.dataview.totalrows<s.pagesize&&(s._requiresupdate=!0),i?s._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),s._renderrows(s.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),r){var o=this.tableheight;this._arrange(),o!=this.tableheight&&this.autoheight&&s._renderrows(s.virtualsizeinfo)}if(this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),this.adaptive&&this.element.offsetWidth<=this.adaptivewidth){var l=0,a=s.element.offsetWidth-2;e.each(this.columns.records,function(e,t){if(l+=this.width,"adaptive"===this.columntype)return!0;l>=a&&(this.adaptivehidden=!0)}),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}return!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,r="";if(void 0!=this.columns&&void 0!=this.columns.records){var s=this.that,o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,l=0;if(this.adaptive&&this.element.offsetWidth<=this.adaptivewidth){var a=1;e.each(this.columns.records,function(e,t){this.adaptivehidden&&a++});var n=this.vScrollBar[0].offsetWidth>0?this.vScrollBar[0].offsetWidth+4:0;"hidden"==this.vScrollBar.css("visibility")&&(n=0),l=(this.element.offsetWidth-32-n)/(this.columns.records.length-a)}e.each(this.columns.records,function(e,l){if(!(this.hidden&&this.hideable||this.adaptivehidden))if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){l=0;var a="hidden"==s.vScrollBar[0].style.visibility?0:s.scrollbarsize+5;(s.scrollbarautoshow||0==s.scrollbarsize)&&(a=0);var n=i;l=parseFloat(this.width)*n/100,a+=o,void 0!=this._percentagewidth&&(l=parseFloat(this._percentagewidth)*(n-a)/100),l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth),t-=l}else"auto"==this.width||this._width?r+=this.text:t-=this.width});var d=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>d)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var h=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var c=0;c<this.dataview.rows.length;c++)this.dataview.rows[c].group&&0===this.dataview.rows[c].level&&(h+=this.rowsheight);h>d?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);if(i-=o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth,this.columnsheader){var u=this.columnsheader.find("#columntable"+this.element.id);if(0!=u.length){var p=0,g=0;e.each(this.columns.records,function(o,a){var n=e(this.element);this.hidden||this.adaptivehidden||"none"!==this.element.style.display||(this.element.style.display="block"),this.adaptivehidden&&(this.element.style.display="none");var d=!1,h=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(h=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,d=!0),l>0&&"adaptive"!==this.columntype)n.width(l),this.adaptivewidth=l;else if("auto"==this.width||this._width||d)if(d)h<this.minwidth&&"auto"!=this.minwidth&&(this.width=h=this.minwidth),h>this.maxwidth&&"auto"!=this.maxwidth&&(this.width=h=this.maxwidth),parseInt(n[0].style.width)!=h&&(n.width(h),this.width=h);else{var c=Math.floor(t*(this.text.length/r.length));t-(g+=c)<3&&t!=g&&t-g>.01?t-g==1?c++:c+=2:o==s.columns.records.length-1&&g<t&&(c+=t-g),isNaN(c)&&(c=this.minwidth),isNaN(c)&&(c=this.minwidth),c==1/0&&(c=0),c<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),c=10+$element.width(),$element.remove()),c<this.minwidth&&(c=this.minwidth),c>this.maxwidth&&(c=this.maxwidth),this._width="auto",this.width=c,n.width(this.width)}else parseInt(n[0].style.width)!=this.width&&n.width(this.width);parseInt(n[0].style.left)!=p&&n.css("left",p),this.hidden&&this.hideable||this.adaptivehidden||(p+=l>0&&"adaptive"!==this.columntype?l:this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+p),u.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==p?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,s=0,o="",l=this.host.width(),a=l,n=new Array,d=new Array,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!(this.hidden&&this.hideable||this.adaptivehidden))if("auto"==this.width||this._width)o+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)l-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)l-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;var r="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;r+=h,(i=parseFloat(this.width)*(a-r)/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),l-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),l-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),n[n.length]=this):d[d.length]=this}),this.rtl){var c=0;for(n.reverse(),u=this.columns.records.length-1;u>=this.columns.records.length-n.length;u--)this.columns.replace(u,n[c++]);for(p=0;p<d.length;p++)this.columns.replace(p,d[p])}else{for(var u=0;u<n.length;u++)this.columns.replace(u,n[u]);for(var p=0;p<d.length;p++)this.columns.replace(n.length+p,d[p])}var g=this.headerZIndex,f=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&f++;var m=t.columnsheader.height();this.showfilterrow&&(this.columngroups?m-=this.filterrowheight:m=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(this.columngroups?m-=this.everpresentrowheight:m=this.columnsheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var w=0;if(this.pageable){if(this.pageable)for(var x=0;x<this.dataview.rows.length;x++)this.dataview.rows[x].group&&0===this.dataview.rows[x].level&&(w+=this.rowsheight)}else w=this.dataview.loadedrootgroups.length*this.rowsheight;w>v&&(l-=this.scrollbarsize+5,a-=this.scrollbarsize+5)}else l-=this.scrollbarsize+5,a-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(l-=this.scrollbarsize+5,a-=this.scrollbarsize+5);a-=h;var b=document.createDocumentFragment(),y=0;if(e.each(this.columns.records,function(n,d){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=function(e,i){return t.columngroupslevel*t.columnsheight-i.level*t.columnsheight}(0,this),m=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl"));var c=t.rtl?150+g+1:150+g-1,u=t.rtl?g++:g--,p=e('<div role="columnheader" style="z-index: '+u+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(p[0].style.height=m+"px",p[0].style.bottom="0px",this.pinned&&(p[0].style.zIndex=c)),this.uielement=p,""!=this.classname&&this.classname&&p.addClass(this.classname);var v=this.width,w=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(v=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,w=!0),"auto"==this.width||this._width||w){if(w)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),p.width(v),this.width=v;else if(!this.hidden&&!this.adaptivehidden){var x=Math.floor(l*(this.text.length/o.length));l-(y+=x)<3&&l!=y&&l-y>.01?l-y==1?x++:x+=2:n==t.columns.records.length-1&&y<l&&(x+=l-y),isNaN(x)&&(x=this.minwidth),x<0&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),x=10+$element.width(),$element.remove()),x<this.minwidth&&(x=this.minwidth),x>this.maxwidth&&(x=this.maxwidth),this._width="auto",this.width=x,v=this.width,p.width(this.width)}}else v<this.minwidth&&"auto"!=this.minwidth&&(this.width=v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(this.width=v=this.maxwidth),p[0].style.width=parseInt(v)+"px";(this.hidden&&this.hideable||this.adaptivehidden)&&p.css("display","none");var _=e(p.children()[0]),q=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");q+=" "+t.toTP("jqx-icon-arrow-down");var j=e('<div style="height: '+m+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+q+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||j.css("margin-left",-16),t.rtl&&j.css("left","0px"),this.columnsmenu=j[0],i[0].cells[n]=p[0],j[0].style.width=parseInt(t.columnsmenuwidth)+"px";var C=t.columnsmenu,k=!1,z=!1,I=t.groupable&&f>0&&r<f||t.rowdetails&&r<f;if(t.rtl&&(I=t.groupable&&f>0&&r<f||t.rowdetails&&r<f,I&=n>t.columns.records.length-1-f),I)r++,C&=!1,this.sortable=!1,this.editable=!1,z=!0;else{var T=null!=this.renderer?this.renderer(this.text,this.align,m):t._rendercolumnheader(this.text,this.align,m,t);null==T&&(T=t._rendercolumnheader(this.text,this.align,m,t)),null!=this.renderer&&(T=e(T)),C&=!0,k=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){_.append(e(T))}):this.renderer?_.append(e(T)):T&&(_[0].innerHTML=T),null!=T){var D=e('<div class="iconscontainer" style="height: '+m+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+m+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+m+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+m+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div><div class="sorticon '+t.toTP("jqx-widget-header")+'" style="height: '+m+'px; float: right; visibility: hidden; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sorticon")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');j.addClass(t.toTP("jqx-widget-header")),_.append(D);var S=D.children();this.sorticon=S[3],this.sortasc=S[1],this.sortdesc=S[2],this.filtericon=S[0],this.iconscontainer=D,t.rtl&&(D.css("margin-left","0px"),D.css("left","0px"),e(this.sorticon).css("float","left"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=p[0],C&&(t._handlecolumnsmenu(t,_,p,j,this),this.menu||j.hide()),b.appendChild(p[0]),t.groupable&&k){if(p[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,p)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,p);var B=this;if(t.addHandler(p,"click",function(e){if(B.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(B)}e.preventDefault(),t._raiseEvent(7,{column:B.getcolumnproperties(),datafield:B.datafield,originalEvent:e})}),B.resizable&&t.columnsresize&&!z){var P=!1,L="mousemove";t.isTouchDevice()&&!0!==t.touchmode&&(P=!0,L=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(p,L,function(i){var r=parseInt(i.pageX),s=5,o=parseInt(p.coord().left);if(t.hasTransform&&(o=e.jqx.utilities.getOffset(p).left),t.resizing)return!0;if(t._handlecolumnsresize){if(P)return(r=t.getTouches(i)[0].pageX)>=o+B.width-(s=40)?(t.resizablecolumn={columnelement:p,column:B},p.css("cursor","col-resize")):(p.css("cursor",""),t.resizablecolumn=null),!0;var l=B.width;if(t.rtl&&(l=0),r>=o+l-s){if(r<=o+l+s)return t.resizablecolumn={columnelement:p,column:B},p.css("cursor","col-resize"),!1;p.css("cursor",""),t.resizablecolumn=null}else p.css("cursor",""),r<o+l-s&&(B._animating||B._menuvisible||p.mouseenter()),t.resizablecolumn=null}})}if(p.css("left",s),this.hidden&&this.hideable||this.adaptivehidden||(s+=v),B.rendered&&B.rendered(e(_[0].firstChild),B.align,m)&&null!=D&&D.hide(),B.checkboxcolumn){if(D&&D.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");_.html('<div style="cursor: pointer; margin-left: 3px; top: 50%; margin-top: -9px; position: relative;"></div>');var H=_.find("div:first");H.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0}),H.addClass(t.toThemeProperty("jqx-checkbox")),B.checkboxelement=H;var G=H.data().jqxCheckBox.instance;t._checkboxcolumn=B,G.updated=function(e,i,r){t._checkboxcolumnupdating=!0,t.disabled&&(H.jqxCheckBox({disabled:t.disabled}),i=r),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),this.columnsheader.width(s>0?2+s:s),i[0].appendChild(b),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(i.height(this.columngroups?this.columngroupslevel*this.columnsheight:this.columnsheight),!this.filterrow){var _=e("<div style='position: relative !important; '></div>");_[0].id="filterrow."+this.element.id,_.height(this.filterrowheight),this.filterrow=_}this.filterrow.width(2+s),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(i.height(this.columngroups?this.columngroupslevel*this.columnsheight:this.columnsheight),!this.addnewrowtop){var q=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");q[0].id="addnewrowtop."+this.element.id,q.height(this.everpresentrowheight),this.addnewrowtop=q}this.addnewrowtop.width(2+s),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var j=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");j[0].id="addnewrowbottom."+this.element.id,j.height(this.everpresentrowheight),this.addnewrowbottom=j}this.addnewrowbottom.width(2+s),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}i[0].style.visibility=0==s?"hidden":"inherit",i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,s=this.that,o=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(o+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var l=this.columnsheader.find("#columntable"+this.element.id);l.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columngroupslevel-1;a++)for(i=0;i<this.columngroups.length;i++){var n=this.columngroups[i],d=n.level;if(d===a){var h=d*this.columnsheight,c=99999;if(n.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=u(r):r.hidden||(t+=r.width,c=Math.min(parseFloat(r.element.style.left),c))}return t};n.width=u(n),n.left=c;var p=this.columnsheight,g=r--,f=e('<div role="columnheader" style="z-index: '+g+';position: absolute;" class="'+o+'"></div>'),m=e(this._rendercolumnheader(n.text,n.align,this.columnsheight,this));if(n.renderer){m=e("<div style='height: 100%; width: 100%;'></div>");var v=n.renderer(n.text,n.align,p);m.html(v)}f.append(m),f[0].style.left=c+"px",0===c&&(f[0].style.borderLeftColor="transparent"),this.showcolumnheaderlines||(f[0].style.borderRightColor="transparent",f[0].style.borderBottomColor="transparent",f[0].style.boxShadow="none"),f[0].style.top=h+"px",f[0].style.height=p+"px",f[0].style.width=-1+n.width+"px",l.append(f),n.element=f,n.rendered&&n.rendered(m,n.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,r=99999;if(t.groups){var s=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=s(o):o.hidden||(t+=o.width,r=Math.min(parseFloat(o.element.style.left),r))}return t};t.width=s(t),t.left=r;var o=this.columnsheight,l=t.element;l[0].style.left=r+"px",l[0].style.top=i+"px",l[0].style.height=o+"px",l[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,r,s,o){t.dragmousedown=null,s[0].id=t.dataview.generatekey(),i.append(s),r[0].columnsmenu=s[0],o.element=r[0];var l=this.columnsmenuwidth+1,a="mouseenter";t.isTouchDevice()&&(a="touchstart"),t.addHandler(r,a,function(i){var a=parseInt(i.pageX),n=t.columnsresize&&o.resizable?3:0,d=parseInt(r.coord().left);t.hasTransform&&(d=e.jqx.utilities.getOffset(r).left);var h=o.width;if(t.rtl&&(h=0),0!=n&&a>=d+h-n&&a<=d+h+n)return!1;var c=t.vScrollInstance.isScrolling();o.menu&&t.autoshowcolumnsmenubutton&&!c&&!t.disabled&&function(){if(!o.menu)return!1;if(!t.resizing){if(o._menuvisible&&t._hasOpenedMenu)return!1;o._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0&&(t.enableanimations?(s.css("display","block"),s.stop(),o.iconscontainer.stop(),t.rtl?(s.css("margin-left",-l),s.animate({"margin-left":"0px"},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0})):(s.css("margin-left","0px"),s.animate({"margin-left":-l},"fast",function(){s.css("display","block"),o._animating=!1,o._menuvisible=!0})),o.iconscontainer.animate({"margin-left":t.rtl?l:-(32+l)},"fast")):(s.css("display","block"),o.iconscontainer.css("margin-left",(t.rtl?16:-48)+"px"),o._animating=!1,o._menuvisible=!0))}}()}),t.autoshowcolumnsmenubutton||(s.css("display","block"),o.iconscontainer.css("margin-left",(t.rtl?16:-48)+"px"),s.css(t.rtl?{"margin-left":"0px"}:{"margin-left":-l})),t.addHandler(r,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&o.menu){var r=e.data(document.body,"contextmenu"+t.element.id);if(void 0!=r&&s[0].id==r.columnsmenu.id)return;t.autoshowcolumnsmenubutton&&(t.enableanimations?(s.css("margin-left",t.rtl?"0px":-l),s.stop(),o.iconscontainer.stop(),s.animate(t.rtl?{"margin-left":-l}:{"margin-left":0},"fast",function(){s.css("display","none"),o._menuvisible=!1}),o.iconscontainer.animate({"margin-left":t.rtl?0:-32},"fast")):(s.css("display","none"),o.iconscontainer.css("margin-left",(t.rtl?0:-32)+"px"),o._menuvisible=!1))}});var n=!0,d="",h=e(o.filtericon);t.addHandler(s,"mousedown",function(i){t.gridmenu||t._initmenu(),n=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(d=e.data(document.body,"contextmenu"+t.element.id))&&(d=d.column.datafield)}),t.addHandler(h,"mousedown",function(i){t.gridmenu||t._initmenu(),n=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(d=e.data(document.body,"contextmenu"+t.element.id))&&(d=d.column.datafield)});var c=function(){if(!o.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=o.datafield&&(t.columns.records[i]._menuvisible=!1);var r=s.coord(!0),l=s.height();if(!n&&(n=!0,d==o.datafield))return t._closemenu(),!1;var a=t.host.coord(!0);if(t.hasTransform&&(a=e.jqx.utilities.getOffset(t.host),r=e.jqx.utilities.getOffset(s)),a.left+t.host.width()>parseInt(r.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",r.left,r.top+l):t.gridmenu.jqxMenu("open",s.width()+r.left-t.gridmenu.width(),r.top+l),t.gridmenu.width()<100&&t._arrangemenu(),t.adaptive&&t.element.offsetWidth<t.adaptivewidth){t.gridmenu.jqxMenu("close"),t.gridmenu.jqxMenu("open",a.left,r.top+l);var h=0;for(i=0;i<t.columns.records.length;i++){var c=t.columns.records[i];c.hidden||c.adaptivehidden||"adaptive"===c.columntype||(h+=c.adaptivewidth)}t.gridmenu.width(h),t.gridmenu.height(t.content.height())}(!t.filterable||t.filterable&&t.showfilterrow)&&setTimeout(function(){t.gridmenu.focus();for(var i=t.gridmenu.find(".jqx-item"),r=0;r<i.length;r++)i[r].active&&(i[r].active=!1);var s=i[0];i[0].className.indexOf("disabled")>=0&&(s=i[1]),e(i).removeClass("jqx-fill-state-focus"),e(s).addClass("jqx-fill-state-focus"),s.active=!0},225),t._hasOpenedMenu=!0;var u=t._getmenuitembyindex(0),p=t._getmenuitembyindex(1),g=t._getmenuitembyindex(2),f=t._getmenuitembyindex(3),m=t._getmenuitembyindex(4),v=t._getmenuitembyindex(5);if(null!=u&&null!=p&&null!=g){var w=o.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",u.id,!w),t.gridmenu.jqxMenu("disable",p.id,!w),t.gridmenu.jqxMenu("disable",g.id,!w),void 0!=o.displayfield)if(t.sortcolumn==o.displayfield){var x=t.getsortinformation();w&&t.gridmenu.jqxMenu("disable",x.sortdirection.ascending?u.id:p.id,!0)}else t.gridmenu.jqxMenu("disable",g.id,!0)}if(null!=f&&null!=m&&(t.groupable&&o.groupable?t.groups&&-1!=t.groups.indexOf(o.datafield)?(t.gridmenu.jqxMenu("disable",f.id,!0),t.gridmenu.jqxMenu("disable",m.id,!1)):(t.gridmenu.jqxMenu("disable",f.id,!1),t.gridmenu.jqxMenu("disable",m.id,!0)):(t.gridmenu.jqxMenu("disable",m.id,!0),t.gridmenu.jqxMenu("disable",f.id,!0))),null!=v){t.menuOwner=o,t._updatefilterpanel(t,v,o);var b=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(b+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(b+=2);var y=33*b+6;y=b*t._measureMenuElement()+14,e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=20,e(v).height(194)),t.isTouchDevice()&&(y+=10),t.filterable&&t.showfiltermenuitems&&(o.filterable?(t.gridmenu.height(y+194),e(v).css("display","block")):(t.gridmenu.height(y),e(v).css("display","none")))}t.columnmenuopening&&!1===t.columnmenuopening(t.gridmenu,o.displayfield,t.gridmenu.height())&&t._closemenu(),e.data(document.body,"contextmenu"+t.element.id,{column:o,columnsmenu:s[0]})};t.addHandler(h,"click",function(e){return!!o.menu&&(t.showfilterrow||("block"!=s[0].style.display&&r.trigger("mouseenter"),setTimeout(function(){"block"!=s[0].style.display&&r.trigger("mouseenter"),c()},200)),!1)}),t.addHandler(s,"click",function(e){return!!o.menu&&(c(),!1)}),t.isTouchDevice()&&t.addHandler(s,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return!!o.menu&&(t._hasOpenedMenu?t._closemenu():c(),!1)})},_removecolumnhandlers:function(t){var i=this.that,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);if(i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click"),i.removeHandler(r,"mousemove"),i.columnsreorder&&(i.removeHandler(r,"mousedown.drag"),i.removeHandler(r,"mousemove.drag")),i.removeHandler(r,"dragstart"),r[0].columnsmenu){var o=e(r[0].columnsmenu);i.removeHandler(o,"click"),i.removeHandler(o,"mousedown"),i.removeHandler(o,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,r){return this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; line-height: "+i+'px;"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; line-height: '+i+'px;"><a href="#">'+e+"</a></div>":'<a style="line-height: '+i+"px; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(t,i,r){var s=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(s.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var o=this.source.totalrecords;isNaN(o)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=o&&(s.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||s.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0))),s._prerenderrows(t),s._requiresupdate&&(s._requiresupdate=!1,s._updatepageviews());var l=function(){s._loading||(s.WinJS?MSApp.execUnsafeLocalFunction(function(){s._rendervisualrows()}):s._rendervisualrows(),s.virtualmode&&s.showaggregates&&s._updateaggregates&&s.refreshaggregates())},a=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){this.loadondemand&&(l(),function(){if(s.rendergridrows){var e=s._startboundindex;void 0==e&&(e=0);var t=e+1+s.dataview.pagesize;if(null!=e&&null!=t){var r=!!s.source._source;if((r?s.source._source.recordstartindex:s.source.recordstartindex)!=e||1==i){if(r){if(t>=s.source._source.totalrecords&&((e=(t=s.source._source.totalrecords)-s.dataview.pagesize-1)<0&&(e=0),s.source._source.recordendindex==t&&s.source._source.recordstartindex==e))return;s.source._source.recordstartindex=e,s.source._source.recordendindex=t}else s.source.recordstartindex=e,s.source.recordendindex=t;s.updatebounddata("cells")}}}}(),this.loadondemand=!1);var n=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?l():this.autoheight?l():n||a||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){l()},5)):l()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var d=this._getfirstvisualrow();if(null!=d){var h=this.scrollfeedback?this.scrollfeedback(d.bounddata):function(t){if(null==d)return"";var i="<table>",r=s.deferreddatafields;null==r&&s.columns.records.length>0&&(r=new Array).push(s.columns.records[0].displayfield);for(var o=0;o<r.length;o++){var l=s._getcolumnbydatafield(r[o]);if(l){var a=s._getcellvalue(l,d);""!=l.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(a)?a=e.jqx.dataFormat.formatdate(a,l.cellsformat,s.gridlocalization):e.jqx.dataFormat.isNumber(a)&&(a=e.jqx.dataFormat.formatnumber(a,l.cellsformat,s.gridlocalization))),i+="<tr><td>"+a+"</td></tr>"}}return i+"</table>"}();h!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=h,this._scrollelementcontent=h)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){s.hScrollInstance.isScrolling()||s.vScrollInstance.isScrolling()||(l(),s._scrollelement.css("visibility","hidden"),s._scrollelementoverlay.css("visibility","hidden"),clearInterval(s._scrolltimer),d&&s.ensurerowvisible(d.visibleindex))},100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((n=void 0==this._browser?this._isIE10():this._browser)||a)&&(this._updatedelay=5),n&&this.hScrollInstance.isScrolling())return void l();if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)l();else{var c=this._jqxgridrendertimer;null!=c&&clearTimeout(c),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?c=setTimeout(function(){l()},this._updatedelay):(c=null,l()),this._jqxgridrendertimer=c):(this._jqxgridrendertimer=c,l())}}if(s.autorowheight&&!s.autoheight&&this._pageviews.length>0){var u=this._gettableheight(),p=this._pageviews[0].height;if(p>u)if(this.pageable&&this.gotopage&&(p=this._pageviews[0].height)<0&&(p=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p<=u||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),p-u>0){if("deferred"!=this.scrollmode){var g=p-u,f=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:g}),Math.round(g)!=Math.round(f)&&this.vScrollBar.jqxScrollBar("value")>g&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:p});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=p)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.table[0].rows.length,s=this.columnsrow,o=this.groupable&&this.groups.length>0?this.groups.length:0,l=this.columns.records.length-o,a=this.columns.records,n=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),n&&!this._haspinned){for(var d=0;d<r;d++)for(var h=this.table[0].rows[d],c=0;c<o+l;c++)void 0!=(u=h.cells[c])&&a[c].pinned&&(u.style.marginLeft=i+"px",0==d&&(s[0].cells[c].style.marginLeft=i+"px"));this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else if(this._haspinned||void 0==this._haspinned){for(d=0;d<r;d++)for(h=this.table[0].rows[d],c=0;c<o+l;c++){var u;if(void 0!=(u=h.cells[c])&&a[c].pinned){if(0==i&&""==u.style.marginLeft)continue;var p=null,g=null,f=null;this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(f=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(g=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[c]),this.rtl?(u.style.marginLeft=-parseInt(t)+"px",0==d&&(s[0].cells[c].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),g&&(g.style.marginLeft=-parseInt(t)+"px"),f&&(f.style.marginLeft=-parseInt(t)+"px"))):(u.style.marginLeft=i+"px",0==d&&(s[0].cells[c].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),g&&(g.style.marginLeft=i+"px"),f&&(f.style.marginLeft=i+"px")))}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var m=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(m=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+m+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,r,s,o){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var l=0,a=-1,n=i+r,d=!1;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var h=0;h<i+r;h++)if(d||this.columns.records[h].pinned&&o&&(d=!0),this.columns.records[h].hidden||this.columns.records[h].adaptivehidden||(l+=this.columns.records[h].width),l>=e&&-1==a&&(a=h),l>t+e){n=h;break}return++n>i+r&&(n=i+r),(-1==a||d)&&(a=0),{start:a,end:n}},_getvirtualcolumnsindexes:function(e,t,i,r,s){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+r};var o=0,l=-1,a=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var n=0;n<i+r;n++)if(this.columns.records[n].hidden||this.columns.records[n].adaptivehidden||(o+=this.columns.records[n].width),o>=e&&-1==l&&(l=n),o>t+e){a=n;break}return++a>i+r&&(a=i+r),-1==l&&(l=0),{start:l,end:a}},_getfirstvisualrow:function(){var e=parseInt(this.vScrollInstance.value);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(e=0),!this.pageable){var t=this._findvisiblerow(e,this._pageviews);if(-1==t)return null;t!=this.dataview.pagenum?(this.dataview.pagenum=t,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var i=this._findvisiblerow(e,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum];if(r&&r[0])return r[i]},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,r=i.value,s=parseInt(t.value),o=parseInt(r),l=this._gettableheight(),a=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(l+=29),"deferred"==this.scrollmode&&0!=this._newmax&&s>this._newmax&&null!=this._newmax&&(s=this._newmax);var n=t.isScrolling()||i.isScrolling()||this._keydown,d=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(s=0),!this.pageable){var h=this._findvisiblerow(s,this._pageviews);if(-1==h)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();h!=this.dataview.pagenum?(this.dataview.pagenum=h,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var c=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var u=this.columns.records.length-c,p=this._findvisiblerow(s,this._pagescache[this.dataview.pagenum]),g=this._pagescache[this.dataview.pagenum],f=p;f<0&&(f=0);var m=0,v=0,w=0,x=0,b=this.virtualsizeinfo.visiblerecords,y=this.groupable?this.groups.length:0,_=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(_+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(b=this.dataview.pagesize),d&&(_=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(_+=" "+this.toTP("jqx-touch")),this.autorowheight&&(_+=" jqx-grid-cell-wrap");var q=this.rowsheight,j=this._rendercell,C=this._getvisualcolumnsindexes(o,a,c,u,d,!0),k=C.start,z=C.end,I=this._getvirtualcolumnsindexes(o,a,c,u,d),T=I.start,D=I.end;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(f=0),f>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=g?g[f].bounddata.boundindex:0,this._startvisibleindex=null!=g?g[f].bounddata.visibleindex:0;var S=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var B=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},P=0;P<S.length;P++){for(var L=S[P],H=0;H<T;H++)if(!this.columns.records[W=H].pinned&&null!=this.columns.records[W].datafield){B(A=L.cells[W])&&A.parentNode.removeChild(A);var G=this.columns.records[W].element;this.columns.records[W]._rendered=!1,B(G)&&this.columnsrow[0].removeChild(G),this.filterrow&&B(this.filterrow[0].cells[W])&&this.columns.records[W].filterable&&this.filterrow[0].cells[W].parentNode.removeChild(this.filterrow[0].cells[W])}for(H=D;H<this.columns.records.length;H++)this.columns.records[W=H].pinned||null==this.columns.records[W].datafield||(B(A=L.cells[W])&&A.parentNode.removeChild(A),G=this.columns.records[W].element,this.columns.records[W]._rendered=!1,B(G)&&this.columnsrow[0].removeChild(G),this.filterrow&&B(this.filterrow[0].cells[W])&&this.columns.records[W].filterable&&this.filterrow[0].cells[W].parentNode.removeChild(this.filterrow[0].cells[W]));for(H=T;H<D;H++){var A;B(A=L.cells[W=H])||L.appendChild(A),G=this.columns.records[W].element,this.columns.records[W]._rendered=!0,B(G)||this.columnsrow[0].appendChild(G),this.filterrow&&!B(this.filterrow[0].cells[W])&&this.columns.records[W].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[W])}}for(var E=0;E<b&&v<b;E++){var O=void 0!=g?g[f+E]:null;if(this.virtualmode&&E>=this.source.totalrecords&&(O=null),null==O){if(f=-E,this._pagescache[this.dataview.pagenum+1])g=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var M=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){g=void 0;break}this.dataview.pagenum++,g=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),g=this._pagescache[this.dataview.pagenum])}while(void 0==g&&this.dataview.pagenum<M)}void 0!=g&&(O=g[f+E])}if(null!=O){if(O.hidden)continue;if(this._endboundindex=this._startboundindex+E,this._endvisibleindex=this._startvisibleindex+E,0==E){var N=Math.abs(s-O.top);this.table[0].style.top=-N+"px",x=-N}if(!(L=this.table[0].rows[v]))continue;parseInt(L.style.height)!=O.height&&(L.style.height=parseInt(O.height)+"px"),w+=O.height;var F=!O.rowdetailshidden;(J=this.rowdetails&&O.rowdetails)&&F&&(L.style.height=parseInt(O.height-O.rowdetailsheight)+"px",b++);var R=this._isrowselected(!0,O);for(H=k;H<z;H++){var W;this._rendervisualcell(j,_,R,J,F,d,y,L,O,W=H,v,n)}if(void 0!=O.group&&this._rendergroup&&this._rendergroup(y,L,O,c,u,v,a),this.autorowheight&&(this.autoheight||this.pageable)){for(q=this.rowsheight,H=k;H<z;H++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[H].datafield&&this.editcell.row==this.getboundindex(O)&&this.editcell.editor?q=Math.max(q,this.editcell.editor.height()):L.cells[H].firstChild&&(q=Math.max(q,8+parseInt(L.cells[H].firstChild.offsetHeight)));L.style.height=parseInt(q)+"px",this.heights[this._startboundindex+E]=q,J&&F&&(q+=O.rowdetailsheight),O.height=q}if(this.visiblerows[this.visiblerows.length]=O,this.hittestinfo[this.hittestinfo.length]={row:O,visualrow:L,details:!1},J&&F&&(this._renderrowdetails(_,L=this.table[0].rows[++v],O,c,u,v),this.visiblerows[this.visiblerows.length]=O,this.hittestinfo[this.hittestinfo.length]={row:O,visualrow:L,details:!0}),!this.autorowheight&&w+x>=l)break}else cansetheight=!0,this._clearvisualrow(o,d,v,c,u),w+m+x<=l&&(m+=q);v++}if(this._horizontalvalue=o,m>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"));var U=this._pageviews[this._pageviews.length-1],V=t.max,Y=U.top+U.height-l;"visible"==this.hScrollBar.css("visibility")&&(Y+=this.scrollbarsize+20),V==Y||this.autorowheight||Y>=0&&("deferred"!=this.scrollmode?(t.max=Y,t.setPosition(t.max)):this._newmax!=Y&&(this._newmax=Y,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;var K=0,X=0;for(P=0;P<this.visiblerows.length;P++){var J,Q=this.visiblerows[P];for(Q.top=K,K+=Q.height,X+=Q.height,F=!Q.rowdetailshidden,L=this.table[0].rows[P],(J=this.rowdetails&&Q.rowdetails)&&F&&P++,H=k;H<z;H++){var Z=this.columns.records[H];if(!Z.hidden&&!Z.adaptivehidden&&!Z.cellsrenderer){var $=L.cells[H],ee=0;if($.firstChild?(ee=(Q.height-parseInt($.firstChild.offsetHeight)-8)/2,J&&F&&(ee=(Q.height-Q.rowdetailsheight-e($.firstChild).height()-8)/2)):ee=(Q.height-parseInt(e($).height())-8)/2,ee>=0&&(ee=parseInt(ee)+4,$.firstChild&&-1==$.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=Z.columntype&&"button"!=Z.columntype)){if(this.editable&&this.editcell&&this.editcell.column==Z.datafield&&this.editcell.row==this.getboundindex(Q))continue;$.firstChild.style.marginTop=ee+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=X),this._arrange()}this._renderemptyrow(),this.toCompile&&this.toCompile.length>0&&e.each(this.toCompile,function(t,i){if(this.compiled)return!0;var r=this.cell;if(!r)return!0;e.jqx.angularCompile&&e.jqx.angularCompile(r,"<div>"+this.value+"</div>"),this.compiled=!0})}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,r=0;r<t.cells.length;r++){var s=e(t.cells[r]);"none"==s.css("display")||i||s.width()!=this.host.width()&&s.text()!=this.gridlocalization.emptydatastring||(s[0].checkbox=null,s[0].button=null,i=!0,s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var r=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<r.cells.length;s++){var o=e(r.cells[s]);if("none"!=o.css("display")&&!t){o[0].checkbox=null,o[0].button=null,o[0].className=i,t=!0,o[0].innerHTML="";var l=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");l.text(this.gridlocalization.emptydatastring),o.append(l);var a=0;this.oldhscroll||(a=parseInt(this.table[0].style.marginLeft),this.rtl&&(o.css("z-index",999),o.css("overflow","visible"))),l.css("left",-a-l.width()/2),l.css("top",this._gettableheight()/2-l.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(l.css("margin-left","0px"),l.css("left",this.host.width()/2-l.width()/2));var n=Math.abs(parseInt(this.table[0].style.top));isNaN(n)&&(n=0),e(r).height(this._gettableheight()+n),o.css("margin-left","0px"),o.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}o.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=parseInt(this.hScrollInstance.value),i=this.groupable&&this.groups.length>0;if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(t,i,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var r=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var o=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=o){for(var l in this.selectedcells)l==o+"_"+i&&(r=!0);return r}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==t.bounddata.dataindex)for(var l in this.selectedcells)l==s+t.bounddata.boundindex+"_"+i&&(r=!0);else for(var l in this.selectedcells)l==s+t.bounddata.dataindex+"_"+i&&(r=!0);else for(var l in this.selectedcells)if(l==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==t.bounddata.dataindex){for(var l in this.selectedcells)if(l==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else for(var l in this.selectedcells)if(l==s+t.bounddata.dataindex+"_"+i){r=!0;break}}else for(var l in this.selectedcells)if(l==s+t.bounddata.boundindex==this.selectedrowindex){r=!0;break}return r},_isrowselected:function(e,t){var i=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var s=this.getrowboundindexbyid(t.bounddata.uid);return void 0!=s&&-1!=s&&(-1!=this.selectedrowindexes.indexOf(s)&&(i=!0),i||(i=s==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,r,s,o,l,a,n,d,h,c,u){var p=this.columns.records[h];if(p.hidden||p.adaptivehidden)(g=n.cells[h]).innerHTML="";else{cellvalue=this._getcellvalue(p,d);var g=n.cells[h],f=i;if(-1!=this.selectionmode.indexOf("cell")&&(r=this.dataview.filters.length>0?!!this.selectedcells[d.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[d.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(r=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(r=this._iscellselected(!0,d,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)f+=" "+p.cellclassname;else{var m=p.cellclassname(this.getboundindex(d),p.datafield,cellvalue,d.bounddata);m&&(f+=" "+m)}var v=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if("many"===this.sortmode&&this.showsortcolumnbackground)for(var w=this.getsortcolumns(),x=0;x<w.length;x++)p.displayfield===w[x].dataField&&(v=!0);if(v&&(f+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(f+=" "+this.toTP("jqx-grid-cell-filter")),d.bounddata.totalsrow&&(f+=" "+this.toTP("jqx-grid-cell-pinned")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(l&&d.bounddata.totalsrow||(f+=" "+this.toTP("jqx-grid-cell-pinned"))),this.altrows&&void 0==d.group){var b=d.visibleindex;b>=this.altstart&&(this.altstart+b)%(1+this.altstep)==0&&(f+=v?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(f+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(f+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(h<=a){if(l||this.rowdetails||this.pageable&&this.virtualmode){var y=e(g),_=this.columns.records[h].width;g.style.width!=parseInt(_)+"px"&&y.width(_)}}else(l||this.rowdetails)&&this._hiddencolumns&&(y=e(g),_=this.columns.records[h].width,parseInt(g.style.width)!=_&&y.width(_));var q=!0;if(this.rowdetails&&s&&(o&&!l?f+=" "+this.toTP("jqx-grid-details-cell"):l&&(f+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==d.group&&h==n.cells.length-a-1)return j=this.toThemeProperty("jqx-icon-arrow-down"),o?(f+=" "+this.toTP("jqx-grid-group-expand-rtl"),f+=" "+j):(f+=" "+this.toTP("jqx-grid-group-collapse-rtl"),f+=" "+(j=this.toThemeProperty("jqx-icon-arrow-left"))),q=!1,g.title="",g.innerHTML="",void(g.className!=f&&(g.className=f))}else if(void 0==d.group&&h==a&&!d.bounddata.totalsrow){var j=this.toThemeProperty("jqx-icon-arrow-down");return o?(f+=" "+this.toTP("jqx-grid-group-expand"),f+=" "+j):(f+=" "+this.toTP("jqx-grid-group-collapse"),f+=" "+(j=this.toThemeProperty("jqx-icon-arrow-right"))),q=!1,g.title="",g.innerHTML="",void(g.className!=f&&(g.className=f))}if(r&&q&&h>=a&&(f+=" "+this.toTP("jqx-grid-cell-selected"),f+=" "+this.toTP("jqx-fill-state-pressed")),g.className!=f&&(g.className=f),void 0!=d.group)return cellvalue="",g.title="",void(g.innerHTML="");t(this,p,d,cellvalue,g,u)}},_rendercell:function(t,i,r,s,o,l){var a=s+"_"+i.visibleindex;if("number"!=i.columntype&&null==i.cellsrenderer||(a=r.uniqueid+"_"+i.visibleindex),"number"==i.columntype&&(s=r.visibleindex),"adaptive"===i.columntype&&(s="..."),o.style.borderBottomColor=t.showrowlines?"":"transparent",t.showcolumnheaderlines?(i.element.style.borderRightColor="",i.element.style.boxShadow=""):(i.element.style.borderRightColor="transparent",i.element.style.boxShadow="none"),o.style.borderRightColor=t.showcolumnlines?"":"transparent",t.editcell&&void 0==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(r)&&t._showcelleditor)return t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,o,!1,!1):t._showcelleditor(t.editcell.row,i,o,t.editcell.init),void(o.className+=" "+t.toTP("jqx-grid-cell-edit"))}else if(t.editcell.row==t.getboundindex(r)&&t.editcell.column==i.datafield&&(t.editcell.element=o,t.editcell.editing&&t._showcelleditor))return t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init),void(o.className+=" "+t.toTP("jqx-grid-cell-edit"));var n=t._defaultcellsrenderer(s,i),d=t._cellscache[a];if(!d){if("checkbox"==i.columntype)return t._rendercheckboxcell(t,o,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+s));if("button"==i.columntype)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata)),t._renderbuttoncell(t,o,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+s));if("number"==i.columntype&&(s=r.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata)),t._renderwidgetcell(t,o,i,r,s),t._cellscache[a]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(o.title=s));if(g=null,null!=i.cellsrenderer){if((g=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata))&&(g.indexOf("<jqx-")>=0||g.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:o,value:g,row:t.getboundindex(r)}))}else g=n;null==g&&(g=n);var h=s;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?h=e.jqx.dataFormat.formatdate(h,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(h=e.jqx.dataFormat.formatnumber(h,i.cellsformat,t.gridlocalization))),o.title=h),t.WinJS)e(o).html(g);else{var c=o.innerHTML;c.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode?o.innerHTML=g:c.length>0?(f=g.indexOf(">"),m=g.indexOf("</"),v=g.substring(f+1,m),w=o.childNodes[0],v.indexOf(">")>=0?o.innerHTML=g:w.childNodes[0]?v!=w.childNodes[0].nodeValue&&(v.indexOf("&")>=0||c.indexOf("span")>=0?o.innerHTML=g:w.childNodes[0].nodeValue=v):(x=document.createTextNode(v),w.appendChild(x))):c!=g&&(o.innerHTML=g)}return t._cellscache[a]={element:o.innerHTML,title:h},!0}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===s&&(s=null);var u=0==o.innerHTML.toString().length;if(!o.checkbox||t.groupable||u?t._rendercheckboxcell(t,o,i,r,s):(o.checkboxrow=t.getboundindex(r),""==s&&(s=!1),"1"==s&&(s=!0),"0"==s&&(s=!1),1==s&&(s=!0),0==s&&(s=!1),"true"==s&&(s=!0),"false"==s&&(s=!1),null!=s||i.threestatecheckbox||(s=!1),i.checkboxcolumn&&(s=!1,t.dataview.filters.length>0&&!t.virtualmode&&void 0!=r.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(r.bounddata.dataindex)&&(s=!0):-1!=t.selectedrowindexes.indexOf(r.bounddata.boundindex)&&(s=!0)),t.disabled||(o.checkboxinstance?o.checkboxinstance._setState(s):o.checkbox.jqxCheckBox("_setState",s))),null!=i.cellsrenderer){var p=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata);void 0!=p&&(o.innerHTML=p)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==s&&(s=!1),null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,n,i.getcolumnproperties(),r.bounddata)),""==o.innerHTML&&(o.buttonrow=t.getboundindex(r),o.button=null,t._renderbuttoncell(t,o,i,r,s)),void(o.button&&!t.groupable?(o.buttonrow=t.getboundindex(r),o.button.val(s)):t._renderbuttoncell(t,o,i,r,s));if(i.createwidget)if(""==o.innerHTML&&(o.widgetrow=t.getboundindex(r),o.widget=null,i.widget=null,t._renderwidgetcell(t,o,i,r,s)),o.widget&&!t.groupable){if(o.widgetrow=t.getboundindex(r),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(r),i.datafield,s,o.firstChild)}else t._renderwidgetcell(t,o,i,r,s);else{var g=d.element;if(null!=i.cellsrenderer||o.childNodes&&0==o.childNodes.length||t.groupable||t.rowdetails)o.innerHTML!=g&&(o.innerHTML=g);else if(o.innerHTML.indexOf("editor")>=0)o.innerHTML=g;else if(l){var f=g.indexOf(">"),m=g.indexOf("</"),v=g.substring(f+1,m),w=o.childNodes[0];if(v.indexOf(">")>=0)o.innerHTML=g;else if(w.childNodes[0])v!=w.childNodes[0].nodeValue&&(v.indexOf("&")>=0?o.innerHTML=g:w.childNodes[0].nodeValue=v);else{var x=document.createTextNode(v);w.appendChild(x)}}else o.innerHTML!=g&&(o.innerHTML=g);t.enabletooltips&&i.enabletooltips&&(o.title=d.title)}},_isIE10:function(){if(void 0==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,-1!=(i+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,r,s,o){e(i),i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,r,s,o){if(t.host.jqxCheckBox){var l=e(i);if(""===o&&(o=!!r.threestatecheckbox&&null),null!==o||r.threestatecheckbox||(o=!1),"1"==o&&(o=!0),"0"==o&&(o=!1),1==o&&(o=!0),0==o&&(o=!1),"true"==o&&(o=!0),"false"==o&&(o=!1),r.checkboxcolumn){o=!1;var a=this.getboundindex(s);-1!=this.selectedrowindexes.indexOf(a)&&(o=!0)}0==l.find(".jqx-checkbox").length?(i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:r.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:o}),this.enabletooltips&&r.enabletooltips&&(i.title=""+o),this.editable&&r.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),r.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(s),e.data(i.firstChild,"jqxCheckBox").instance.updated=function(s,o,l){if(t.disabled){o=l;for(var a=t.table[0].rows.length,n=t._getcolumnindex(r.datafield),d=0;d<a;d++)(c=t.table[0].rows[d].cells[n].firstChild)&&e(c).jqxCheckBox({disabled:t.disabled})}if(r.editable&&!t.disabled){if(a=t.table[0].rows.length,n=t._getcolumnindex(r.datafield),void 0==t.editrow){if(r.cellbeginedit&&0==r.cellbeginedit(i.checkboxrow,r.datafield,r.columntype,!o))return void t.setcellvalue(i.checkboxrow,r.datafield,!o,!0);if(r.cellvaluechanging){var h=r.cellvaluechanging(i.checkboxrow,r.datafield,r.columntype,l,o);void 0!=h&&(o=h)}if("selectedrow"!==t.editmode)for(d=0;d<a;d++){var c;(c=t.table[0].rows[d].cells[n].firstChild)&&e(c).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,r.datafield,!o,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var u=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:u,datafield:r.datafield,value:l,columntype:r.columntype}),t.setcellvalue(i.checkboxrow,r.datafield,o,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:u,datafield:r.datafield,oldvalue:l,value:o,columntype:r.columntype})}else t.setcellvalue(i.checkboxrow,r.datafield,o,!1,!1);r.cellendedit&&r.cellendedit(i.checkboxrow,r.datafield,r.columntype,o)}}else r.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(o?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}):(i.checkboxrow=this.getboundindex(s),e(i.firstChild).jqxCheckBox("_setState",o,!(this.editable&&r.editable||r.checkboxcolumn)))}},_renderwidgetcell:function(t,i,r,s,o){0==e(i).find(".jqx-grid-widget").length?(i.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',r.createwidget(s,r.datafield,o,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(s),r.widget=e(i.firstChild)):(r.initwidget(t.getboundindex(s),r.datafield,o,i.firstChild),i.widgetrow=t.getboundindex(s),e(i.firstChild).val(o))},_renderbuttoncell:function(t,i,r,s,o){if(t.host.jqxButton){var l=e(i);if(""==o&&(o=!1),0==l.find(".jqx-button").length)if(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(o),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:r.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(s),this.isTouchDevice()){var a=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),a,function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)});else i.buttonrow=t.getboundindex(s),e(i.firstChild).val(o)}},_clearvisualrow:function(t,i,r,s,o){var l=this.toTP("jqx-grid-cell");i&&(l=" "+this.toTP("jqx-grid-group-cell")),l+=" "+this.toTP("jqx-grid-cleared-cell");for(var a=this.table[0].rows,n=0;n<s+o;n++)if(a[r]){var d=a[r].cells[n];d.className!=l&&(d.className=l);var h=this.columns.records[n];this._horizontalvalue==t||h.pinned||1!=this.oldhscroll||(d.style.marginLeft=-t+"px");var c=h.width;h.adaptivewidth&&(c=h.adaptivewidth),c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth),parseInt(d.style.width)!=c&&(e(d)[0].style.width="auto"!=c?c+"px":c),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}a[r]&&parseInt(a[r].style.height)!=this.rowsheight&&(a[r].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this.text,r=this,!1}),this._columnsbydatafield[t]={label:i,column:r},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=null;return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),this.__columnsbydatafield[t]=i,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,r,s,o,l){if(void 0!=i){var a=e(i),n=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var d=0;d<=o;d++){var h;(h=e(i.cells[d]))[0].innerHTML="",h[0].className="jqx-grid-details-cell"}if("none"==(h=e(i.cells[0]))[0].style.display){for(var c=i.cells[0],u=2;void 0!=c&&"none"==c.style.display&&u<10;)c=i.cells[0+u-1],u++;h=e(c)}if(this.rtl)for(var p=s;p<o;p++)i.cells[p].innerHTML="",i.cells[p].className="jqx-grid-details-cell";h.css("width","100%"),a.height(r.rowdetailsheight),h[0].className=t;var g=this.getboundindex(r),f=g+"_";if(this._rowdetailscache[f]){var m=this._rowdetailscache[f].html;if(this.initrowdetails){if(this._rowdetailscache[f].element){var v=this._rowdetailscache[f].element,w=h.coord(),x=this.gridcontent.coord(),b=parseInt(w.top)-parseInt(x.top),y=parseInt(w.left)-parseInt(x.left);this.rtl&&(y=0),e(v).css("top",b),e(v).css("left",y),e(v).css("display","block"),e(v).width(this.host.width()-n),this.layoutrowdetails&&this.layoutrowdetails(g,v,this.element,this.getrowdata(g))}}else h[0].innerHTML=m}else{h[0].innerHTML="",this.enablerowdetailsindent||(n=0);var _='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+n+'px;">'+r.rowdetails+"</div>";if(this.rtl&&(_='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+n+'px;">'+r.rowdetails+"</div>"),this._rowdetailscache[f]={id:i.id,html:_},this.initrowdetails){v=e(_)[0],e(this.gridcontent).prepend(e(v)),e(v).css("position","absolute"),e(v).width(this.host.width()-n),e(v).height(h.height()),w=h.coord(),e(v).css("z-index",599),this.isTouchDevice()&&e(v).css("z-index",999),e(v).addClass(this.toThemeProperty("jqx-widget-content")),w=h.coord(),x=this.gridcontent.coord(),b=parseInt(w.top)-parseInt(x.top),y=parseInt(w.left)-parseInt(x.left),e(v).css("top",b),e(v).css("left",y),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var q=e(e(v).children()[0]);""!=q[0].id&&(q[0].id=q[0].id+g),this.initrowdetails(g,v,this.element,this.getrowdata(g)),this._rowdetailscache[f].element=v,this._rowdetailselementscache[g]=v}else h[0].innerHTML=_}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var r="8px";if(31!=this.rowsheight&&((r=this.rowsheight/2-this._cellheight/2)<0&&(r=4),r+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+r+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+r+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+r+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+r+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+r+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var r=this.getcellvalue(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var r=this.getcellvaluebyid(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrenderedrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},_getcellresult:function(e,t,i){var r=this.getcolumn(i);if(null==r||void 0==r)return null;var s=r.getcolumnproperties(),o=s.hidden,l=s.width,a=s.pinned,n=s.cellsalign,d=s.cellsformat,h=this.getrowheight(t);return 0==h?null:{value:e,row:t,column:i,datafield:i,width:l,height:h,hidden:o,pinned:a,align:n,format:d}},setcellvaluebyid:function(e,t,i,r,s){var o=this.getrowboundindexbyid(e);return this.setcellvalue(o,t,i,r,s)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,r,s,o){if(null==t||null==i)return!1;var l=parseInt(t),a=t;isNaN(l)||(a=this.getrowdata(l));var n=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(n=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var d="",h="";if(null==a||a[i]===r)return this._updating||0==s||this._renderrows(this.virtualsizeinfo),!1;if(null!==a[i]||""!==r){var c=this._getcolumnbydatafield(i),u="string";if(y=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var p="";e.each(y,function(){if(this.name==c.displayfield)return this.type&&(p=this.type),!1}),p&&(u=p),h=a[c.displayfield]}if(d=a[i],!c.nullable||null!=r&&""!==r&&c.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(d)||"number"==u||"float"==u||"int"==u||"decimal"==u&&"date"!=u)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&r&&r.indexOf&&r.indexOf(",")>=0&&(r=r.replace(",",".")),r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(d)||"date"==u)&&""!=r){var g=r;"Invalid Date"!=(g=new Date(g))&&null!=g?r=g:"Invalid Date"==g&&(r=g=new Date)}if(a[i]===r)return void(this._updating||0==s||this._renderrows(this.virtualsizeinfo))}var f=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(a[i]=r,f){var m=this.source._source.localdata;m._updating||(m._updating=!0,m[t][i]=r,m._updating=!1)}var v=this.getrenderedrowdata(l,!0);if(v){if(v[i]=r,null!=r&&null!=r.label&&(a[(c=this._getcolumnbydatafield(i)).displayfield]=r.label,v[c.displayfield]=r.label,a[i]=r.value,v[i]=r.value,f&&!m._updating&&(m._updating=!0,m[t][i]=r.value,m[t][c.displayfield]=r.label,m._updating=!1)),n&&void 0!=a.dataindex&&(this.dataview.cachedrecords[a.dataindex][i]=r,null!=r&&void 0!=r.label&&(this.dataview.cachedrecords[a.dataindex][i]=r.value,this.dataview.cachedrecords[a.dataindex][c.displayfield]=r.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var w=l;n&&void 0!=a.dataindex&&(w=a.dataindex);var x=this.source._source._localdata()[w];this.source.suspendKO=!0;var b=x;if(b[i]&&b[i].subscribe)null!=r&&null!=r.label?(b[c.displayfield](r.label),b[i](r.value)):b[i](r);else{var y,_=null;if((y=this.source._source.datafields)&&e.each(y,function(){if(this.name==i)return _=this.map,!1}),null==_)null!=r&&null!=r.label?(b[i]=r.value,b[c.displayfield]=r.label):b[i]=r;else{var q=_.split(this.source.mapChar);if(q.length>0){for(var j=b,C=0;C<q.length-1;C++)j=j[q[C]];j[q[q.length-1]]=r}}this.source._source._localdata.replace(x,e.extend({},b))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var k=this.getsortinformation();if(this.sortcolumn==i&&"many"!==this.sortmode)this.dataview.clearsortdata(),this.dataview.sortby(k.sortcolumn,k.sortdirection.ascending);else if("many"===this.sortmode){var z=this.getsortcolumns();this.dataview.clearsortdata(),this.sortby(null);for(var I=0;I<z.length;I++)this.sortby(z[I].dataField,z[I].ascending)}}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(void 0==o||1==o)){var T=this.that;try{var D=this.getrowid(l);this.source.updaterow(D,a,function(e){0==e&&(T.setcellvalue(t,i,d,!0,!1),d!=h&&T.setcellvalue(t,T.getcolumn(i).displayfield,h,!0,!1))})}catch(e){return T.setcellvalue(t,i,d,!0,!1),void(d!=h&&T.setcellvalue(t,T.getcolumn(i).displayfield,h,!0,!1))}}var S=this.vScrollInstance.value;if(this._updating&&1!=s&&(s=!1),1==s||void 0==s){T=this.that;var B=function(){T.pageable&&T.updatepagerdetails&&(T.updatepagerdetails(),(T.autoheight||T.autorowheight)&&T._updatepageviews())},P=this.groupable&&this.groups.length>0;n&&!P?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),B(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!P?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),B(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(S),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var L=this.getcolumn(i).filtertype;"list"!=L&&"checkedlist"!=L||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:r,value:r,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e;return isNaN(i)||(r=this.getrowdata(i)),null!=r?r[t]:null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,r=0;r<this.dataview.records.length;r++){var s=this.dataview.records[r];s&&i.push(s)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){this&&i.push(this)});var o=0;return this.pageable&&(o=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-o?i.slice(0,this.source._source.totalrecords-o):i}if(this.dataview.sortdata){for(i=new Array,r=0;r<t;r++){var l;l=e.extend({},this.dataview.sortdata[r].value),i[r]=l}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return r;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){return void 0==e&&(e=0),this.virtualmode?this.dataview.records[e]:this.getboundrows()[e]},getrenderedrowdata:function(e,t){if(void 0==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e);return this.dataview.loadedrecords[i]}if((i=this.getrowvisibleindex(e))>=0){if(this.groupable&&this.groups.length>0)var r=this.dataview.loadedrecords[i];else r=this.dataview.loadedrecords[i],!this.pageable||void 0!=t&&0!=t||(r=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]);return r}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize&&void 0!=(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]);t++)e.push(i);return e}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i;if(void 0==(i=this.dataview.loadedrecords[t]))break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e);if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null;if(e>=0&&e<this.dataview.bounditems.length&&!(this.dataview.filters.length>0)&&(t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t]))return i.uid;if(this.dataview.filters.length>0)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):("updaterow"===e&&(this.dataview.refresh(),this.virtualmode||this._render(!0,!0,!1,!1,!1)),this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,r){if(void 0!=t&&void 0!=i){var s=this.that,o=!1;s._datachanged=!0;var l=function(t,i,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var o=!1;e.isArray(i)?(e.each(i,function(e,i){o=t.dataview.updaterow(this,s[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):o=t.dataview.updaterow(i,s);var l=t.vScrollInstance.value;if(void 0!=r&&1!=r||void 0!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var a=t.dataview.recordsbyid["id"+i],n=t.dataview.records.indexOf(a),d=t.source._source._localdata()[n];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},a)),t.source.suspendKO=!1}if(t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var h=t.getrowboundindexbyid(i);t.source._source.localdata.set(h,s),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(l),o};if(this.source.updaterow)try{void 0==(o=this.source.updaterow(t,i,function(e){1==e||void 0==e?l(s,t,i):o=!1}))&&(o=!0)}catch(e){o=!1}else o=l(s,t,i);return o}return!1},deleterow:function(t,i){if(void 0!=t){this._datachanged=!0;var r=!1,s=this.that,o=this.getrowboundindexbyid(t),l=new Array;if(new Array,void 0!=o&&(this.selectedrowindexes.indexOf(o)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(o),1),this.selectedrowindex==o&&(this.selectedrowindex=-1),!this.virtualmode))if(s.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=s.getrowid(this);l.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(s.selectionmode.indexOf("cell")>=0)for(var a in s.selectedcells){var n=s.selectedcells[a],d=s.getrowid(n.rowindex);n.rowid=d}var h=function(t,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var s=!1,a=t.vScrollInstance.value;if(e.isArray(r)?(e.each(r,function(){s=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):s=t.dataview.deleterow(r),!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(l,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var n=new Array;for(var d in t.selectedcells){var h=t.selectedcells[d],c=t.getrowboundindexbyid(h.rowid);-1!=c&&(h.rowindex=c,n[c+"_"+h.datafield]=h)}t.selectedcells=n}if(void 0!=t._updating&&0!=t._updating||void 0!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(o,1),t.source._source.localdata._updating=!1)),t.dataview.sortby&&"many"!==t.sortmode){var u=t.getsortinformation();u.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(u.sortcolumn,u.sortdirection?u.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(a),s};if(this.source.deleterow)try{this.source.deleterow(t,function(e){1!=e&&void 0!=e||h(s,t)}),void 0==r&&(r=!0)}catch(e){r=!1}else r=h(s,t);return r}return!1},addrow:function(t,i,r){if(void 0!=i){this._datachanged=!0,void 0==r&&(r="last");var s=!1,o=this.that;if(null==t){var l=this.dataview.filters&&this.dataview.filters.length>0?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var a=new Array;e.each(i,function(e,t){var r=o.dataview.getid(o.dataview.source.id,i[e],l+e);a.push(r)}),t=a}else for(t=this.dataview.getid(this.dataview.source.id,i,l);null!=this.dataview.recordsbyid["id"+t];)t++}var n=function(t,i,r,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var o=t.vScrollInstance.value,l=!1;if(e.isArray(r)?(e.each(r,function(e,r){void 0!=this.dataindex&&delete this.dataindex;var o=null;null!=i&&null!=i[e]&&(o=i[e]),l=t.dataview.addrow(o,this,s,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(void 0!=r&&void 0!=r.dataindex&&delete r.dataindex,l=t.dataview.addrow(i,r,s)),void 0!=t._updating&&0!=t._updating||(t._render(!0,!0,!1,!1),t.invalidate()),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var a=t.getrowboundindexbyid(i);t.source._source.localdata.set(a,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition("deferred"!=t.scrollmode?o:0),l};if(this.source.addrow){try{void 0==(s=this.source.addrow(t,i,r,function(e,s){1!=e&&void 0!=e||(void 0!=s&&(t=s),n(o,t,i,r))}))&&(s=!0)}catch(e){s=!1}if(0==s)return!1}else n(this,t,i,r);return s}return!1},_findvisiblerow:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.rows.records);for(var r=t.length;i<=r;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.top>e&&s.top+s.height>e)r=mid-1;else{if(!(s.top<e&&s.top+s.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(void 0!=t.gridcontent){void 0==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,r=0,s=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(s=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),s=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(s=t.dataview.totalrecords),t.rowdetails&&(s+=t.dataview.pagesize),t.columns.records){for(var o=t.columns.records.length,l=t.table[0].rows,a=0;a<s;a++){var n=l[a];if(!n)break;for(var d=n.cells,h=0,c=0;c<o;c++){var u=t.columns.records[c],p=u.width;u.adaptivewidth&&(p=u.adaptivewidth);var g=d[c];parseInt(g.style.left)!=h&&(g.style.left=h+"px"),parseInt(g.style.width)!=p&&(g.style.width=p+"px"),u.hidden&&u.hideable||u.adaptivehidden?g.style.display="none":h+=parseFloat(p)}0==r&&(t.table.width(parseFloat(h)+2),r=h)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,r=e.vScrollBar[0].style.visibility;"visible"==r&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var s=e.element.style.width;if(s=s.toString().indexOf("%")>=0?e.host.width():parseInt(s),parseInt(e.table[0].style.width)-2>s-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==r){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var o=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(o)&&o>0&&e.vScrollBar.jqxScrollBar("max","hidden"!=t?o+e.scrollbarsize+4:o)}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),void 0==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var r=i.groupable&&i.groups.length>0,s=0;i.table[0].rows=new Array;var o=i.toTP("jqx-grid-cell");r&&(o=" "+i.toTP("jqx-grid-group-cell"));var l=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(l=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),(l=i.dataview.rows.length)<i.dataview.pagesize&&(l=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(l=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(l=i.dataview.rows.length),i.rowdetails&&(l+=i.autoheight||i.autorowheight?i.dataview.pagesize:l),!i.columns.records)return;var a=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var n=e.jqx.browser.msie&&e.jqx.browser.version<8;n&&i.host.attr("hideFocus","true");var d=i.tableZIndex;l*a>d&&(d=l*a),i.isTouchDevice();var h="";i._hiddencolumns=!1;for(var c=5+i.columns.records.length,u=0;u<l;u++){var p='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+u+i.element.id+'">';n&&(p='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+u+i.element.id+'">',d--);for(var g=0,f=0;f<a;f++){if((y=(b=i.columns.records[f]).width)<b.minwidth&&(y=b.minwidth),y>b.maxwidth&&(y=b.maxwidth),i.rtl){var m='<div role="gridcell" style="left: '+g+"px; z-index: "+(d-a+2*f)+"; width:"+y+"px;";d--}else m='<div role="gridcell" style="left: '+g+"px; z-index: "+d--+"; width:"+y+"px;";b.hidden&&b.hideable||b.adaptivehidden?(m+="display: none;",i._hiddencolumns=!0,d++):g+=y,0===u&&0===f&&(m+='" tabindex="'+c+'"'),m+='" class="'+o+'">',m+=this._defaultcellsrenderer("",b),p+=m+="</div>"}0==s&&(i.table.width(parseInt(g)+2),s=g),h+=p+="</div>"}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(h)}):i.table[0].innerHTML=h,i.table[0].rows=new Array;var v=i.table.children();for(u=0;u<l;u++){var w=v[u];i.table[0].rows.push(w),w.cells=new Array;var x=e(w).children();for(f=0;f<a;f++)w.cells.push(x[f])}if(0==l){for(g=0,i.showemptyrow&&(p=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>'),i.table.append(p),p.height(i.rowsheight),i.table[0].rows[0]=p[0],i.table[0].rows[0].cells=new Array),f=0;f<a;f++){var b,y=(b=i.columns.records[f]).width;i.showemptyrow&&((m=e('<div style="position: absolute; height: 100%; left: '+g+"px; z-index: "+d--+"; width:"+y+'px;" class="'+o+'"></div>')).height(i.rowsheight),p.append(m),i.table[0].rows[0].cells[f]=m[0]),y<b.minwidth&&(y=b.minwidth),y>b.maxwidth&&(y=b.maxwidth),b.hidden&&b.hideable||b.adaptivehidden||(g+=y)}i.table.width(parseInt(g)+2),s=g}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,r=!1,s=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:void 0==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,r=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var o=0,l=0;l<i.columns.records.length;l++){var a=i.columns.records[l].width;o+="auto"==a?a=i._measureElementWidth(i.columns.records[l].text):a}"hidden"!=i.vScrollBar.css("visibility")&&(o+=i.scrollbarsize+4),i.width=e=o}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:void 0==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,s=!0);var n=function(){var e=0;return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=15),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage)t=(d=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=n(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight);else{var d=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=n(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&i.dataloadelement.height(t=250),(t+=n())>1e4&&(t=1e4));null!=e?(e=parseInt(e),r?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),r&&((e=i.host.width())<=2&&i.host.width(e=600),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(s||(t=parseInt(t)),s?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),s&&!i.autoheight&&(0==(t=i.host.height())&&i.host.height(t=400),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var h,c=0;i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),c+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.statusbar.width(i.showaggregates&&i.table?Math.max(e,i.table.width()):e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()?(i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",c),c+=h=i.groupsheader.height()+1,t>h&&(t-=parseInt(h))):(i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=c+"px"&&i.groupsheader.css("top",c),i.content[0].style.top!=c+(h=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0)+"px"&&i.content.css("top",c+i.groupsheaderheight));var u=i.scrollbarsize;isNaN(u)&&(u=parseInt(u),isNaN(u)?u="17px":u+="px"),u=parseInt(u);var p=2,g=0;"visible"==i.vScrollBar[0].style.visibility&&(g=u+4),"visible"==i.hScrollBar[0].style.visibility&&(p=u+4+2),0==u&&(g=0,p=0);var f=0;i.pageable&&(f=i.pagerheight,p+=i.pagerheight),i.showstatusbar&&(p+=i.statusbarheight,f+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(p+=i.everpresentrowheight,f+=i.everpresentrowheight),i.hScrollBar[0].style.height!=u+"px"&&(i.hScrollBar[0].style.height=parseInt(u)+"px"),i.hScrollBar[0].style.top==c+t-4-u-f+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:c+t-4-u-f+"px",left:"0px"});var m=i.hScrollBar[0].style.width,v=!1,w=!1;0==g?m!=e-2+"px"&&(i.hScrollBar.width(e-2),v=!0):m!=e-u-4+"px"&&(i.hScrollBar.width(e-u-4+"px"),v=!0),i.autoheight||(i.vScrollBar[0].style.width!=u+"px"&&(i.vScrollBar.width(u),w=!0),i.vScrollBar[0].style.height!=parseInt(t)-p+"px"&&(i.vScrollBar.height(parseInt(t)-p+"px"),w=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(u)-4+"px"&&i.vScrollBar[0].style.top==c+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(u)-4+"px",top:c})),i.rtl&&(i.vScrollBar.css({left:"0px",top:c}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:u+2}));var x=i.vScrollInstance;x.disabled=i.disabled,i.autoheight||w&&x.refresh();var b=i.hScrollInstance;b.disabled=i.disabled,v&&b.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var y=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(u)+3),e.bottomRight.height(parseInt(u)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0;t>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(u)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(u)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"};if(y(this),i.content[0].style.width!=e-g+"px"&&i.content.width(e-g),i.content[0].style.height!=t-p+3+"px"&&i.content.height(t-p+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=c+"px"&&i.content.css("top",c),i.rtl&&(i.content.css("left",g),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var _=i.table.width();_<e-g&&i.content.css("left",e-_)}if(i.showstatusbar&&(i.statusbar.css("top",c+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:c+t-4-u-f+i.statusbarheight+"px"}),i.statusbar.css("top",1+c+t-u-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),y(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",c+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",c+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var q=-2;if("visible"==i.vScrollBar[0].style.visibility&&(q=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var j=q+i.table.width()-i.host.width();j>=0&&i.hScrollBar.jqxScrollBar("max",j),"visible"==i.hScrollBar[0].style.visibility&&0==j&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),this.pagergotoinput&&(this.pagergotoinput.offset().top!==this.pagergoto.offset().top?(this.pagergotoinput.css("visibility","hidden"),this.pagergoto.css("visibility","hidden")):(this.pagergotoinput.css("visibility","inherit"),this.pagergoto.css("visibility","inherit"))),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;i<t;i++){for(var r=this.table[0].rows[i],s=r.cells.length,o=0;o<s;o++)e(r.cells[o]).remove(),r.cells[o]=null,delete r.cells[o];r.cells=null,r.cells&&delete r.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++){var l=this.columns.records[i];l.addnewrowwidget&&l.destroyeverpresentrowwidget&&l.destroyeverpresentrowwidget(l.addnewrowwidget),l.destroywidget&&l.destroywidget&&l.destroywidget(l.widget),this._removecolumnhandlers(this.columns.records[i]),l.element&&(e(l.element).remove(),e(l.sortasc).remove(),e(l.sortdesc).remove(),e(l.filtericon).remove(),e(l.menu).remove(),l.element=null,l.uielement=null,l.sortasc=null,l.sortdesc=null,l.filtericon=null,l.menu=null,delete l.element,delete l.uielement,delete l.sortasc,delete l.sortdesc,delete l.filtericon,delete l.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var a=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),a),this.removeHandler(e(document),n),this.removeHandler(e(document),d)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()&&(a=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id,this.removeHandler(e(document),a),this.removeHandler(e(document),n),this.removeHandler(e(document),d)),this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable&&(a="mousemove.grouping"+this.element.id,n="mousedown.grouping"+this.element.id,d="mouseup.grouping"+this.element.id,this.removeHandler(e(document),a),this.removeHandler(e(document),n),this.removeHandler(e(document),d)),this.columnsreorder&&(a="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,d="mouseup.reorder"+this.element.id,this.removeHandler(e(document),a),this.removeHandler(e(document),n),this.removeHandler(e(document),d),delete this.columnsbounds),this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length){var h=this.menuitemsarray.length;for(i=0;i<h;i++)e(this.menuitemsarray[i]).remove()}delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var r=!!i&&i.length>0;if(this.autogeneratecolumns){var s=new Array;if(i)e.each(i,function(){s.push({datafield:this.name,text:this.text||this.name,cellsformat:this.format||""})});else if(this.source.records.length>0){var o=this.source.records[0];for(obj in o)if("uid"!=obj){var l={width:100,datafield:obj,text:obj};s.push(l)}}this.columns=s}if(this.columns&&this.columns.records)for(var a=0;a<this.columns.records.length;a++)this._removecolumnhandlers(this.columns.records[a]);var n=this.that,d=new e.jqx.collection(this.element),h=0;this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(n,this);i.visibleindex=h++,i.width=n.groupindentwidth,d.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn&&((l=new t(n,this)).visibleindex=h++,l.width=n.groupindentwidth,l.pinned=!0,l.editable=!1,l.filterable=!1,l.draggable=!1,l.groupable=!1,l.resizable=!1,d.add(l),n._haspinned=!0),"checkbox"==this.selectionmode&&((l=new t(n,null)).visibleindex=h++,l.width=n.groupindentwidth,l.checkboxcolumn=!0,l.editable=!1,l.columntype="checkbox",l.groupable=!1,l.draggable=!1,l.filterable=!1,l.resizable=!1,l.datafield="_checkboxcolumn",d.add(l));var c=new Array;e.each(this.columns,function(e){if(void 0!=n.columns[e]){var i=new t(n,this);if(i.visibleindex=h++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(n._haspinned=!0),n.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)n.source&&n.source._source&&"array"==n.source._source.datatype&&(r||(n.source._source.datafields?n.source._source.datafields.push({name:e.toString()}):(n.source._source.datafields=new Array,n.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}d.add(i)}}),this.adaptive&&((l=new t(n,null)).visibleindex=h++,l.width=n.groupindentwidth,l.editable=!1,l.columntype="adaptive",l.cellsalign="center",l.groupable=!1,l.draggable=!1,l.menu=!1,l.sortable=!1,l.filterable=!1,l.resizable=!1,l.datafield="_adaptivecolumn",d.add(l)),this.rtl&&d.records.reverse(),this.columns=d},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(void 0==i&&(i={owner:null}),!1!==this._trigger){var r=this.events[t];if(this._camelCase||(r=r.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var s=this;setTimeout(function(){s.updateeverpresentrow()},50)}args=i,args.owner=this;var o=new e.Event(r);o.owner=this,o.args=args;var l=this.host.trigger(o);return i=o.args,l}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),!!r&&(e.returnValue=r=!1,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")&&(t=this.hScrollInstance.value,this.hScrollInstance.setPosition(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.value-2*this.horizontalscrollbarstep:0:this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.value+2*this.horizontalscrollbarstep:this.hScrollInstance.max),t!=this.hScrollInstance.value))return!0;return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value+this.rowsheight<=e.max?parseInt(e.value)+this.rowsheight:e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.setPosition(e.value-this.rowsheight>=e.min?parseInt(e.value)-this.rowsheight:e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),r=t.host.width(),s=t.host.height(),o=!1,l=!1;if((e.pageY<i.top||e.pageY>i.top+s)&&(o=!0,l=!0),(e.pageX<i.left||e.pageX>i.left+r)&&(o=!0),o){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var a=t.editcell.editor.jqxDateTimeInput("container").coord().top,n=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!l||!(e.pageY<a||e.pageY>n))return;o=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){if(a=t.editcell.editor.jqxComboBox("container").coord().top,n=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height(),!l||!(e.pageY<a||e.pageY>n))return;o=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){if(a=t.editcell.editor.jqxDropDownList("container").coord().top,n=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height(),!l||!(e.pageY<a||e.pageY>n))return;o=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],h=function(i){var r=t.editcell.editor.data();if(r[i]&&r[i].instance.container&&"block"==r[i].instance.container[0].style.display){var s=r[i].instance,a=s.container.coord().top,n=s.container.coord().top+s.container.height();return!(!l||!(e.pageY<a||e.pageY>n)||(o=!0,s.close(),0))}},c=0;c<d.length;c++)if(0==h(d[c]))return}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(void 0!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue),t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(r){if(t.virtualsizeinfo){t._closemenu();var s=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};i?s():(void 0==t._browser&&t._isIE10(),navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},.01)):s()),i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){if(!t.editcell&&t.enablemousewheel)return t.wheel(e,t),!1},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var r="mousedown.jqxgrid";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,r,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var r=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,r}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){return t.editable&&t.begincelledit&&"dblclick"==t.editmode?t._handledblclick(i,t):e.jqx.browser.msie&&e.jqx.browser.version<9&&t._handlemousedown(i,t),t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){if(t._handlemousemove)return t._handlemousemove(e,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){if(t._handlemousemoveselection)return t._handlemousemoveselection(e,t)},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)&&t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(e){}})}}catch(e){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t._overlayElement[0].style.visibility=t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?"visible":"hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){if(!0===t.__drag)return!1}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return!!(i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0)||!!t.editcell&&void(i.stopPropagation&&i.stopPropagation())}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){if(t.adaptiveview)return!0;if(t._keydown=!t.editcell,20===(s=i.charCode?i.charCode:i.keyCode?i.keyCode:0)&&(t._capsLock=!t._capsLock),t.handlekeyboardnavigation&&(t.focused||i.target===t.element||e(i.target).ischildof(t.host))&&1==t.handlekeyboardnavigation(i))return!1;if(t.editable&&t.editcell&&(13!=s&&27!=s&&9!=s&&32!=s||t._handleeditkeydown&&(r=t._handleeditkeydown(i,t))),27==s&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==s&&0==r)return r;var r=!0,s=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t)),r&&t.keyboardnavigation&&t._handlekeydown)return(r=t._handlekeydown(i,t))||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),r}return!0}),t.addHandler(t.host,"keyup.edit"+t.element.id,function(i){if(t.adaptiveview)return!0;if(9===i.keyCode&&!e(document.activeElement).ischildof(t.filterrow)&&!e(document.activeElement).ischildof(t.pager))switch(t.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":null===t.getselectedcell()&&t.selectcell(0,t.columns.records[0].displayfield);break;default:-1===t.getselectedrowindex()&&t.selectrow(0)}}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var r=!0;if(t.adaptiveview)return!0;if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(i))return!1;if(t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),!t.editcell&&i.altKey&&!e(document.activeElement).ischildof(t.filterrow)&&!e(document.activeElement).ischildof(t.pager))if(40===i.keyCode){var s=t.getselectedcell();s&&t.openmenu(s.column)}else 38===i.keyCode&&t._closemenu();return e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),i.stopPropagation()):r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),r||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),r&&t.selectedcells&&t.selectedcells.length>0&&9===i.keyCode&&i.shiftKey&&t.table&&t.table[0].rows&&t.table[0].rows.length>0&&(e(document.activeElement).ischildof(t.filterrow)||e(document.activeElement).ischildof(t.pager)||t.table[0].rows[0].cells[0].focus()),r}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==t&&(t=0);var r=this.hScrollInstance,s=this.vScrollInstance.value;"visible"!=this.vScrollBar.css("visibility")&&(s=0);var o=r.value;"visible"!=this.hScrollBar.css("visibility")&&(o=0),"deferred"==this.scrollmode&&null!=this._newmax&&s>this._newmax&&(s=this._newmax);var l=parseInt(s)+i;if(parseInt(o),null!=this.visiblerows&&0!=this.visiblerows.length){var a=!1,n=this._findvisiblerow(l,this.visiblerows);if(n>=0){var d=this.visiblerows[n],h=!d.rowdetailshidden;if(this.rowdetails&&d.rowdetails){var c=this.visiblerows[n-1];if(c==d&&(d=c,n--),h){var u=e(this.hittestinfo[n].visualrow).position().top+parseInt(this.table.css("top")),p=e(this.hittestinfo[n].visualrow).height();i>=u&&i<=u+p||(d=this.visiblerows[++n],a=!0)}}}return{index:n,row:d,details:a}}}},getcellatposition:function(t,i){var r=this.that,s=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0;o+=this.showtoolbar?this.toolbarheight:0;var l=this.host.coord();this.hasTransform&&(l=e.jqx.utilities.getOffset(this.host));var a=t-l.left,n=i-s-l.top-o,d=this._hittestrow(a,n),h=d.row,c=this.table[0].rows[d.index];if(this.dataview&&0==this.dataview.records.length){for(var u=this.table[0].rows,p=0,g=0;g<u.length;g++){if(n>=p&&n<p+this.rowsheight){c=u[g];break}p+=this.rowsheight}h={boundindex:g}}if(null==c)return!0;var f=this.hScrollInstance.value,m=0;for(g=0;g<c.cells.length;g++){var v=parseInt(e(this.columnsrow[0].cells[g]).css("left"));if(t=v-f,r.columns.records[g].pinned&&(t=v),!r.columns.records[g].hidden&&!r.columns.records[g].adaptivehidden&&t+e(this.columnsrow[0].cells[g]).width()>=a&&a>=t){m=g;break}}if(null!=h){var w=this._getcolumnat(m);return{row:this.getboundindex(h),column:w.datafield,value:this.getcellvalue(this.getboundindex(h),w.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;if(t.target===i.bottomRight[0])return!0;var r,s;if(t.which?r=3==t.which:t.button&&(r=2==t.button),t.which?s=2==t.which:t.button&&(s=1==t.button),s)return!0;if(this.adaptiveview){if(e(t.target).ischildof(e(this.adaptiveview)))return!0;if(t.target==this.adaptiveview)return!0}if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var o=this.showheader?this.columnsheader.height()+2:0,l=this._groupsheader()?this.groupsheader.height():0;l+=this.showtoolbar?this.toolbarheight:0;var a=this.host.coord();if(this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var n=this._getBodyOffset();a.left-=n.left,a.top-=n.top}var d=parseInt(t.pageX),h=parseInt(t.pageY);if(this.isTouchDevice()){var c=i.getTouches(t)[0];d=parseInt(c.pageX),h=parseInt(c.pageY),1==i.touchmode&&void 0!=c._pageX&&(d=parseInt(c._pageX),h=parseInt(c._pageY))}var u=d-a.left,p=h-o-a.top-l;if(!(this.pageable&&!this.autoheight&&this.gotopage&&p>this.pager.coord().top-a.top-l-o)){var g=this._hittestrow(u,p);if(g&&!g.details){var f=g.row,m=t.target.className,v=this.table[0].rows[L=g.index];if(null==v)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-l,clickedrow:v};var w=this.hScrollInstance,x=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(x=w.max-w.value);var b=-1,y=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(x-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(x=-parseInt(this.content.css("left"))));for(var _=0;_<v.cells.length;_++)if(d=(q=parseInt(e(this.columnsrow[0].cells[_]).css("left")))-x,i.columns.records[_].pinned&&!i.rtl&&(d=q),(null==(j=this._getcolumnat(_))||!j.hidden)&&(null==j||!j.adaptivehidden)&&d+e(this.columnsrow[0].cells[_]).width()>=u&&u>=d){b=_,i.mousecaptureposition.clickedcell=_;break}if(this.rtl&&this._haspinned)for(_=v.cells.length-1;_>=0&&i.columns.records[_].pinned;_--){var q;if(d=q=e(this.columnsrow[0].cells[_]).coord().left-this.host.coord().left,(null==(j=this._getcolumnat(_))||!j.hidden)&&(null==j||!j.adaptivehidden)&&d+e(this.columnsrow[0].cells[_]).width()>=u&&u>=d){b=_,i.mousecaptureposition.clickedcell=_;break}}if(null!=f&&b>=0){this._raiseEvent(1,{rowindex:this.getboundindex(f),visibleindex:f.visibleindex,row:f,group:f.group,rightclick:r,originalEvent:t});var j=this._getcolumnat(b),C=this.getcellvalue(this.getboundindex(f),j.datafield);if(this.editable&&this.editcell&&(this._currentEditableColumn=b,j.datafield==this.editcell.column&&this.getboundindex(f)==this.editcell.row&&(this.mousecaptured=!1)),"adaptive"===j.columntype){var k=document.createElement("div"),z=document.createElement("div"),I=document.createElement("a"),T=document.createElement("a"),D=document.createElement("div"),S=this.getrowdata(this.getboundindex(f));I.href="#",T.href="#",k.style.zIndex=99999,k.style.position="absolute",k.style.left="0px",k.style.top="0px",k.style.width="100%",k.style.height="100%",k.className="jqx-adaptive-view jqx-widget-content",D.style.position="relative",D.style.top="100%",D.style.textAlign="center",D.style.marginTop="-40px",z.style.position="absolute",z.style.left="0px",z.style.top="0px",z.style.width="100%",z.style.height="100%",this.theme&&(k.className="jqx-widget-content jqx-widget-content-"+this.theme);var B=document.createElement("span");B.className="jqx-icon-close",this.theme&&(B.className="jqx-icon-close jqx-widget-close-"+this.theme),B.style.zIndex=99,B.style.position="absolute",B.style.right="10px",B.style.top="10px",B.style.width="16px",B.style.height="16px",k.appendChild(z),k.appendChild(B),I.innerHTML=this.gridlocalization.okstring,T.innerHTML=this.gridlocalization.cancelstring,I.addEventListener("mousedown",function(e){for(var t={},r=i.adaptiveview.querySelectorAll("input"),s=0;s<r.length;s++){var o=r[s].value;t[r[s].getAttribute("data-column")]=o}return i.updaterow(S.uid,t),k.parentNode.removeChild(k),i.adaptiveview=null,e.stopPropagation(),!1}),T.addEventListener("mousedown",function(){return k.parentNode.removeChild(k),i.adaptiveview=null,t.stopPropagation(),!1}),this.editable&&(D.appendChild(I),D.appendChild(T),k.appendChild(D));var P="<table class='jqx-adaptive-table'><tr>",L=0;for(_=0;_<this.columns.records.length;_++)if("adaptive"!==(j=this.columns.records[_]).columntype){_>0&&L%2==0&&(P+="</tr><tr>");var H=S[j.displayfield];""!=j.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(H)?H=e.jqx.dataFormat.formatdate(H,j.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(H)&&(H=e.jqx.dataFormat.formatnumber(H,j.cellsformat,this.gridlocalization)));var G=this.filterable?'<div datafield="'+j.datafield+'" class="'+i.toTP("jqx-grid-column-filterbutton")+'" style="position: relative; top: 4px; display: inline-block; width: 16px; height:16px;"></div>':"";P+=this.editable?j.editable?"<td>"+G+j.text+": <input data-column='"+j.displayfield+"' value='"+H+"'/></td>":"<td>"+G+j.text+": <input data-column='"+j.displayfield+"' readonly value='"+H+"'/></td>":"<td>"+G+j.text+": "+H+"</td>",L++}return z.innerHTML=P+="</tr></table>",B.addEventListener("mousedown",function(e){k.parentNode.removeChild(k),i.adaptiveview=null}),this.wrapper[0].appendChild(k),this.adaptiveview=k,void e(this.adaptiveview).find(".jqx-grid-column-filterbutton").on("click",function(){var e=this.getAttribute("datafield"),t=this.offsetTop;i.openmenu(e),setTimeout(function(){i.gridmenu.css("top",30+t),i.gridmenu.css("left",25),i.gridmenu.css("z-index",99999),i.gridmenu.parent().css("z-index",99999)},300)})}if(this._raiseEvent(8,{rowindex:this.getboundindex(f),column:j?j.getcolumnproperties():null,row:f,visibleindex:f.visibleindex,datafield:j?j.datafield:null,columnindex:b,value:C,rightclick:r,originalEvent:t}),j.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==j.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(L,j.datafield),!0}else if("button"==j.columntype&&this._overlayElement)return j.buttonclick&&j.buttonclick(v.cells[b].buttonrow,t),!0;var A=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(f)&&(this._raiseEvent(22,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,group:f.group,rightclick:r,originalEvent:t}),this._clickedcolumn==j.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,column:j?j.getcolumnproperties():null,datafield:j?j.datafield:null,columnindex:b,value:C,rightclick:r,originalEvent:t}),A=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(r)return!0;A||(this._clickedrowindex=this.getboundindex(f),this._clickedcolumn=j.datafield);var E=e.jqx.utilities.getBrowser();if("msie"==E.browser&&parseInt(E.version)<=7&&(0==b&&this.rowdetails&&(m="jqx-grid-group-collapse"),y>0&&b<=y&&(m="jqx-grid-group-collapse")),-1!=m.indexOf("jqx-grid-group-expand")||-1!=m.indexOf("jqx-grid-group-collapse"))this.rtl?y>0&&b>v.cells.length-y-1&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):b==v.cells.length-1-y&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):y>0&&b<y&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):b==y&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=f.boundindex){var O=this.selectedrowindexes.slice(0),M=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var N=!1,F=this.getboundindex(f);i._oldselectedrow!==F&&"none"!==i.selectionmode||(N=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=F&&"singlerow"==i.selectionmode)&&(this._applyrowselection(F,!0,!1,null,j.datafield),this._selectrowwithmouse(i,g,O,j.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=j.datafield&&(this._selectrowwithmouse(i,g,O,j.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(F,j.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(M=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=F}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode)N&&!i.editcell?"checkbox"!==j.columntype&&(this._currentEditableColumn=b,i.beginrowedit(this.getboundindex(f))):i.editcell&&!N&&"none"!=i.selectionmode&&i.endrowedit(i.editcell.row);else{F=this.getboundindex(f);var R="click"==i.editmode||M&&"selectedcell"==i.editmode;-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(R=!0),R&&void 0!=f.boundindex&&j.editable&&(i.begincelledit(this.getboundindex(f),j.datafield,j.defaulteditorvalue),-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(F,j.datafield,!1,!1)),-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!M&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||M||!i.editcell||i.editcell.row==F&&j.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}}},_columnPropertyChanged:function(e,t,i,r){},_rowPropertyChanged:function(e,t,i,r){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){e>0&&(i+=", "),i+="[";var t=0;for(obj in this)t>0&&(i+=", "),i+="{"+obj+":"+this[obj]+"}",t++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":case"showcolumnheaderlines":case"showcolumnlines":case"showrowlines":t.refresh();break;case"everpresentrowactionsmode":r!=s&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":r!=s&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:s}),t.hScrollBar.jqxScrollBar({rtl:s}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(32!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=r&&(31!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":r!=s&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":r!=s&&t._rendercolumnheaders();break;case"rendergridrows":r!=s&&t.updatebounddata();break;case"editmode":r!=s&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":s!=r&&(e.jqx.utilities.setTheme(r,s,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:s}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":r!=s&&(t._arrange(),t.refresh());break;case"showstatusbar":r!=s&&(t.statusbar&&(s?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh());break;case"statusbarheight":r!=s&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":r!=s&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":r!=s&&t.rendergridcontent();break;case"showrowdetailscolumn":r!=s&&t.render();break;case"scrollbarsize":r!=s&&t._arrange();break;case"width":case"height":r!=s&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":r!=s&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":r!=s&&t._initpager();break;case"selectedrowindex":t.selectrow(s);break;case"selectionmode":r!=s&&("none"==s&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==s&&t._render(!1,!1,!0,!1,!1));break;case"showheader":t.columnsheader.css("display",s?"block":"none");break;case"virtualmode":r!=s&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":r!=s&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t.columns&&t.columns.length>t.headerZIndex&&(t.headerZIndex=t.columns.length+100),t._serializeObject(t._cachedcolumns)!==t._serializeObject(s)){var o=!1;t.filterable&&r&&r.records&&e.each(r.records,function(){this.filter&&(o=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),o&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=r;break;case"autoheight":r!=s&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":r!=s&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(r!=s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof s){var l="The expected value type is: Int.";throw"pagesize"!=i&&(l="The expected value type is: Array of Int values."),new Error("Invalid Value for: "+i+". "+l)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=s&&s.length>0&&(t.pagesize=parseInt(s[0]),t.dataview.pagesize=parseInt(s[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(r)!==t._serializeObject(s)&&(t.dataview.groups=s,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":r!=s&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=s&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=s&&t.rendertoolbar(t.toolbar);break;case"disabled":s?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:s}),t.pagerleftbutton.jqxButton({disabled:s}),t.pagershowrowscombo.jqxDropDownList({disabled:s}),t.pagergotoinput.attr("disabled",s)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:s}),t.pagerlastbutton.jqxButton({disabled:s}))),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&void 0!=e&&null!=t&&e>=0&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(e<0)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,void 0==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var r=!!t._source,s=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),r?(s=t,t=t._source):s=new e.jqx.dataAdapter(t,{autoBind:!1});var o,l=function(i){if(i.totalrecords=s.totalrecords,i.virtualmode){var r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(void 0!=t.recordstartindex&&(r.startindex=parseInt(t.recordstartindex)),void 0!=t.recordendindex?r.endindex=parseInt(t.recordendindex):i.grid.pageable||(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords))),r.data=s.records,i.grid.rendergridrows&&i.totalrecords>0){var o=0;if(t.records=i.grid.rendergridrows(r),t.records.length&&(o=t.records.length),t.records&&!t.records[r.startindex]){var l=new Array,a=r.startindex;e.each(t.records,function(){l[a]=this,a++,o++}),t.records=l}if(0==o&&t.records&&e.each(t.records,function(){o++}),o>0&&o<r.endindex-r.startindex&&!i.grid.groupable)for(var n=t.records[0],d=0;d<r.endindex-r.startindex-o;d++){var h={};for(obj in n)h[obj]="";t.records.push&&t.records.push(h)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=s.originaldata,i.records=s.records,i.recordids=s.recordids,i.cachedrecords=s.cachedrecords};o=this,s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.virtualmode=o.virtualmode,s._options.totalrecords=o.totalrecords,s._options.originaldata=o.originaldata,s._options.recordids=o.recordids,s._options.cachedrecords=new Array,s._options.pagenum=o.pagenum,s._options.pageable=o.pageable,void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async),void 0!=t.updaterow&&(s._options.updaterow=t.updaterow),void 0!=t.addrow&&(s._options.addrow=t.addrow),void 0!=t.deleterow&&(s._options.deleterow=t.deleterow),0==o.pagesize&&(o.pagesize=10),s._options.pagesize=o.pagesize,this.source=t,void 0!==i&&(uniqueId=i);var a=this.that;switch(t.datatype){case"local":case"array":default:null==t.localdata&&(t.localdata=[]),null!=t.localdata&&(s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind(),(j=function(i){if(void 0!=i&&""!=i){if(s._changedrecords[0]){var r=new Array;e.each(s._changedrecords,function(e){var t=this.index,o=this.record;switch(a.grid._updateFromAdapter=!0,i){case"update":var l=a.grid.getrowid(t);return e==s._changedrecords.length-1?a.grid.updaterow(l,o):a.grid.updaterow(l,o,!1),void(a.grid._updateFromAdapter=!1);case"add":return a.grid.addrow(null,o),void(a.grid._updateFromAdapter=!1);case"remove":return l=a.grid.getrowid(t),void r.push(l)}}),r.length>0&&(a.grid.deleterow(r,!1),a.grid._updateFromAdapter=!1)}if("update"==i)return}var o=a.totalrecords;l(a),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var r=a.grid.getrowid(i.index);switch(i.type){case"add":var o=e.extend({},i.object[i.index]),l=s.getid(t.id,o,i.index);0===i.index?a.grid.addrow(l,o,"first"):a.grid.addrow(l,o);break;case"delete":a.grid.deleterow(r);break;case"update":if(i.path&&i.path.split(".").length>1){var n=i.path.split(".");a.grid.setcellvalue(i.index,n[n.length-1],i.newValue)}else o=e.extend({},i.object[i.index]),a.grid.updaterow(r,o)}this._updating=!1}}),"updateData"==i?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(o!=a.totalrecords))})(),s.bindBindingUpdate(a.grid.element.id,j));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&s.dataBind(),(j=function(e){var i=a.totalrecords;l(a),"updateData"==e?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(i!=a.totalrecords))})(),void s.bindBindingUpdate(a.grid.element.id,j);for(var n=[],d=0,h={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter;if(p.getfilters){var g=p.getfilters();h[u+"operator"]=p.operator;for(var f=0;f<g.length;f++){g[f].datafield=u;var m=g[f].value;if("datefilter"==g[f].type)if(g[f].value&&g[f].value.toLocaleString){var v=this.grid.getcolumn(g[f].datafield);if(v&&v.cellsformat){var w=this.grid.source.formatDate(g[f].value,v.cellsformat,this.grid.gridlocalization);h["filtervalue"+d]=w||g[f].value.toLocaleString()}else h["filtervalue"+d]=m.toString()}else h["filtervalue"+d]=m.toString();else h["filtervalue"+d]=m.toString(),g[f].data&&(h["filterid"+d]=g[f].data.toString()),g[f].id&&(h["filterid"+d]=g[f].id.toString());h["filtercondition"+d]=g[f].condition,h["filteroperator"+d]=g[f].operator,h["filterdatafield"+d]=u;var x={label:m.toString()};g[f].data&&(x.value=g[f].data.toString()),x.value=g[f].id?g[f].id.toString():m.toString(),x.condition=g[f].condition,x.operator=0==g[f].operator?"and":"or",x.field=u,x.type=g[f].type;var b=!1;if(n.length>0)for(var y=0;y<n.length;y++){var _=n[y];if(_.field==u){_.filters.push(x),b=!0;break}}b||(n.push({field:u,filters:[]}),n[n.length-1].filters.push(x)),d++}}}for(h.filterGroups=n,h.filterscount=d,h.groupscount=a.groups.length,c=0;c<a.groups.length;c++)h["group"+c]=a.groups[c];void 0==t.recordstartindex&&(t.recordstartindex=0),void 0!=t.recordendindex&&0!=t.recordendindex||(a.grid.height&&-1==a.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/a.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(h,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var q=s._options.data;s._options.data?e.extend(s._options.data,h):(t.data&&e.extend(h,t.data),s._options.data=h);var j=function(){var i=function(){var e=a.totalrecords;l(a),t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(e!=a.totalrecords)};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{i()}catch(e){}else i()};s.unbindDownloadComplete(a.grid.element.id),s.bindDownloadComplete(a.grid.element.id,j),!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind?s.dataBind():a.grid.isInitialized||a.grid.autobind||j(),s._options.data=q}},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return s}return r},this.getvaluebytype=function(t,i){var r=t;if("date"==i.type){var s=new Date(t);null==(t="NaN"!=s.toString()&&"Invalid Date"!=s.toString()||!e.jqx.dataFormat?s:e.jqx.dataFormat.tryparsedate(t))&&(t=r)}else"float"==i.type?(t=parseFloat(t),isNaN(t)&&(t=r)):"int"==i.type?(t=parseInt(t),isNaN(t)&&(t=r)):"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||0!=t&&"");return t},this.setpaging=function(e){void 0!=e.pageSize&&(this.pagesize=e.pageSize),void 0!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if((!(this.filters&&this.filters.length>0)||this.virtualmode)&&void 0!=t&&void 0!=e)return t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid),-1!=(o=this.records.indexOf(s=this.recordsbyid["id"+e]))&&(this.records[o]=t,this.cachedrecords&&(this.cachedrecords[o]=t),1!=i&&void 0!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0);if(this.filters&&this.filters.length>0){for(var r=this.cachedrecords,s=null,o=-1,l=0;l<r.length;l++)if(r[l].uid==e){s=r[l],o=l;break}if(s){var a=this.that;for(var n in t)a.cachedrecords[o][n]=t[n];return 1!=i&&void 0!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,r,s){if(void 0!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var o=this.recordsbyid["id"+i.uid];null!=o;){var l=Math.floor(1e4*Math.random()).toString();i.uid=l,o=this.recordsbyid["id"+l]}}else i.uid=t;return i[this.source.id]||void 0!=this.source.id&&(i[this.source.id]=i.uid),"last"==r?this.records.push(i):"number"==typeof r&&isFinite(r)?this.records.splice(r,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==r?this.cachedrecords.push(i):"number"==typeof r&&isFinite(r)?this.cachedrecords.splice(r,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=s&&void 0!=s||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(void 0!=e){if(this.recordsbyid["id"+e]&&!(this.filters&&this.filters.length>0)){var i=this.records.indexOf(o=this.recordsbyid["id"+e]);if(this.grid&&this.grid.sortable&&"many"==this.grid.sortmode)for(var r=0;r<this.records.length;r++)if(this.records[r].boundindex===o.boundindex){i=r;break}return this.changedrecords[e]={Type:"Delete",Data:this.records[i]},this.records.splice(i,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&void 0!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){var s=this.cachedrecords,o=null;for(i=-1,r=0;r<s.length;r++)if(s[r].uid==e){o=s[r],i=r;break}if(o)return this.cachedrecords.splice(i,1),1!=t&&void 0!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,r,s,o,l,a){var n=this.that,d=new Array,h=t,c=i,u=r,p=s,g=c.length,f=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var m=Object.size(h);this.totalrecords=m,e.each(this.records,function(t){var i=0;return e.each(this,function(e,t){n.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();if(l=0,!this.groupable)return void this.updateview();a=this.totalrecords}else l=0,a=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var v=l;v=this.loadgrouprecords(0,l,a,u,0,p,c,g,d)}else f=this.loadflatrecords(l,a,u,0,p,c,g,d);return g>0&&c.splice(0,g-0),this.totalrows=this.groups.length>0&&this.groupable?v:f,d},this.loadflatrecords=function(t,i,r,s,o,l,a,n){var d=this.that,h=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=u?this.sortdata:this.records,g=t;g<i;g++){var f={};u?(f=e.extend({},p[g].value),id=f[d.uniqueId],f.boundindex=p[g].index,void 0==f.uid&&(f.uid=d.getid(d.source.id,f,f.boundindex)),d.recordsbyid["id"+f.uid]=p[g].value,d.loadedrecords[h]=f,f.uniqueid=d.generatekey(),d.bounditems[f.boundindex]=f):(f=new Object(p[g]),id=f[d.uniqueId],f.boundindex=h,d.loadedrecords[h]=f,void 0==f.uid&&(f.uid=d.getid(d.source.id,f,h)),d.recordsbyid["id"+f.uid]=p[g],f.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=f),(s>=a||id!=l[s][d.uniqueId]||o&&o[id])&&(n[n.length]=s),l[s]=f,s++,f.visibleindex=c,c++,h++}if(d.grid.summaryrows){var m=h;e.each(d.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,d.loadedrecords[m]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,l[s]=t,s++,t.visibleindex=c,c++,m++})}return c},this.updateview=function(e,t){var i=this.that,r=this.pagesize*this.pagenum,s=0,o=new Array,l=this.filters,a=this.updated,n=o.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var d=this.pagesize*(1+this.pagenum);return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,l,s,a,o,n,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),l,s,a,o,n,[]),this.totalrows=o.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var h=this.pagesize;if(0==h&&(h=Math.min(100,this.totalrecords)),null!=e&&null!=t?this.loadflatrecords(e,t,l,s,a,o,n,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),l,s,a,o,n,[]),this.totalrows=this.loadedrecords.length,this.rows=o,o.length>=h)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)o=this._updategroupsinpage(i,l,r,s,n,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum);c++)null!=(p=c<this.loadedrecords.length?this.loadedrecords[c]:null)&&((!this.pagesize||r>=this.pagesize*this.pagenum&&r<=this.pagesize*(this.pagenum+1))&&(o[s]=p,s++),r++);if((0==o.length||o.length<this.pagesize)&&!this.pageable&&this.virtualmode){s=o.length;var u=o.length;for(c=this.pagesize*this.pagenum;c<this.pagesize*(1+this.pagenum)-u;c++){var p;(p={}).boundindex=c+u,p.visibleindex=c+u,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[c+u]=p,o[s]=p,s++}}this.rows=o},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){void 0==t&&(t=!0);var i=this.rows.length,r=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var s="",o=this.cachedrecords.length,l=new Array;this.totalrecords=0;var a=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var n=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)void 0==(l=this.source.filter(this.filters,a,o))&&(l=new Array),this.records=l;else if(null==this.source.filter||void 0==this.source.filter){for(var d=0;d<o;d++){for(var h=a[d],c=void 0,u=0;u<n;u++){var p=h[this.filters[u].datafield],g=(s=this.filters[u].filter).evaluate(p);if(this.grid.filter){var f=this.grid.filter(p,h,this.filters[u].datafield,s,g);void 0!==f&&(g=f)}c=void 0==c?g:"or"==s.operator?c||g:c&&g}c?(l[l.length]=e.extend({dataindex:d},h),this._dataIndexToBoundIndex[d]={boundindex:l.length-1}):this._dataIndexToBoundIndex[d]=null}this.records=l}if(this.sortdata){if(!this.grid||"many"===this.grid.sortmode){for(var m=this.grid.getsortcolumns(),v=0;v<m.length;v++)this.grid.sortby((x=m[v]).dataField,x.ascending,null);return}if(this.sortcache[b=this.sortfield]){this.sortdata=null;var w=this.sortcache[b].direction;return this.sortcache[b]=null,void this.sortby(this.sortfield,w)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords&&(this.totalrecords=0,this.records=a=this.cachedrecords,this.sortdata)){if(!this.grid||"many"===this.grid.sortmode){for(m=this.grid.getsortcolumns(),v=0;v<m.length;v++){var x;this.grid.sortby((x=m[v]).dataField,x.ascending,null)}return}var b;if(this.sortcache[b=this.sortfield])return this.sortdata=null,w=this.sortcache[b].direction,this.sortcache[b]=null,void this.sortby(this.sortfield,w)}var y=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(r!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),i!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:rows.length}}),(y.length>0||i!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:rows.length,diff:y}}))}},this}}(jqxBaseFramework)},Ys8p:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_handledblclick:function(e,t){var r,s;if(null!=e.target&&!(t.disabled||i(e.target).ischildof(this.columnsheader)||(e.which?r=3==e.which:e.button&&(r=2==e.button),r||(e.which?s=2==e.which:e.button&&(s=1==e.button),s)))){var o=this.showheader?this.columnsheader.height()+2:0,l=this._groupsheader()?this.groupsheader.height():0;l+=this.showtoolbar?this.toolbarheight:0;var a=this.host.offset(),n=e.pageX-a.left,d=this._hittestrow(n,e.pageY-o-a.top-l);if(d){var h=d.row,c=e.target.className,u=this.table[0].rows[d.index];if(null!=u){t.mousecaptured=!0,t.mousecaptureposition={left:e.pageX,top:e.pageY-l};for(var p=this.hScrollInstance.value,g=0,f=0;f<u.cells.length;f++){var m=parseInt(i(this.columnsrow[0].cells[f]).css("left")),v=m-p;if(t.columns.records[f].pinned&&(v=m),(null==(w=this._getcolumnat(f))||!w.hidden)&&v+i(this.columnsrow[0].cells[f]).width()>=n&&n>=v){g=f;break}}if(null!=h){var w=this._getcolumnat(g);-1==c.indexOf("jqx-grid-group-expand")&&-1==c.indexOf("jqx-grid-group-collapse")&&-1!=h.boundindex&&t.begincelledit(t.getboundindex(h),w.datafield,w.defaulteditorvalue)}}}}},_getpreveditablecolumn:function(e){for(;e>0;){var t=this.getcolumnat(--e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){var t=this.getcolumnat(++e);if(!t)return null;if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(e,t){if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(e))return!0;var r=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(t.editEvent=e,t.showfilterrow&&t.filterable&&this.filterrow&&i(e.target).ischildof(this.filterrow))return!0;if(e.target.className&&e.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(t.pageable&&i(e.target).ischildof(this.pager))return!0;if(this.showtoolbar&&i(e.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&i(e.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&i(e.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&i(e.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&i(e.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===r)return this.endrowedit(this.editcell.row,!1),!1;if(27===r)return this.endrowedit(this.editcell.row,!0),!1;if(32==r&&this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype&&(u=this.getcolumn(this._currentColumn)).editable){var s=!this.getcellvalue(this.editcell.row,u.datafield),o=this.getrowdata(this.editcell.row),l=this.editcell.row;o=t.getrowdata(t.editcell.row),this.setcellvalue(this.editcell.row,u.datafield,s,!1);var a=this._focusedColumn,n=this._currentColumn,d=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(l,!1),this._currentColumn=n,this._focusedColumn=a,this._currentEditableColumn=d,this._renderrows(),this.selectcell(l,u.datafield),this._oldselectedcell=this.selectedcell,a){var h=this;setTimeout(function(){h.selectcell(l,u.datafield),h._oldselectedcell=h.selectedcell,i(h._checkboxCells[u.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}if(9===r){var c=this._getcolumnindex(H=this.editcell.datafield);this._currentEditableColumn?c=this._currentEditableColumn:this._currentEditableColumn=c;var u=this._getnexteditablecolumn(c);if(e.shiftKey&&(u=this._getpreveditablecolumn(c)),u)if(c=this._getcolumnindex(u.datafield),this.editcell[u.datafield])this._currentEditableColumn=c,(p=this.editcell[u.datafield].editor)&&(p.data().jqxWidget&&p.data().jqxWidget.focus?p.data().jqxWidget.focus():(p.focus(),p[0].onkeyup=function(){0!=t.gridcontent[0].scrollTop&&(t.scrolltop(Math.abs(t.gridcontent[0].scrollTop)),t.gridcontent[0].scrollTop=0),0!=t.gridcontent[0].scrollLeft&&(t.gridcontent[0].scrollLeft=0)})),this._focusedColumn=u.datafield,this._currentColumn=u.datafield,0!=this.gridcontent[0].scrollTop&&(this.scrolltop(Math.abs(this.gridcontent[0].scrollTop)),this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0);else if("checkbox"==u.columntype)return this._currentColumn=u.datafield,this._currentEditableColumn=c,this.selectcell(this.editcell.row,u.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[u.datafield]&&i(this._checkboxCells[u.datafield].checkbox).jqxCheckBox("focus"),!1;return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(r>=33&&r<=40&&"multiplecellsadvanced"==t.selectionmode){var p="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),g=t._selection(p),f=p.val().length;g.length>0&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),g.start>0&&37==r&&(t._cancelkeydown=!0),g.start<f&&39==r&&"datetimeinput"!=this.editcell.columntype&&(t._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==r&&g.start+g.length<f&&(t._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==r||39==r&&"multiplecellsadvanced"==t.selectionmode)&&(t._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(t._cancelkeydown=!0);if(32==r&&"checkbox"==t.editcell.columntype&&(u=t.getcolumn(t.editcell.datafield)).editable)return s=!t.getcellvalue(t.editcell.row,t.editcell.column),!(u.cellbeginedit&&0==u.cellbeginedit(t.editcell.row,u.datafield,u.columntype,!s)||(o=t.getrowdata(t.editcell.row),t.setcellvalue(t.editcell.row,t.editcell.column,s,!0),t._raiseEvent(18,{rowindex:t.editcell.row,row:o,datafield:t.editcell.column,oldvalue:!s,value:s,columntype:"checkbox"}),1));if(9==r){var m=this.editcell.row,v=H=this.editcell.column,w=(c=t._getcolumnindex(H),!1),x=t.getrowvisibleindex(m),b=m;this.editchar="";var y=this.editcell.validated;if(this.editcell.validated||(y=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1)),0!=y){if(e.shiftKey)if(u=t._getpreveditablecolumn(c))H=u.datafield,w=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectprevcell(m,v),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(x,H)},10));else{var _=t._getlastvisiblecolumn();w=!0,H=_.displayfield,(C=t.getdisplayrows()[x-1])&&(void 0===(m=C.dataindex)&&(m=C.boundindex),x=t.getrowvisibleindex(m));var q=!0;if(t.pageable){var j=Math.floor(x/this.pagesize);this.dataview.pagenum!=j&&(q=!1)}q&&-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(m,H),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(x,H)},10))}else if(u=t._getnexteditablecolumn(c))H=u.datafield,w=!0,-1!=t.selectionmode.indexOf("cell")&&(t.selectnextcell(m,v),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(x,H)},10));else{var C,k=t._getfirstvisiblecolumn();w=!0,H=k.displayfield,(C=t.getdisplayrows()[x+1])&&(void 0===(m=C.dataindex)&&(m=C.boundindex),x=t.getrowvisibleindex(m)),q=!0,t.pageable&&(j=Math.floor(x/this.pagesize),this.dataview.pagenum!=j&&(q=!1)),-1!=t.selectionmode.indexOf("cell")&&q&&(t.clearselection(),t.selectcell(m,H),t._oldselectedcell=t.selectedcell,setTimeout(function(){t.ensurecellvisible(x,H)},10))}if(!w)return null!=this.editcell&&(t.endcelledit(m,H,!1),this._renderrows(this.virtualsizeinfo)),!0;if(t.pageable&&(j=Math.floor(x/this.pagesize),this.dataview.pagenum!=j))return this._renderrows(this.virtualsizeinfo),-1!=t.selectionmode.indexOf("cell")&&(t.clearselection(),t.selectcell(b,v),t._oldselectedcell=t.selectedcell),void(j>this.dataview.pagenum&&setTimeout(function(){t.pagerpageinput.focus()},25));t.begincelledit(m,H),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==r){var z=this.selectedcell;if(z)var I=this.getrowvisibleindex(z.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode&&null!=(T=t.getselectedcell())&&t.selectcell&&null==this.editcell&&T.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=T.datafield){if(x=this.getrowvisibleindex(T.rowindex),(A=this.dataview.loadedrecords[x+1])&&(!this.pageable||this.pageable&&x+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(A),T.datafield);var T=this.getselectedcell();this.ensurecellvisible(A.visibleindex,T.datafield)}}else{var D;null!=z&&(D=this.dataview.loadedrecords[I+1])&&(!this.pageable||this.pageable&&I+1<this.pagesize?(this.clearselection(!1),this.selectcell(this.getboundindex(D),T.datafield)):this.pageable&&I+1>=this.pagesize&&(this.clearselection(!1),this.selectcell(this.getboundindex(D=this.dataview.loadedrecords[I]),T.datafield)))}return!1}if(27==r)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var S=!1;if(113==r&&(S=!0),!e.ctrlKey&&!e.altKey&&!e.metaKey){if(r>=48&&r<=57&&(this.editchar=String.fromCharCode(r),S=!0),189===r&&(S=!0),r>=65&&r<=90){this.editchar=String.fromCharCode(r);var B=!1;e.shiftKey?B=e.shiftKey:e.modifiers&&(B=!!(4&e.modifiers)),this._capsLock&&(B=!B),B||(this.editchar=this.editchar.toLowerCase()),S=!0}else r>=96&&r<=105&&(this.editchar=r-96,this.editchar=this.editchar.toString(),S=!0);var P=i(".jqx-grid").length;S=S&&(1==P||P>1&&t.focused);var L=i.data(document.body,"jqxgrid.edit");if(void 0!==L&&""!==L&&(13===r||S)&&L!=t.element.id)return!0}if((13==r||S)&&t.getselectedrowindex){if(m=t.getselectedrowindex(),"selectedrow"===t.editmode){if(!(m>=0))return null!=(T=t.getselectedcell())&&(u=t._getcolumnbydatafield(T.datafield),t.beginrowedit(T.rowindex)),!1;t.beginrowedit(m)}switch(t.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(m>=0){for(var H="",G=0;G<t.columns.records.length;G++)if((u=t.getcolumnat(G)).editable){H=u.datafield;break}"selectedrow"===t.editmode?t.beginrowedit(m):t.begincelledit(m,H)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":null!=(T=t.getselectedcell())&&(u=t._getcolumnbydatafield(T.datafield),"selectedrow"===t.editmode?t.beginrowedit(T.rowindex):"checkbox"!=u.columntype&&t.begincelledit(T.rowindex,T.datafield));break;case"multiplecellsadvanced":var A;null!=(T=t.getselectedcell())&&(13==r?t.selectcell&&(x=this.getrowvisibleindex(T.rowindex))+1<t.dataview.totalrecords&&(A=this.dataview.loadedrecords[x+1])&&(this.clearselection(!1),this.selectcell(this.getboundindex(A),T.datafield),T=this.getselectedcell(),this.ensurecellvisible(A.visibleindex,T.datafield)):"selectedrow"!==t.editmode&&t.begincelledit(T.rowindex,T.datafield))}return!1}if(46==r){var E=t.getselectedcells();if(-1==t.selectionmode.indexOf("cell")&&t._getcellsforcopypaste&&(E=t._getcellsforcopypaste()),null!=E&&E.length>0){for(var O=0;O<E.length;O++)if((T=E[O]).datafield){u=t.getcolumn(T.datafield);var M=t.getcellvalue(T.rowindex,T.datafield);if(""!==M&&u.editable&&t.enablekeyboarddelete){var N=null;if("checkbox"==u.columntype&&(u.threestatecheckbox||(N=!1)),u.cellbeginedit&&0==u.cellbeginedit(T.rowindex,u.datafield,u.columntype,N))return!1;o=t.getrowdata(T.rowindex),t._raiseEvent(17,{rowindex:T.rowindex,row:o,datafield:T.datafield,value:M}),O==E.length-1?(t.setcellvalue(T.rowindex,T.datafield,N,!0),u.displayfield!=u.datafield&&t.setcellvalue(T.rowindex,u.displayfield,N,!0)):(t.setcellvalue(T.rowindex,T.datafield,N,!1),u.displayfield!=u.datafield&&t.setcellvalue(T.rowindex,u.displayfield,N,!0)),u.cellendedit&&u.cellendedit(T.rowindex,u.datafield,u.columntype,N),t._raiseEvent(18,{rowindex:T.rowindex,row:o,datafield:T.datafield,oldvalue:M,value:N})}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==r&&null!=(T=t.getselectedcell())&&"checkbox"==(u=t.getcolumn(T.datafield)).columntype&&u.editable)return s=!t.getcellvalue(T.rowindex,T.datafield),!(u.cellbeginedit&&0==u.cellbeginedit(T.rowindex,u.datafield,u.columntype,!s)||(o=t.getrowdata(T.rowindex),t._raiseEvent(17,{rowindex:T.rowindex,row:o,datafield:T.datafield,value:!s,columntype:"checkbox"}),t.setcellvalue(T.rowindex,T.datafield,s,!0),t._raiseEvent(18,{rowindex:T.rowindex,row:o,datafield:T.datafield,oldvalue:!s,value:s,columntype:"checkbox"}),1))}return!0},begincelledit:function(e,t,r,s,o){var l=this.getcolumn(t);if(this._cellscache=new Array,null!=t&&"number"!=l.columntype&&"button"!=l.columntype&&!l.createwidget){if(this.groupable){if(this.groups.indexOf(t)>=0)return;if(this.groups.indexOf(l.displayfield)>=0)return}if(void 0==this.editrow){if(this.editcell){if(this.editcell.row==e&&this.editcell.column==t)return!0;if("selectedrow"===this.editmode&&this.editcell.row==e)return;if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var a="checkbox"==l.columntype||"button"==l.columntype||l.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),l.editable){if(l.cellbeginedit){var n=this.getcell(e,t);if(0==l.cellbeginedit(e,t,l.columntype,null!=n?n.value:null))return}var d=this.getrowvisibleindex(e);if(this.editcell=this.getcell(e,t),this.editcell&&(this.editcell.visiblerowindex=d,!this.editcell.editing)){if(a||(this.editcell.editing=!0),this.editcell.columntype=l.columntype,this.editcell.defaultvalue=r,void 0!=l.defaultvalue&&(this.editcell.defaultvalue=l.defaultvalue),this.editcell.init=!0,"checkbox"!=l.columntype&&"selectedrow"!=this.editmode){var h=this.getrowdata(e);this._raiseEvent(17,{rowindex:e,row:h,datafield:l.datafield,value:this.editcell.value,columntype:l.columntype})}if(i.data(document.body,"jqxgrid.edit",this.element.id),!a){var c=this.getrowvisibleindex(e);!1===s||this.autorowheight||0!==this.groups.length||this.ensurecellvisible(c,l.datafield),!1!==o&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,!1!==o&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(e,t,r,s,o){if(void 0!=e&&void 0!=t||(this.editcell&&(e=this.editcell.row,t=this.editcell.column),void 0==r&&(r=!0)),this.editcell){var l=this.getcolumn(t),a=this;if("selectedrow"!==a.editmode){var n=function(){if(0!=o){if(a.isTouchDevice())return;if(!a.isNestedGrid){var e=a.getScrollTop(),t=a.getScrollLeft();try{a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){a.element.focus(),a.content.focus(),e!=a.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}}};if("checkbox"==l.columntype||"button"==l.columntype||l.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var d=this._geteditorvalue(l),h=function(i){if(i._hidecelleditor(),l.cellendedit&&l.cellendedit(e,t,l.columntype,i.editcell.value,d),i.editchar=null,l.displayfield!=l.datafield){var r=i.getcellvalue(i.editcell.row,l.displayfield);oldvalue={value:i.editcell.value,label:r}}else oldvalue=i.editcell.value;var o=i.getrowdata(e);i._raiseEvent(18,{rowindex:e,row:o,datafield:t,displayfield:l.displayfield,oldvalue:d,value:d,columntype:l.columntype}),i.editcell.editor=null,i.editcell.editing=!1,i.editcell=null,(s||void 0==s)&&i._renderrows(i.virtualsizeinfo),n(),i.enablebrowserselection||(i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect"))};if(r)return h(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),l.cellvaluechanging){var c=l.cellvaluechanging(e,t,l.columntype,this.editcell.value,d);void 0!=c&&(d=c)}if(l.validation){var u=this.getcell(e,t);try{var p=l.validation(u,d),g=this.gridlocalization.validationstring;if(void 0!=p.message&&(g=p.message),!("boolean"==typeof p?p:p.result))return void 0!=p.showmessage&&1!=p.showmessage||this._showvalidationpopup(e,t,g),this.editcell.validated=!1,!1}catch(i){return this._showvalidationpopup(e,t,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(l.displayfield!=l.datafield){var f=this.getcellvalue(this.editcell.row,l.displayfield);oldvalue={value:this.editcell.value,label:f}}else oldvalue=this.editcell.value;var m=this.getrowdata(e);return l.cellendedit&&0==l.cellendedit(e,t,l.columntype,this.editcell.value,d)?(this._raiseEvent(18,{rowindex:e,row:m,datafield:t,displayfield:l.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:l.columntype}),h(this),!1):(this._raiseEvent(18,{rowindex:e,row:m,datafield:t,displayfield:l.displayfield,oldvalue:oldvalue,value:d,columntype:l.columntype}),this._hidecelleditor(!1),void 0!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(e,t,d,s),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),i.jqx.browser.msie||n(),i.data(document.body,"jqxgrid.edit",""),!0)}this.endrowedit(e,r)}},beginrowedit:function(e){var t=this;if(void 0!=e){t._oldselectedrow=e,this._cellscache=new Array;var r=!1;if("selectedrow"!=this.editmode&&(r=!0),r){var s=this.editmode;this.editmode="selectedrow"}var o=null;this._currentEditableColumn&&(o=this.getcolumnat(this._currentEditableColumn).datafield),i.each(this.columns.records,function(i,r){if(t.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;o||(o=this.datafield);var s=t.getcell(e,this.datafield);t.begincelledit(e,this.datafield,null,!1,!1);var l=t.getrowdata(e);t._raiseEvent(17,{rowindex:e,row:l,datafield:this.datafield,value:s.value,columntype:this.columntype})}}),t.editcell&&(t.editcell.init=!0),this._renderrows(this.virtualsizeinfo),r&&(this.editmode=s),o&&t.editcell&&setTimeout(function(){if(t.editcell&&t.editcell[o]){var e=t.editcell[o].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)}},endrowedit:function(e,t){var r=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(void 0==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var s=!1;if("selectedrow"!=this.editmode&&(s=!0),s){var o=this.editmode;this.editmode="selectedrow"}var l=!1,a={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var n=0;n<this.columns.records.length;n++)if((b=this.columns.records[n]).editable&&!b.hidden&&"checkbox"!=b.columntype&&!b.createwidget){var d=this._geteditorvalue(b),h=function(t){t._hidecelleditor();var i=t.getcellvalue(t.editcell.row,b.displayfield);if(b.cellendedit&&b.cellendedit(e,p,b.columntype,i,d),t.editchar=null,b.displayfield!=b.datafield){var r=t.getcellvalue(t.editcell.row,b.displayfield);c={value:i,label:r}}else c=i;var s=t.getrowdata(e);t._raiseEvent(18,{rowindex:e,row:s,datafield:p,displayfield:b.displayfield,oldvalue:i,value:i,columntype:b.columntype}),t.editcell.editing=!1};if(t)h(this);else{if(b.cellvaluechanging){var c=this.getcellvalue(this.editcell.row,b.displayfield),u=b.cellvaluechanging(e,p,b.columntype,c,d);void 0!=u&&(d=u)}var p=b.datafield;if(b.validation){var g=this.getcell(e,b.datafield);try{var f=b.validation(g,d),m=this.gridlocalization.validationstring;if(void 0!=f.message&&(m=f.message),!(q="boolean"==typeof f?f:f.result)){void 0!=f.showmessage&&1!=f.showmessage||this._showvalidationpopup(e,p,m),l=!0,this.editcell[b.datafield].validated=!1;continue}}catch(t){this._showvalidationpopup(e,p,this.gridlocalization.validationstring),this.editcell[b.datafield].validated=!1,l=!0;continue}}if(b.displayfield!=b.datafield){var v=this.getcellvalue(this.editcell.row,b.displayfield);c={value:this.editcell.value,label:v}}else c=this.getcellvalue(this.editcell.row,b.displayfield);a[b.datafield]={newvalue:d,oldvalue:c}}}var w={},x={};if(!l){for(this._hidecelleditor(!1),n=0;n<this.columns.records.length;n++){var b;if(p=(b=this.columns.records[n]).datafield,!b.hidden&&b.editable){var y=this.getrowdata(e);if(!b.createwidget)if("checkbox"!=b.columntype){if(a[b.datafield]){if(d=a[b.datafield].newvalue,c=a[b.datafield].oldvalue,b.cellendedit&&0==b.cellendedit(e,p,b.columntype,c,d)){this._raiseEvent(18,{rowindex:e,row:y,datafield:p,displayfield:b.displayfield,oldvalue:c,value:c,columntype:b.columntype}),h(this);continue}this.source.updaterow||this._raiseEvent(18,{rowindex:e,row:y,datafield:b.datafield,displayfield:b.displayfield,oldvalue:c,value:d,columntype:b.columntype}),w[b.datafield]=d,x[b.datafield]=c}}else d=this.getcellvalue(e,b.displayfield),this._raiseEvent(18,{rowindex:e,row:y,datafield:b.datafield,displayfield:b.displayfield,oldvalue:d,value:d,columntype:b.columntype})}}var _=this.getrowid(e);if(y=this.getrowdata(e),i.each(w,function(e,t){if(t&&void 0!=t.label){var i=r.getcolumn(e);y[i.displayfield]=t.label,y[i.datafield]=t.value}else y[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),i.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!t){r=this;var q=function(t){var s=r.source.updaterow;r.source.updaterow=null,0==t?(i.each(x,function(e,t){if(t&&void 0!=t.label){var i=r.getcolumn(e);y[i.displayfield]=t.label,y[i.datafield]=t.value}else y[e]=t}),r.updaterow(_,y)):r.updaterow(_,y);for(var o=0;o<r.columns.records.length;o++){var l=r.columns.records[o];r._raiseEvent(18,{rowindex:e,datafield:l.datafield,row:y,displayfield:l.displayfield,oldvalue:x[l.datafield],value:y[l.displayfield],columntype:l.columntype})}r.source.updaterow=s};try{this.source.updaterow(_,y,q)}catch(e){return}}else t||this.updaterow(_,y),this._renderrows(this.virtualsizeinfo)}return s&&(this.editmode=o),l},_selection:function(e){if("selectionStart"in e[0]){var t=e[0];return{start:t.selectionStart,end:t.selectionEnd,length:t.selectionEnd-t.selectionStart,text:t.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),s=r.duplicate();return r.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",r),{start:s.text.length,end:s.text.length+i.text.length,length:i.text.length,text:i.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var r=i[0].createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}},findRecordIndex:function(e,t,i){if(i=i,t)for(var r=i.length,s=0;s<r;s++)if(e==i[s].label)return s;return-1},_destroyeditors:function(){var e=this;this.columns.records&&(i.each(this.columns.records,function(t,r){var s=i.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var o=e.editors["dropdownlist_"+s];o&&(o.jqxDropDownList("destroy"),e.editors["dropdownlist_"+s]=null);break;case"combobox":var l=e.editors["combobox_"+s];l&&(l.jqxComboBox("destroy"),e.editors["combobox_"+s]=null);break;case"datetimeinput":var a=e.editors["datetimeinput_"+this.datafield];a&&(a.jqxDateTimeInput("destroy"),e.editors["datetimeinput_"+s]=null);break;case"numberinput":var n=e.editors["numberinput_"+s];n&&(n.jqxNumberInput("destroy"),e.editors["numberinput_"+s]=null);break;case"custom":case"template":if(e.destroyeditor&&e.editors["templateeditor_"+s]&&(e.destroyeditor(e.editors["templateeditor_"+s]),e.editors["templateeditor_"+s]=null),e.destroyeditor)for(var d=e.getrows.length(),h=0;h<d;h++)e.editors["customeditor_"+s+"_"+h]&&(e.destroyeditor(e.editors["customeditor_"+s+"_"+h],h),e.editors["customeditor_"+s+"_"+h]=null);break;case"textbox":default:var c=e.editors["textboxeditor_"+s];c&&(e.removeHandler(c,"keydown"),e.editors["textbox_"+s]=null)}}),e.editors=new Array)},_showcelleditor:function(e,t,r,s,o){if(void 0!=r&&null!=this.editcell)if("checkbox"==t.columntype&&t.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[t.datafield]=r);else{void 0==o&&(o=!0),"selectedrow"==this.editmode&&(this.editchar="",o=!1);var l=t.datafield,a=i(r),n=this,d=this.editcell.editor,h=this.getcellvalue(e,l),c=this.getcelltext(e,l),u=parseInt(this.hScrollInstance.value);if(this.columns.records.indexOf(t),this.editcell.element=r,0==this.editcell.validated){var p="";this.validationpopup&&(p=this.validationpopup.text()),this._showvalidationpopup(e,l,p)}var g=function(e){n.hScrollInstance.isScrolling()||n.vScrollInstance.isScrolling()||o&&(n.isTouchDevice()||(e&&e.focus(),0!=n.gridcontent[0].scrollTop&&(n.scrolltop(Math.abs(n.gridcontent[0].scrollTop)),n.gridcontent[0].scrollTop=0),0!=n.gridcontent[0].scrollLeft&&(n.gridcontent[0].scrollLeft=0)))};switch(t.columntype){case"dropdownlist":if(this.host.jqxDropDownList){r.innerHTML="";var f=i.trim(t.datafield).split(" ").join(""),m=i.trim(t.displayfield).split(" ").join("");-1!=f.indexOf(".")&&(f=f.replace(".","")),-1!=m.indexOf(".")&&(m=m.replace(".",""));var v=this.editors["dropdownlist_"+f];if((d=void 0==v?i("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):v).css("top",i(r).parent().position().top),d.css("left",this.oldhscroll?-u+parseInt(i(r).position().left):parseInt(i(r).position().left)),t.pinned&&d.css("left",u+parseInt(i(r).position().left)),void 0==v){d.prependTo(this.table),d[0].id="dropdownlisteditor"+this.element.id+f;var w=null;if(this.source._source){var x={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1};w=new i.jqx.dataAdapter(x,{autoBind:!1,async:!1,uniqueDataFields:[m],autoSort:!0,autoSortField:m})}else w=new i.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[m],async:!1,autoSort:!0,autoSortField:m});d.jqxDropDownList({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:w,rtl:this.rtl,autoDropDownHeight:!t.createeditor,theme:this.theme,width:a.width(),height:a.height(),displayMember:m,valueMember:l}),this.editors["dropdownlist_"+f]=d,t.createeditor&&t.createeditor(e,h,d)}t._requirewidthupdate&&d.jqxDropDownList({width:a.width()});var b=d.jqxDropDownList("listBox").visibleItems;t.createeditor||d.jqxDropDownList("autoDropDownHeight",b.length<8),h=this.getcellvalue(e,m);var y=this.findRecordIndex(h,m,b);if(s&&(""!=h?d.jqxDropDownList("selectIndex",y,!0):d.jqxDropDownList("selectIndex",-1)),!this.editcell)return;void 0!=this.editcell.defaultvalue&&d.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),o&&d.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){r.innerHTML="",f=i.trim(t.datafield).split(" ").join(""),m=i.trim(t.displayfield).split(" ").join(""),-1!=f.indexOf(".")&&(f=f.replace(".","")),-1!=m.indexOf(".")&&(m=m.replace(".",""));var _=this.editors["combobox_"+f];if((d=void 0==_?i("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):_).css("top",i(r).parent().position().top),d.css("left",this.oldhscroll?-u+parseInt(i(r).position().left):parseInt(i(r).position().left)),t.pinned&&d.css("left",u+parseInt(i(r).position().left)),void 0==_&&(d.prependTo(this.table),d[0].id="comboboxeditor"+this.element.id+f,w=null,this.source._source?(x={localdata:JSON.parse(JSON.stringify(this.source.records)),datatype:this.source.datatype,async:!1},w=new i.jqx.dataAdapter(x,{autoBind:!1,async:!1,uniqueDataFields:[m],autoSort:!0,autoSortField:m})):w=new i.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[m],async:!1,autoSort:!0,autoSortField:m}),d.jqxComboBox({hint:!1,enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:w,rtl:this.rtl,autoDropDownHeight:!t.createeditor,theme:this.theme,width:a.width(),height:a.height(),displayMember:m,valueMember:l}),d.removeAttr("tabindex"),d.find("div").removeAttr("tabindex"),this.editors["combobox_"+f]=d,t.createeditor&&t.createeditor(e,h,d)),t._requirewidthupdate&&d.jqxComboBox({width:a.width()-2}),b=d.jqxComboBox("listBox").visibleItems,t.createeditor||d.jqxComboBox("autoDropDownHeight",b.length<8),h=this.getcellvalue(e,m),y=this.findRecordIndex(h,m,b),s&&(""!=h?(d.jqxComboBox("selectIndex",y,!0),d.jqxComboBox("val",h)):(d.jqxComboBox("selectIndex",-1),d.jqxComboBox("val",h))),!this.editcell)return;void 0!=this.editcell.defaultvalue&&d.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&d.jqxComboBox("input").val(this.editchar),o&&setTimeout(function(){if(g(d.jqxComboBox("input")),d)if(d.jqxComboBox("_setSelection",0,0),n.editchar)d.jqxComboBox("_setSelection",1,1),n.editchar=null;else if(d.jqxComboBox("input")){var e=d.jqxComboBox("input").val();d.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){r.innerHTML="",-1!=(f=i.trim(t.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var q=this.editors["datetimeinput_"+f];if((d=void 0==q?i("<div style='border: none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):q).show(),d.css("top",i(r).parent().position().top),d.css("left",this.oldhscroll?-u+parseInt(i(r).position().left):parseInt(i(r).position().left)),t.pinned&&d.css("left",u+parseInt(i(r).position().left)),void 0==q&&(d.prependTo(this.table),d[0].id="datetimeeditor"+this.element.id+f,d.jqxDateTimeInput({hint:!1,firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:{calendar:this.gridlocalization},_editor:!0,theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),formatString:t.cellsformat}),this.editors["datetimeinput_"+f]=d,t.createeditor&&t.createeditor(e,h,d)),t._requirewidthupdate&&d.jqxDateTimeInput({width:a.width()}),s){if(""!=h&&null!=h){var j=new Date(h);"Invalid Date"==j&&this.source.getvaluebytype&&(j=this.source.getvaluebytype(h,{name:t.datafield,type:"date"})),d.jqxDateTimeInput("setDate",j)}else d.jqxDateTimeInput("setDate",null);void 0!=this.editcell.defaultvalue&&d.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(o){var C=this.editEvent;setTimeout(function(){g(d.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(d.jqxDateTimeInput("_selectGroup",0),n.editchar&&n.editchar.length>0){var e=parseInt(n.editchar);isNaN(e)||C&&d.jqxDateTimeInput("_handleKeyPress",C,C.charCode?C.charCode:C.keyCode?C.keyCode:0)}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){r.innerHTML="",-1!=(f=i.trim(t.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var k=this.editors["numberinput_"+f];if((d=void 0==k?i("<div style='border:none; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):k).show(),d.css("top",i(r).parent().position().top),d.css("left",this.oldhscroll?-u+parseInt(i(r).position().left):parseInt(i(r).position().left)),t.pinned&&d.css("left",u+parseInt(i(r).position().left)),void 0==k){d.prependTo(this.table),d[0].id="numbereditor"+this.element.id+f;var z="",I="left",T=2;t.cellsformat?-1!=t.cellsformat.indexOf("c")?(z=this.gridlocalization.currencysymbol,I="before"==(I=this.gridlocalization.currencysymbolposition)?"left":"right",t.cellsformat.length>1&&(T=parseInt(t.cellsformat.substring(1),10))):-1!=t.cellsformat.indexOf("p")&&(z=this.gridlocalization.percentsymbol,I="right",t.cellsformat.length>1&&(T=parseInt(t.cellsformat.substring(1),10))):T=0,d.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:T,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:a.width(),height:a.height(),spinButtons:!0,symbol:z,symbolPosition:I}),this.editors["numberinput_"+f]=d,t.createeditor&&t.createeditor(e,h,d)}if(t._requirewidthupdate&&d.jqxNumberInput({width:a.width()}),s){if(d.jqxNumberInput("setDecimal",""!=h&&null!=h?h:0),void 0!=this.editcell.defaultvalue&&d.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var D=parseInt(this.editchar);isNaN(D)||d.jqxNumberInput("setDecimal",D)}o&&setTimeout(function(){if(g(d.jqxNumberInput("numberInput")),d.jqxNumberInput("_setSelectionStart",0),n.editchar)t.cellsformat.length>0&&t.cellsformat.indexOf("c")>=0?d.jqxNumberInput("_setSelectionStart",2):d.jqxNumberInput("_setSelectionStart",1),n.editchar=null;else{if(d.jqxNumberInput("spinButtons")){var e=d.jqxNumberInput("numberInput").val();n._setSelection(d.jqxNumberInput("numberInput")[0],e.length,e.length)}else e=d.jqxNumberInput("numberInput").val(),n._setSelection(d.jqxNumberInput("numberInput")[0],0,e.length);d.jqxNumberInput("selectAll")}},10)}}break;case"custom":r.innerHTML="",-1!=(f=i.trim(t.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var S=this.editors["customeditor_"+f+"_"+e];if((d=void 0==S?i("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):S).show(),d.css("top",i(r).parent().position().top),d.css("left",this.oldhscroll?-u+parseInt(i(r).position().left):parseInt(i(r).position().left)),t.pinned&&d.css("left",u+parseInt(i(r).position().left)),void 0==S){d.prependTo(this.table),d[0].id="customeditor"+this.element.id+f+"_"+e,this.editors["customeditor_"+f+"_"+e]=d;var B=a.width()-1,P=a.height()-1;d.width(B),d.height(P),t.createeditor&&t.createeditor(e,h,d,c,B,P,this.editchar)}t._requirewidthupdate&&d.width(a.width());break;case"template":r.innerHTML="",-1!=(f=i.trim(t.datafield).split(" ").join("")).indexOf(".")&&(f=f.replace(".",""));var L=this.editors["templateeditor_"+f];(d=void 0==L?i("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):L).show(),d.css("top",i(r).parent().position().top),d.css("left",this.oldhscroll?-u+parseInt(i(r).position().left):parseInt(i(r).position().left)),t.pinned&&d.css("left",u+parseInt(i(r).position().left)),void 0==L&&(d.prependTo(this.table),d[0].id="templateeditor"+this.element.id+f,this.editors["templateeditor_"+f]=d,B=a.width()-1,P=a.height()-1,d.width(B),d.height(P),t.createeditor&&t.createeditor(e,h,d,c,B,P,this.editchar)),t._requirewidthupdate&&d.width(a.width());break;case"textbox":default:r.innerHTML="",(d=this.editors["textboxeditor_"+t.datafield]||i("<input autocomplete='off' style='padding-left: 4px; padding-right:4px; border: none; border-color: transparent;' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+t.datafield,d.appendTo(a),this.rtl&&d.css("direction","rtl"),(s||""==d[0].className)&&(d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?d.val(this.editchar):(""!=t.cellsformat&&(h=this.getcelltext(e,l)),void 0==h&&(h=""),d.val(h)),void 0!=this.editcell.defaultvalue&&d.val(this.editcell.defaultvalue),d.width(a.width()+1),d.height(a.height()+1),t.createeditor&&t.createeditor(e,h,d),""!=t.cellsformat&&(-1==t.cellsformat.indexOf("p")&&-1==t.cellsformat.indexOf("c")&&-1==t.cellsformat.indexOf("n")&&-1==t.cellsformat.indexOf("f")||this.editors["textboxeditor_"+t.datafield]||d.keydown(function(e){var i=String.fromCharCode(e.charCode?e.charCode:e.keyCode?e.keyCode:0),r=parseInt(i);if(isNaN(r))return!0;if(n._selection(d).length>0)return!0;var s="",o=d.val();if(t.cellsformat.length>1){var l=parseInt(t.cellsformat.substring(1));isNaN(l)&&(l=0)}else l=0;if(l>0&&-1!=o.indexOf(n.gridlocalization.decimalseparator)&&n._selection(d).start>o.indexOf(n.gridlocalization.decimalseparator))return!0;for(var a=0;a<o.length-l;a++){var h=o.substring(a,a+1);null!=h.match(/^[0-9]+$/)&&(s+=h)}return!(s.length>=11)&&void 0}))),this.editors["textboxeditor_"+t.datafield]=d,s&&o&&setTimeout(function(){g(d),n.editchar?(n._setSelection(d[0],1,1),n.editchar=null):n._setSelection(d[0],0,d.val().length)},25)}d&&(d.addClass("jqx-grid-cell-edit"),d[0].style.zIndex=1+parseInt(r.style.zIndex),i.jqx.browser.msie&&i.jqx.browser.version<8&&(d[0].style.zIndex=1+this.columns.records.length+r.style.zIndex),d.css("display","block"),this.editcell.editor=d,this.editcell[l]?this.editcell[l].editor=d:(this.editcell[l]={},this.editcell[l].editor=d)),s&&t.initeditor&&t.initeditor(e,h,d,c,this.editchar),n.isTouchDevice()||setTimeout(function(){n.content&&(n.content[0].scrollTop=0,n.content[0].scrollLeft=0),n.gridcontent&&(n.gridcontent[0].scrollLeft=0,n.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){var e=this;for(var t in this.editcells)e.editcell=e.editcells[t],e._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var t=this.editcell.editor;t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(this.editcell[r.datafield]&&this.editcell[r.datafield].editor){this.editcell[r.datafield].editor.hide();var s=this.editcell[r.datafield].editor;switch(r.columntype){case"dropdownlist":s.jqxDropDownList({closeDelay:0}),s.jqxDropDownList("hideListBox"),s.jqxDropDownList({closeDelay:300});break;case"combobox":s.jqxComboBox({closeDelay:0}),s.jqxComboBox("hideListBox"),s.jqxComboBox({closeDelay:300});break;case"datetimeinput":s.jqxDateTimeInput("isOpened")&&(s.jqxDateTimeInput({closeDelay:0}),s.jqxDateTimeInput("hideCalendar"),s.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}},_geteditorvalue:function(e){var t=new String;if(!this.editcell)return null;var r=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[e.datafield]&&(r=this.editcell[e.datafield].editor),r){switch(e.columntype){case"textbox":default:if(t=r.val(),""!=e.cellsformat){var s="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(o){var l="";i.each(o,function(){if(this.name==e.displayfield)return this.type&&(l=this.type),!1}),l&&(s=l)}var a="date"===s||"time"===s;if("number"===s||"float"===s||"int"===s||"integer"===s||"string"===s&&(-1!=e.cellsformat.indexOf("p")||-1!=e.cellsformat.indexOf("c")||-1!=e.cellsformat.indexOf("n")||-1!=e.cellsformat.indexOf("f"))){if(""===t&&e.nullable)return"";t.indexOf(this.gridlocalization.currencysymbol)>-1&&(t=t.replace(this.gridlocalization.currencysymbol,""));var n=t;if(n=new Number(n),!isNaN(n))return n;(t=(t=function(e,i,r){var s=t;if(""==i)return t;for(var o=s.indexOf(i);-1!=o;)o=(s=s.replace(i,"")).indexOf(i);return s}(0,this.gridlocalization.thousandsseparator)).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(t=t.replace(this.gridlocalization.percentsymbol,""));for(var d="",h=0;h<t.length;h++){var c=t.substring(h,h+1);"-"===c&&(d+="-"),"."===c&&(d+="."),null!=c.match(/^[0-9]+$/)&&(d+=c)}t=(t=d).replace(/ /g,""),t=new Number(t),isNaN(t)&&(t="")}if(a||"string"===s&&(-1!=e.cellsformat.indexOf("H")||-1!=e.cellsformat.indexOf("m")||-1!=e.cellsformat.indexOf("M")||-1!=e.cellsformat.indexOf("y")||-1!=e.cellsformat.indexOf("h")||-1!=e.cellsformat.indexOf("d"))){if(""===t&&e.nullable)return"";i.jqx.dataFormat&&(t=i.jqx.dataFormat.tryparsedate(t,this.gridlocalization)),"Invalid Date"!=t&&null!=t||(t="")}}e.displayfield!=e.datafield&&(t={label:t,value:t});break;case"checkbox":r.jqxCheckBox&&(t=r.jqxCheckBox("checked"));break;case"datetimeinput":if(r.jqxDateTimeInput){if(r.jqxDateTimeInput({isEditing:!1}),"none"!==r.jqxDateTimeInput("container").css("display")&&r.jqxDateTimeInput("close"),r.jqxDateTimeInput("_validateValue"),null==(t=r.jqxDateTimeInput("getDate")))return null;t=new Date(t.toString()),e.displayfield!=e.datafield&&(t={label:t,value:t})}break;case"dropdownlist":if(r.jqxDropDownList){var u=r.jqxDropDownList("selectedIndex"),p=r.jqxDropDownList("listBox").getVisibleItem(u);null==(t=e.displayfield!=e.datafield?p?{label:p.label,value:p.value}:"":p?p.label:"")&&(t="")}break;case"combobox":r.jqxComboBox&&(t=r.jqxComboBox("val"),e.displayfield!=e.datafield&&null!=(p=r.jqxComboBox("getSelectedItem"))&&(t={label:p.label,value:p.value}),null==t&&(t=""));break;case"numberinput":if(r.jqxNumberInput){this.touchdevice&&r.jqxNumberInput("_doTouchHandling");var g=r.jqxNumberInput("getDecimal");t=new Number(g),t=parseFloat(t),isNaN(t)&&(t=0),null===g&&(t=null),e.displayfield!=e.datafield&&(t={label:t,value:t})}}e.geteditorvalue&&(t=e.geteditorvalue(this.editcell.row,"selectedrow"==this.editmode?this.getcellvalue(this.editcell.row,e.datafield):this.editcell.value,r))}return t},hidevalidationpopups:function(){this.popups&&(i.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(e,t,r){void 0==r&&(r=this.gridlocalization.validationstring);var s=i("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=i("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(r),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.prependTo(this.table),o.prependTo(this.table);for(var l=parseInt(this.hScrollInstance.value),a=this.getcolumn(t).uielement,n=null,d=0;d<this.hittestinfo.length;d++)e===this.hittestinfo[d].row.visibleindex&&(n=this.hittestinfo[d]);if(!n){this.ensurerowvisible(e);var h=this;return s.remove(),o.remove(),void setTimeout(function(){for(var i=null,s=0;s<h.hittestinfo.length;s++)e===h.hittestinfo[s].row.visibleindex&&(i=h.hittestinfo[s]);i&&h.showvalidationpopup(e,t,r)},25)}var c=i(n.visualrow);s.css("top",parseInt(c.position().top)+30+"px");var u=parseInt(s.css("top"));o.css("top",u-12),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var p=!1;u>=this._gettableheight()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(u=parseInt(c.position().top)-this.rowsheight-5)<0&&(u=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),s.css("top",u+"px"),o.css("top",u+s.outerHeight()-9));var g=-l+parseInt(i(a).position().left);o.css("left",l+g+30);var f=s.width();f+g>this.host.width()-20&&(g-=f+g-this.host.width()+40),s.css("left",p?l+parseInt(i(a).position().left)-s.outerWidth():l+g),s.show(),o.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:s,validationrow:o}},_showvalidationpopup:function(e,t,r){var s=this.editcell,o=this.editcell.editor;if("selectedrow"==this.editmode&&(s=this.editcell[t])&&s.editor&&(s.element=o=s.editor),o&&!(this.validationpopup&&i.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===t&&void 0===r&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(r);else{var l=i("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=i("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");l.html(r),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),l.addClass(this.toThemeProperty("jqx-grid-validation")),l.addClass(this.toThemeProperty("jqx-rc-all")),l.prependTo(this.table),a.prependTo(this.table),this.validationpopup=l,this.validationpopuparrow=a}var n=parseInt(this.hScrollInstance.value);this.validationpopup.css("top","selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px":parseInt(i(s.editor).position().top)+(this.rowsheight+5)+"px":parseInt(i(s.element).parent().position().top)+(this.rowsheight+5)+"px");var d=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",d-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var h=!1;d>=this._gettableheight()&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),d=parseInt(i(s.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(d=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(i(s.editor).position().top)-this.rowsheight-5),d<0&&(d=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=!0),this.validationpopup.css("top",d+"px"),this.validationpopuparrow.css("top",d+this.validationpopup.outerHeight()-9));var c=-n+parseInt(i(s.element).position().left);this.validationpopuparrow.css("left",n+c+30);var u=this.validationpopup.width();u+c>this.host.width()-20&&(c-=u+c-this.host.width()+40),this.validationpopup.css("left",h?n+parseInt(i(s.element).position().left)-this.validationpopup.outerWidth():n+c),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})},h2sn:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_updatefilterrowui:function(e){var t=this.columns.records.length,r=0,s=this;if(this.filterrow){for(var o=0;o<t;o++){var l=this.columns.records[o],a=parseInt(l.width);a<l.minwidth&&(a=l.minwidth),a>l.maxwidth&&(a=l.maxwidth);var n=i(this.filterrow[0].cells[o]);n.css("left",r);var d=!0;if(n.width()==a&&(d=!1),e&&(d=!0),n.width(a),n[0].left=r,l.element&&(n[0].style.width=l.element.style.width,n[0].style.left=l.element.style.left),l.hidden&&l.hideable?n.css("display","none"):r+=a,d)if(l.createfilterwidget&&"custom"==l.filtertype)l.createfilterwidget(l,n);else if(l.filterable){var h=function(e,t){var r=i(t.children()[0]);r[0].style.width=a-8+"px",i.jqx.browser.msie&&(r[0].style.width=a-16+"px"),r.attr("disabled",e.disabled)};switch(l.filtertype){case"number":case"input":i(n.children()[0]).width(a),n.find("input")[0].style.width=a-30+"px",i.jqx.browser.msie&&(n.find("input")[0].style.width=a-36+"px"),n.find("input").attr("disabled",s.disabled),i(n.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:s.theme,disabled:s.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?i(n.children()[0]).jqxDateTimeInput({theme:s.theme,disabled:s.disabled,width:a-10}):h(this,n);break;case"textbox":case"default":h(this,n);break;case"list":case"checkedlist":this.host.jqxDropDownList?i(n.children()[0]).jqxDropDownList({theme:s.theme,disabled:s.disabled,width:a-10}):h(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?i(n.children()[0]).jqxCheckBox({theme:s.theme,disabled:s.disabled}):h(this,n)}}}var c=i(this.filterrow.children()[0]);c.width(parseInt(r)+2),c.height(this.filterrowheight)}},clearfilterrow:function(e){if(this._disablefilterrow=!0,this.columns.records){for(var t=this.columns.records.length,r=0;r<t;r++){var s=this.columns.records[r],o=i(this.filterrow[0].cells[r]);if(("string"!=typeof e||s.displayfield==e)&&s.filterable){var l=function(e,t){var r=i(t.children()[0]);r.val(""),r[0]&&(e["_oldWriteText"+r[0].id]="")};switch(s.filtertype){case"number":case"input":if(o.find("input").val(""),this.host.jqxDropDownList){var a=i(i(i(o).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var n=0;if(0==n){this._getfiltersbytype("number"==s.filtertype?"number":"string");var d=(new i.jqx.filter).getoperatorsbyfiltertype("number"==s.filtertype?"numberfilter":"stringfilter");null!=s.filtercondition?-1==(n=d.indexOf(s.filtercondition.toUpperCase()))&&(n="number"==s.filtertype?0:2):n="number"==s.filtertype?0:2}a.jqxDropDownList({selectedIndex:n}),a.jqxDropDownList("ensureVisible",n)}break;case"date":case"range":this.host.jqxDateTimeInput?i(o.children()[0]).jqxDateTimeInput("setDate",null):l(this,o);break;case"textbox":case"default":l(this,o);break;case"list":this.host.jqxDropDownList?i(o.children()[0]).jqxDropDownList("clearSelection"):l(this,o);break;case"checkedlist":this.host.jqxDropDownList?i(o.children()[0]).jqxDropDownList("checkAll",!1):l(this,o);break;case"bool":case"boolean":this.host.jqxCheckBox?i(o.children()[0]).jqxCheckBox({checked:null}):l(this,o)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var e=this.columns.records.length,t=this.that,r=0;r<e;r++){var s=new i.jqx.filter,o=this.columns.records[r];if(o.filterable&&null!==o.datafield){var l=t._getcolumntypebydatafield(o),a=t._getfiltertype(l),n=!0,d=function(e,i,r){var s=!0;if(e._filterwidget){var o=e._filterwidget.val();if(""!=o){var l="equal";if("stringfilter"==i&&(l="contains"),"numericfilter"==i&&","==t.gridlocalization.decimalseparator&&o.indexOf(t.gridlocalization.decimalseparator)>=0&&(o=o.replace(t.gridlocalization.decimalseparator,".")),"stringfilter"!=i){var a=0;if(-1!=o.indexOf(">")&&(l="greater_than",a=1),-1!=o.indexOf("<")&&(l="less_than",a=1),-1!=o.indexOf("=")&&("greater_than"==l?(l="greater_than_or_equal",a=2):"less_than"==l?(l="less_than_or_equal",a=2):(l="equal",a=1)),0!=a&&(o=o.substring(a)).length<1)return!1}if(void 0!=e.filtercondition&&(l=e.filtercondition),"datefilter"==i)var n=r.createfilter(i,o,l,null,e.cellsformat,t.gridlocalization);else n=r.createfilter(i,o,l);r.addfilter(1,n)}else s=!1}return s};switch(o.filtertype){case"range":case"date":if(o._filterwidget.jqxDateTimeInput)if("range"==o.filtertype)if(null!=(f=o._filterwidget.jqxDateTimeInput("getRange"))&&null!=f.from&&null!=f.to){var h="GREATER_THAN_OR_EQUAL";(g=new Date(0)).setHours(0),g.setMinutes(0),g.setFullYear(f.from.getFullYear(),f.from.getMonth(),f.from.getDate());var c=new Date(0);c.setHours(0),c.setMinutes(0),c.setFullYear(f.to.getFullYear(),f.to.getMonth(),f.to.getDate()),c.setHours(f.to.getHours()),c.setMinutes(f.to.getMinutes()),c.setSeconds(f.to.getSeconds());var u=s.createfilter(a,g,h);s.addfilter(0,u);var p=s.createfilter(a,c,"LESS_THAN_OR_EQUAL");s.addfilter(0,p)}else n=!1;else if(null!=(f=o._filterwidget.jqxDateTimeInput("getDate"))){var g;(g=new Date(0)).setHours(0),g.setMinutes(0),g.setFullYear(f.getFullYear(),f.getMonth(),f.getDate()),h="EQUAL",void 0!=o.filtercondition&&(h=o.filtercondition),u=s.createfilter(a,g,h),s.addfilter(0,u)}else n=!1;else n=d(o,a,s);break;case"input":if(o._filterwidget){var f=o._filterwidget.find("input").val(),m=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=s.getoperatorsbyfiltertype(a)[m];t.updatefilterconditions&&(void 0!=(b=t.updatefilterconditions(a,s.getoperatorsbyfiltertype(a)))&&s.setoperatorsbyfiltertype(a,b),v=s.getoperatorsbyfiltertype(a)[m]);var w="NULL"==v||"NOT_NULL"==v,x="EMPTY"==v||"NOT_EMPTY"==v;void 0!=f&&f.length>0||w||x?(u=s.createfilter(a,f,v,null,o.cellsformat,t.gridlocalization),s.addfilter(0,u)):n=!1}else n=!1;break;case"number":var b;o._filterwidget?(f=o._filterwidget.find("input").val(),","==t.gridlocalization.decimalseparator&&f.indexOf(t.gridlocalization.decimalseparator)>=0&&(f=f.replace(t.gridlocalization.decimalseparator,".")),m=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=s.getoperatorsbyfiltertype(a)[m],t.updatefilterconditions&&(void 0!=(b=t.updatefilterconditions(a,s.getoperatorsbyfiltertype(a)))&&s.setoperatorsbyfiltertype(a,b),v=s.getoperatorsbyfiltertype(a)[m]),w="NULL"==v||"NOT_NULL"==v,x="EMPTY"==v||"NOT_EMPTY"==v,void 0!=f&&f.length>0||w||x?(u=s.createfilter(a,new Number(f),v,null,o.cellsformat,t.gridlocalization),s.addfilter(0,u)):n=!1):n=!1;break;case"textbox":case"default":n=d(o,a,s);break;case"bool":case"boolean":if(o._filterwidget.jqxCheckBox)if(null!=(f=o._filterwidget.jqxCheckBox("checked"))){var y=s.createfilter(a,f,h="equal");s.addfilter(1,y)}else n=!1;else n=d(o,a,s);break;case"list":if((j=o._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var _=j.getItem(j.selectedIndex),q=_.value;h="equal",""===(f=_.label)&&(h="NULL"),y=s.createfilter(a,f,h),s.addfilter(1,y),q!==f&&(y.data=q)}else n=!1;break;case"checkedlist":if(o._filterwidget.jqxDropDownList){var j,C=(j=o._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==C.length){for(var k=1;k<j.items.length;k++)q=j.items[k].value,h="not_equal",""===(f=j.items[k].label)&&(h="NULL"),y=s.createfilter(a,f,h),q!==f&&(y.data=q),s.addfilter(0,y);n=!0}else if(C.length!=j.items.length)for(k=0;k<C.length;k++)q=C[k].value,h="equal",""===(f=C[k].label)&&(h="NULL"),y=s.createfilter(a,f,h),q!==f&&(y.data=q),s.addfilter(1,y);else n=!1}else n=d(o,a,s)}this._loading||(n?this.addfilter(o.displayfield,s,!1):this.removefilter(o.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var e=i('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),t=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),s+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var o=r+10,l=new Array,a=this.that;this.filterrow[0].cells=l,e.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(e),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var n=!1,d=new Array,h=document.createDocumentFragment(),c=0;c<r;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var g=document.createElement("div");g.style.overflow="hidden",g.style.position="absolute",g.style.height="100%",g.className=s,g=i(g),h.appendChild(g[0]),g[0].style.left=t+"px",this.rtl?(g.css("z-index",o++),g.css("border-left-width","1px")):g.css("z-index",o--),"auto"==p&&(p=0),g[0].style.width=parseFloat(p)+"px",g[0].left=t,u.hidden&&u.hideable?g.css("display","none"):t+=p,l[l.length]=g[0];var f=!0;this.rtl?(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)+c>r-1&&(f=!1),this.showrowdetailscolumn&&this.rowdetails&&c==r-1&&(f=!1)):(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)>c&&(f=!1),this.showrowdetailscolumn&&this.rowdetails&&0==c&&(f=!1)),f&&("custom"==u.filtertype&&u.createfilterwidget?u.createfilterwidget(u,g,function(){a._applyfilterfromfilterrow()}):u.filterable&&(this._filterrowcache[u.datafield]?(n=!0,g.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,g,p),d[u.datafield]=u._filterwidget)))}e[0].appendChild(h),this._filterrowcache=d,i.jqx.browser.msie&&i.jqx.browser.version<8&&e.css("z-index",o--),e.width(parseFloat(t)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),n&&this._updatefilterrowui(!0)},_addfilterwidget:function(e,t,r){for(var s=this.that,o="",l=0;l<s.dataview.filters.length;l++){var a=s.dataview.filters[l];if(a.datafield&&a.datafield==e.datafield){l=a.filter.getfilters()[0],o=l.value,"range"===e.filtertype&&(o={from:o,to:a.filter.getfilters()[1].value}),e.filtercondition=l.condition;break}}var n,d,h,c=function(t,s){var l=i('<input autocomplete="off" type="textarea"/>');l.attr("tabindex",5+e.visibleindex),l[0].id=i.jqx.utilities.createId(),l.addClass(t.toThemeProperty("jqx-widget")),l.addClass(t.toThemeProperty("jqx-filter-input jqx-input jqx-input-widget")),l.addClass(t.toThemeProperty("jqx-rc-all")),l.addClass(t.toThemeProperty("jqx-widget-content")),t.rtl&&l.css("direction","rtl"),t.disabled&&l.attr("disabled",!0),l.attr("disabled",!1),l.appendTo(s),l.css("margin","4px"),l.width(r-8),l.height(t.filterrowheight-9),e.createfilterwidget&&e.createfilterwidget(e,s,l),e._filterwidget=l,l.focus(function(){return t.content[0].scrollLeft=0,setTimeout(function(){t.content[0].scrollLeft=0},10),t.focusedfilter=l,l.addClass(t.toThemeProperty("jqx-fill-state-focus")),!1}),l.blur(function(){l.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),l.keydown(function(i){"13"==i.keyCode&&t._applyfilterfromfilterrow(),l[0]._writeTimer&&clearTimeout(l[0]._writeTimer),l[0]._writeTimer=setTimeout(function(){t._loading||(t["_oldWriteText"+l[0].id]||(t["_oldWriteText"+l[0].id]=""),t["_oldWriteText"+l[0].id].length>0&&t["_oldWriteText"+l[0].id]!=l.val()?(t._applyfilterfromfilterrow(),t["_oldWriteText"+l[0].id]=l.val()):0==t["_oldWriteText"+l[0].id].length&&(t._applyfilterfromfilterrow(),t["_oldWriteText"+l[0].id]=l.val()))},e.filterdelay),t.focusedfilter=l}),t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect"),l.val(o)};switch(null!=e.datatype&&("number"==e.filtertype&&("string"!=e.datatype&&"date"!=e.datatype&&"bool"!=e.datatype||(e.filtertype="textbox")),"date"==e.filtertype&&("string"!=e.datatype&&"number"!=e.datatype&&"bool"!=e.datatype||(e.filtertype="textbox")),"bool"==e.filtertype&&("string"!=e.datatype&&"number"!=e.datatype&&"date"!=e.datatype||(e.filtertype="textbox"))),e.filtertype){case"number":case"input":var u=i("<div></div>");u.width(t.width()),u.height(this.filterrowheight),t.append(u),n=u,d=r=t.width()-21,h=i('<input style="float: left;" autocomplete="off" type="textarea"/>'),s.rtl&&(h.css("float","right"),h.css("direction","rtl")),h.attr("tabindex",5+e.visibleindex),h[0].id=i.jqx.utilities.createId(),h.addClass(s.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-input-widget jqx-filter-input jqx-widget-content")),h.appendTo(n),h.width(d-10),s.disabled&&h.attr("disabled",!0),h.attr("disabled",!1),h[0].style.height=s.filterrowheight-9+"px",h.css("margin","4px"),h.css("margin-right","3px"),h.focus(function(){s.focusedfilter=h,h.addClass(s.toThemeProperty("jqx-fill-state-focus"))}),h.blur(function(){h.removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),h.keydown(function(t){"13"==t.keyCode&&s._applyfilterfromfilterrow(),"9"!=t.keyCode&&(h[0]._writeTimer&&clearTimeout(h[0]._writeTimer),h[0]._writeTimer=setTimeout(function(){s._loading||s["_oldWriteText"+h[0].id]!=h.val()&&(s._applyfilterfromfilterrow(),s["_oldWriteText"+h[0].id]=h.val())},e.filterdelay),s.focusedfilter=h)}),h.val(o);var p=s._getfiltersbytype("number"==e.filtertype?"number":"string");(b=i("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),b.appendTo(u),s.rtl&&b.css("float","right");var g=0;null!=e.filtercondition&&-1!=(f=(l=new i.jqx.filter).getoperatorsbyfiltertype("number"==e.filtertype?"numericfilter":"stringfilter").indexOf(e.filtercondition.toUpperCase()))&&(g=f);var f,m=180;"input"==e.filtertype&&(m=240,0==g&&-1!=(f=p.indexOf("contains")||2)&&null==e.filtercondition&&(g=f)),b.jqxDropDownList({disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:g,width:20,height:27,dropDownHeight:150,dropDownWidth:m,source:p,theme:s.theme}),b.jqxDropDownList({selectionRenderer:function(e){return""}}),b.attr("tabindex",5+e.visibleindex),b.jqxDropDownList("setContent",""),b.find(".jqx-dropdownlist-content").hide(),e.createfilterwidget&&e.createfilterwidget(e,t,u),e._filterwidget=u;var v=null;this.addHandler(b,"select",function(){var t=b.jqxDropDownList("getSelectedItem").label;e._filterwidget.find("input").val().length>0&&!s.refreshingfilter&&s._applyfilterfromfilterrow(),("input"!=e.filtertype||s.refreshingfilter)&&(0!=e._filterwidget.find("input").val().length||s.refreshingfilter||"null"!=v&&"not null"!=v&&"null"!=t&&"not null"!=t)||s._applyfilterfromfilterrow(),v=t});break;case"textbox":case"default":default:c(this,t);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var w=i("<div></div>");w.css("margin","4px"),w.css("margin-left","5px"),w.appendTo(t),w.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:s.disabled,localization:{calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring},rtl:s.rtl,showFooter:!0,formatString:e.cellsformat,selectionMode:e.filtertype,value:null,theme:this.theme,width:r-9,height:this.filterrowheight-9}),e.createfilterwidget&&e.createfilterwidget(e,t,w),o&&o.from?w.jqxDateTimeInput("setRange",o.from,o.to):o&&o.toString().length>1&&w.val(o),w.find("input").attr("tabindex",5+e.visibleindex),e._filterwidget=w,this.addHandler(w,"valueChanged",function(e){s.refreshingfilter||(s._applyfilterfromfilterrow(),s.focusedfilter=null)})}else c(this,t);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var x,b,y=this._getfilterdataadapter(e);(b=i("<div></div>")).css("margin","4px"),b.css("margin-left","5px");var _=e.datafield,q="checkedlist"==e.filtertype;m=r<150?220:"auto",y.dataBind();var j=y.records.length<8;x=j,b.appendTo(t),b.jqxDropDownList({hint:!1,placeHolder:s.gridlocalization.filterchoosestring,disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,checkboxes:q,dropDownWidth:m,source:y.records,autoDropDownHeight:j,theme:this.theme,width:r-9,height:this.filterrowheight-9,displayMember:e.displayfield,valueMember:_}),b.attr("tabindex",5+e.visibleindex),b.attr("default-placeholder",!0),e.createfilterwidget&&e.createfilterwidget(e,t,b);var C=b.jqxDropDownList("listBox");if(q){b.jqxDropDownList({selectionRenderer:function(){return'<span class="'+s.toThemeProperty("jqx-item")+'" style="top: 4px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>"}});var k=i('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>");if(k.addClass(this.toThemeProperty("jqx-item")),void 0!=C){x||C.host.height(200),C.insertAt(s.gridlocalization.filterselectallstring,0),b.jqxDropDownList("setContent",k);var z=!0;new Array,C.checkAll(!1),s.addHandler(C.host,"checkChange",function(e){if(b[0]._selectionChanged=!0,z)if(e.args.label!=s.gridlocalization.filterselectallstring){z=!1,C.host.jqxListBox("checkIndex",0,!0,!1);var t=C.host.jqxListBox("getCheckedItems"),i=C.host.jqxListBox("getItems");1==t.length?C.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&C.host.jqxListBox("indeterminateIndex",0,!0,!1),z=!0}else z=!1,C.host.jqxListBox(e.args.checked?"checkAll":"uncheckAll",!1),z=!0})}}else C.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),b.jqxDropDownList({selectedIndex:0});e._filterwidget=b,b.jqxDropDownList("dropdownlistWrapper"),"list"==e.filtertype?this.addHandler(b,"select",function(e){s.refreshingfilter||e.args&&"none"!=e.args.type&&(s._applyfilterfromfilterrow(),s.focusedfilter=null)}):this.addHandler(b,"close",function(e){b[0]._selectionChanged&&(s._applyfilterfromfilterrow(),s.focusedfilter=null,b[0]._selectionChanged=!1)})}else c(this,t);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var I=i('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>');I.appendTo(t),I.jqxCheckBox({disabled:s.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),I.attr("tabindex",5+e.visibleindex),e.createfilterwidget&&e.createfilterwidget(e,t,I),!0===o||"true"==o?I.jqxCheckBox({checked:!0}):!1!==o&&"false"!=o||I.jqxCheckBox({checked:!1}),e._filterwidget=I,this.addHandler(I,"change",function(e){s.refreshingfilter||e.args&&(s.focusedfilter=null,s._applyfilterfromfilterrow())})}else c(this,t)}},_getfilterdataadapter:function(e){if(this.source._source){var t={localdata:i.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},r=this;dataadapter=new i.jqx.dataAdapter(t,{autoBind:!1,autoSort:!0,autoSortField:e.displayfield,async:!1,uniqueDataFields:[e.displayfield],beforeLoadComplete:function(t){var i=new Array;if(e.cellsformat){for(var s=r._getcolumntypebydatafield(e),o=0;o<t.length;o++){i.push(t[o]);var l=t[o][e.displayfield];t[o][e.displayfield+"JQValue"]=l,"date"===s?t[o][e.displayfield]=null!=l?dataadapter.formatDate(l,e.cellsformat,r.gridlocalization):"":"number"!==s&&"float"!==s&&"int"!==s||(t[o][e.displayfield]=null!=l?dataadapter.formatNumber(l,e.cellsformat,r.gridlocalization):"")}return i}return t}})}else dataadapter=new i.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[e.displayfield],autoSort:!0,autoSortField:e.displayfield,async:!1});if(e.filteritems&&e.filteritems.length>0)t={localdata:e.filteritems,datatype:this.source.datatype,async:!1},dataadapter=new i.jqx.dataAdapter(t,{autoBind:!1,async:!1});else if(e.filteritems){if(e.filteritems._source)return e.filteritems._options.autoBind=!1,e.filteritems._options.async=!1,e.filteritems;if(i.isFunction(e.filteritems))return e.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var e=this.that,t=this.columns.records.length,r=0;r<t;r++){var s=this.columns.records[r];if(s.filterable&&s.filter){var o=s.filter.getfilters();if(o.length>0){var l=o[0].value,a=s._filterwidget,n=s._filterwidget.parent();if(null!=a)switch(s.filtertype){case"number":if(n.find("input").val(l),this.host.jqxDropDownList){var d=s.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition))}break;case"input":n.find("input").val(l),this.host.jqxDropDownList&&(d=s.filter.getoperatorsbyfiltertype("stringfilter"),a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition)));break;case"date":case"range":if(this.host.jqxDateTimeInput){if(void 0!=(l=s.filter.getfilterat(0).filtervalue)){if(s.filter.getfilterat(1))var h=s.filter.getfilterat(1).filtervalue;else h=l;"range"==s.filtertype?i(n.children()[0]).jqxDateTimeInput("setRange",new Date(l),new Date(h)):i(n.children()[0]).jqxDateTimeInput("setDate",new Date(l))}}else a.val(l);break;case"textbox":case"default":a.val(l),e["_oldWriteText"+a[0].id]=l;break;case"bool":case"boolean":this.host.jqxCheckBox?i(n.children()[0]).jqxCheckBox({checked:l}):a.val(l)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var r=this.columns.records[t];if(r.filterable){var s=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(s,"select"),this.removeHandler(s,"close"),s.jqxDropDownList("destroy");else if("date"==r.filtertype||"range"==r.filtertype)this.removeHandler(s,"valueChanged"),s.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(s,"change"),s.jqxCheckBox("destroy");else if("number"==r.filtertype||"input"===r.filtertype){var o=s.find(".jqx-input");this.removeHandler(o,"keydown"),i(s.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(s,"keydown");s.remove()}}},_updatelistfilters:function(e,t){for(var r=this.that,s=this.columns.records.length,o=0;o<s;o++){var l=this.columns.records[o];if(l.filterable&&("list"==l.filtertype||"checkedlist"==l.filtertype)){var a=l._filterwidget;if(e){var n=this._getfilterdataadapter(l);a.jqxDropDownList({source:n});var d=!0;if((u=a.jqxDropDownList("getItems")).length!=n.records.length+1&&(d=!1),d)for(var h=1;h<u.length;h++)if(u[h].label!=n.records[h-1][l.displayfield]){d=!1;break}if(d&&!t)continue}else if(void 0==l.filter){a.jqxDropDownList("renderSelection");continue}var c="checkedlist"==l.filtertype,u=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),c){a.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt(this.gridlocalization.filterselectallstring,0);var g=i('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(g.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",g),p.checkAll(!1),l.filter){var f=l.filter.getfilters();for(h=0;h<p.items.length;h++){var m=p.items[h].label,v=void 0;i.each(f,function(){var e;"NOT_EQUAL"==this.condition?e=m!=this.value:"EQUAL"==this.condition&&(e=m==this.value),v=void 0==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(h,!1,!1):p.uncheckIndex(h,!1,!1)}p._updateCheckedItems();var w=p.getCheckedItems().length;p.items.length!=w&&w>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterchoosestring)&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),l.filter){f=l.filter.getfilters();var x=-1;for(h=0;h<p.items.length;h++)m=p.items[h].label,i.each(f,function(){return"NOT_EQUAL"==this.condition||(m==this.value?(x=h,!1):void 0)});-1!=x&&p.selectIndex(x)}a.jqxDropDownList("autoDropDownHeight",u.length<8)}}},_renderfiltercolumn:function(){var e=this.that;if(this.filterable){if(!this.columns.records)return;i.each(this.columns.records,function(t,r){var s=!1;e.autoshowfiltericon?this.filter?(i(this.filtericon).show(),s=!0):i(this.filtericon).hide():this.filterable&&(i(this.filtericon).show(),s=!0),this.element.removeAttribute("filter"),s&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=s?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var e=this.source._source.datafields;if(e)for(var t=0;t<this.columns.records.length;t++){var r=this.columns.records[t];if(!r.datatype){var s="";i.each(e,function(){if(this.name==r.displayfield)return this.type&&(s=this.type),!1}),r.datatype=""!=s?s:""}}}},_getcolumntypebydatafield:function(e){var t=this.that,r="string",s=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(s){var o="";if(i.each(s,function(){if(this.name==e.displayfield)return this.type&&(o=this.type),!1}),o)return o}if(null!=e){if(void 0==this.dataview.cachedrecords)return r;var l=null;if(this.virtualmode)i.each(this.dataview.cachedrecords,function(){return l=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(l=this.dataview.cachedrecords[0][e.displayfield])&&""==l.toString())return"string"}if(null!=l)if("boolean"==typeof l)r="boolean";else if(i.jqx.dataFormat.isNumber(l))r="number";else{var a=new Date(l);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(i.jqx.dataFormat){if(null!=(a=i.jqx.dataFormat.tryparsedate(l))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var n=new Number(l);return isNaN(n)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(e,t,r){var s=i(t).find(".filter1"),o=i(t).find(".filter2"),l=i(t).find(".filter3"),a=i(t).find(".filtertext1"+e.element.id),n=i(t).find(".filtertext2"+e.element.id),d=a.val(),h=n.val(),c=e._getcolumntypebydatafield(r),u=(e._getfiltersbytype(c),new i.jqx.filter),p=e._getfiltertype(c);if("default"===e.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype){var g=s.jqxDropDownList("selectedIndex"),f=o.jqxDropDownList("selectedIndex"),m=l.jqxDropDownList("selectedIndex"),v=null,w=null;if(e.updatefilterconditions){var x=e.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));void 0!=x&&u.setoperatorsbyfiltertype(p,x)}var b=!1,y=u.getoperatorsbyfiltertype(p)[g],_=(l=u.getoperatorsbyfiltertype(p)[m],"NULL"==y||"NOT_NULL"==y),q="EMPTY"==y||"NOT_EMPTY"==y;void 0==y&&(y=u.getoperatorsbyfiltertype(p)[0]),void 0==l&&(l=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||q)&&(v=u.createfilter(p,d,y,null,r.cellsformat,e.gridlocalization),u.addfilter(f,v),b=!0),(h.length>0||"NULL"==l||"NOT_NULL"==l||"EMPTY"==l||"NOT_EMPTY"==l)&&(w=u.createfilter(p,h,l,null,r.cellsformat,e.gridlocalization),u.addfilter(f,w),b=!0),b?this.addfilter(r.displayfield,u,!0):this._clearfilter(e,t,r)}else if("excel"===e.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var j=!1,C=s.data().jqxListBox.instance,k="excel"===this.filtermode||"checkedlist"===r.filtertype,z=C.getCheckedItems();if(k||(z=C.getSelectedItems()),0==z.length){for(var I=1;I<C.items.length;I++){void 0===(S=C.items[I].value)&&(S="");var T="not_equal";if(S&&S.indexOf&&(S.indexOf("|")>=0||S.indexOf(" AND ")>=0||S.indexOf(" OR ")>=0||S.indexOf(" and ")>=0||S.indexOf(" or ")>=0)&&(S=(S=(S=(S=(S=S.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or",""),T="equal"),"datefilter"==p)var D=u.createfilter(p,S,T,null,r.cellsformat,e.gridlocalization);else D=u.createfilter(p,S,T,null);u.addfilter(0,D)}j=!0}else if(z.length!=C.items.length){for(j=!0,I=0;I<z.length;I++)if(e.gridlocalization.filterselectallstring!==z[I].value){var S;void 0===(S=z[I].value)&&(S=""),T="equal",D="datefilter"==p?u.createfilter(p,S,T,null,r.cellsformat,e.gridlocalization):u.createfilter(p,S,T,null),u.addfilter(1,D)}}else j=!1;j?this.addfilter(r.displayfield,u,!0):this.removefilter(r.displayfield,!0)}},_clearfilter:function(e,t,i){this.removefilter(i.displayfield,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),s=this._getcolumn(e);void 0!=r&&null!=r&&(r.filter=t,s.filter=t,this.dataview.addfilter(e,t),1==i&&void 0!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);void 0!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(e){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var t=-1;this.pageable?(t=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=t)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof e&&i.isEmptyObject(e)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof e&&i.isEmptyObject(e)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(e){var t=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==e||!1!==e;i.each(this.columns.records,function(){t.removefilter(this.displayfield,!r)})}!1!==e&&(1!=e&&!1===e||this.applyfilters("clear"))},_destroyfilterpanel:function(){var e=i(i.find("#filterclearbutton"+this.element.id)),t=i(i.find("#filterbutton"+this.element.id)),r=i(i.find("#filter1"+this.element.id)),s=i(i.find("#filter2"+this.element.id)),o=i(i.find("#filter3"+this.element.id)),l=i(i.find(".filtertext1"+this.element.id)),a=i(i.find(".filtertext2"+this.element.id));l.length>0&&a.length>0&&(l.removeClass(),a.removeClass(),l.remove(),a.remove()),e.length>0&&(e.jqxButton("destroy"),t.jqxButton("destroy"),this.removeHandler(e,"click"),this.removeHandler(t,"click")),r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy"),r=i(i.find("#filter1"+this.element.id+"ex")),s=i(i.find("#filter2"+this.element.id+"ex")),o=i(i.find("#filter3"+this.element.id+"ex")),r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy")},_updatefilterpanel:function(e,t,r){null!=e&&void 0!=e||(e=this);var s=e._getcolumntypebydatafield(r),o=e._getfiltersbytype(s);if(!e.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");e.filterpanel.detach(),e.excelfilterpanel.detach(),r.filterpanel&&r.filterpanel.detach(),i(t).children().detach();var l=i(e.menuitemsarray[6]);if(i(l).css("height","190px"),r.createfilterpanel&&!r.filterpanel){var a=i("<div class='filter' style='margin-left: 7px;'></div>");i(t).append(a),r.createfilterpanel(r.displayfield,a),r.filterpanel=a}"list"===r.filtertype||"checkedlist"===r.filtertype?i(t).append(e.excelfilterpanel):"custom"!==r.filtertype?i(t).append(e.filterpanel):r.filterpanel&&i(t).append(r.filterpanel);var n=i(t),d=n.find("#filterclearbutton"+e.element.id),h=n.find("#filterbutton"+e.element.id),c=n.find(".filter1"),u=n.find(".filter2"),p=n.find(".filter3"),g=n.find(".filtertext1"+e.element.id),f=n.find(".filtertext2"+e.element.id);if(this._hasdatefilter&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){var m=g.parent(),v=f.parent();if(m.children().remove(),v.children().remove(),"date"==r.filtertype){e._showwhere.text(e.gridlocalization.filtershowrowdatestring);var w=i("<div class='filtertext1"+e.element.id+"' style=''></div>");m.append(w),(x=function(t){t.jqxDateTimeInput({disabled:e.disabled,firstDayOfWeek:e.gridlocalization.firstDay,localization:{calendar:e.gridlocalization,todayString:e.gridlocalization.todaystring,clearString:e.gridlocalization.clearstring},rtl:e.rtl,width:e._filterpanelwidth-10,height:24,value:null,formatString:r.cellsformat,theme:e.theme})})(w),w=i("<div class='filtertext2"+e.element.id+"' style=''></div>"),v.append(w),x(w)}else{var x;e._showwhere.text(e.gridlocalization.filtershowrowstring),w=i("<input class='filtertext1"+e.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),m.append(w),(x=function(t){t.addClass(e.toThemeProperty("jqx-input")),t.addClass(e.toThemeProperty("jqx-filter-input jqx-widget-content")),t.addClass(e.toThemeProperty("jqx-rc-all")),t.width(e._filterpanelwidth-18)})(w),w=i("<input class='filtertext2"+e.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),v.append(w),x(w)}g=n.find(".filtertext1"+e.element.id),f=n.find(".filtertext2"+e.element.id)}if("date"!=r.filtertype?(g.val(""),f.val("")):(g.val(null),f.val(null)),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){e._buildfilter(e,t,r),e._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){e._clearfilter(e,t,r),e._closemenu()}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(i){13===i.keyCode&&(e._buildfilter(e,t,r),e._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(i){13===i.keyCode&&(e._clearfilter(e,t,r),e._closemenu())}),this.removeHandler(g,"keydown"),this.addHandler(g,"keydown",function(t){13===t.keyCode&&h.trigger("click"),27===t.keyCode&&e._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(t){13===t.keyCode&&h.trigger("click"),27===t.keyCode&&e._closemenu()}),"default"===this.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){if(c.jqxDropDownList("source")!=o&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o})),"boolean"==s||"bool"==s)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var b=!1;o&&o.length&&o.length<5&&(b=!0),c.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var y=r.filter,_=new i.jqx.filter,q="";switch(s){case"number":case"int":case"float":case"decimal":q="numericfilter",j=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":q="booleanfilter",j=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":q="datefilter",j=_.getoperatorsbyfiltertype("datefilter");break;case"string":q="stringfilter",j=_.getoperatorsbyfiltertype("stringfilter")}if(null!=y){if(m=y.getfilterat(0),v=y.getfilterat(1),y.getoperatorat(0),e.updatefilterconditions){var j=[],C=e.updatefilterconditions(q,j);if(void 0!=C){for(var k=0;k<C.length;k++)C[k]=C[k].toUpperCase();y.setoperatorsbyfiltertype(q,C),j=C}}var z="default";if(null!=m){var I=j.indexOf(m.comparisonoperator);g.val(m.filtervalue),c.jqxDropDownList({selectedIndex:I,animationType:z})}if(null!=v){var T=j.indexOf(v.comparisonoperator);f.val(v.filtervalue),p.jqxDropDownList({selectedIndex:T,animationType:z})}void 0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:z}):"and"==y.getoperatorat(0)||0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}e.updatefilterpanel&&e.updatefilterpanel(c,p,u,g,f,h,d,y,q,j),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(this.touchdevice||(g.focus(),setTimeout(function(){g.focus()},10)))}else if("excel"===this.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var D=e._getfilterdataadapter(r),S=(q=e._getfiltertype(s),"excel"===this.filtermode||"checkedlist"===r.filtertype);if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(t){13===t.keyCode&&h.trigger("click"),27===t.keyCode&&e._closemenu()}),c.jqxListBox(r.cellsformat?{checkboxes:S,displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:D}:{checkboxes:S,displayMember:r.displayfield,valueMember:r.displayfield,source:D}),S){if(c.jqxListBox("insertAt",e.gridlocalization.filterselectallstring,0),(G=c.data().jqxListBox.instance).checkAll(!1),r.filter){G.uncheckAll(!1);for(var B=r.filter.getfilters(),P=0;P<G.items.length;P++){var L=G.items[P].value;i.each(B,function(){if("NOT_EQUAL"==this.condition){if(L!=this.value)return G.uncheckIndex(P,!1,!1),!1;if(null!=L&&null!=this.value&&L.toString()!=this.value.toString())return G.uncheckIndex(P,!1,!1),!1}else if("EQUAL"==this.condition){if(L==this.value)return G.checkIndex(P,!1,!1),!1;if(null!=L&&null!=this.value&&L.toString()==this.value.toString())return G.checkIndex(P,!1,!1),!1}})}G._updateCheckedItems();var H=G.getCheckedItems().length;G.items.length!=H&&H>0&&G.host.jqxListBox("indeterminateIndex",0,!0,!1),H===G.items.length-1&&G.host.jqxListBox("checkIndex",0,!0,!1)}}else if(r.filter){var G;for((G=c.data().jqxListBox.instance).clearSelection(),B=r.filter.getfilters(),P=0;P<G.items.length;P++)L=G.items[P].value,i.each(B,function(){if("NOT_EQUAL"==this.condition){if(L!=this.value)return G.unselectIndex(P,!1,!1),!1}else if("EQUAL"==this.condition&&L==this.value)return G.selectIndex(P,!0,!1),!1});G._renderItems()}}},_initfilterpanel:function(e,t,r,s,o){null!=e&&void 0!=e||(e=this),t[0].innerHTML="";var l=i("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");t.append(l);var a=i("<div class='filter' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");a.text(e.gridlocalization.filtershowrowstring),this._showwhere=a;var n=o?"ex":"",d=i("<div class='filter filter1' id='filter1"+e.element.id+n+"'></div>"),h=i("<div class='filter filter2' id='filter2"+e.element.id+n+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),c=i("<div class='filter filter3' id='filter3"+e.element.id+n+"'></div>"),u=e._getcolumntypebydatafield(r);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=e._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=s,this.columns&&this.columns.records){for(var g=0;g<this.columns.records.length;g++)if("date"==this.columns.records[g].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(g=0;g<this.columns.length;g++)if("date"==this.columns[g].filtertype){this._hasdatefilter=!0;break}var f=i("<div style='margin-top:3px;' class='filter'><input class='filtertext1"+e.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),m=f.find("input");m.addClass(this.toThemeProperty("jqx-input")),m.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),m.addClass(this.toThemeProperty("jqx-rc-all")),m.width(s-18);var v=i("<div style='margin-top:3px;' class='filter'><input class='filtertext2"+e.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px;' type='text'></input></div>"),w=v.find("input");w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-rc-all")),w.width(s-18),e.rtl&&(m.css("direction","rtl"),w.css("direction","rtl"));var x=i("<div class='filter' style='height: 25px; text-align:center; margin-top: 12px; margin-left:-2px;'></div>"),b=i('<span tabIndex=0 id="filterbutton'+e.element.id+'" class="filterbutton" style="padding: 4px 12px;">'+e.gridlocalization.filterstring+"</span>");x.append(b);var y=i('<span tabIndex=0 id="filterclearbutton'+e.element.id+'" class="filterclearbutton" style="position: relative; left: 1px; padding: 4px 12px; margin-left: 7px;">'+e.gridlocalization.filterclearstring+"</span>");x.append(y),b.jqxButton({height:20,theme:e.theme}),y.jqxButton({height:20,theme:e.theme});var _=function(t){if(t){if(-1!=t.text().indexOf("case sensitive")){var i=t.text();i=i.replace("case sensitive","match case"),t.text(i)}return t.css("font-family",e.host.css("font-family")),t.css("font-size",e.host.css("font-size")),t.css("top","2px"),t.css("position","relative"),t}return""};if("default"!==this.filtermode||o){if("excel"===this.filtermode||o){l.append(a),l.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:e.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:s-10,height:130,theme:e.theme});var q=!0;e.addHandler(d,"checkChange",function(t){if(q)if(t.args.label!=e.gridlocalization.filterselectallstring){q=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),r=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),q=!0}else q=!1,d.jqxListBox(t.args.checked?"checkAll":"uncheckAll",!1),q=!0})}}else{l.append(a),l.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:e.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-10,height:24,dropDownHeight:150,dropDownWidth:s-10,selectionRenderer:_,source:p,theme:e.theme}),l.append(f);var j=new Array;j[0]=e.gridlocalization.filterandconditionstring,j[1]=e.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:e.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:24,source:j,selectionRenderer:_,theme:e.theme}),l.append(h),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:e.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-10,height:24,dropDownHeight:150,dropDownWidth:s-10,selectionRenderer:_,source:p,theme:e.theme}),l.append(c),l.append(v)}l.append(x),e.updatefilterpanel&&e.updatefilterpanel(d,c,h,f,v,b,y,null,null,p)}}),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,r=0,s=this;if(this.filterrow){for(var o=0;o<i;o++){var l=this.columns.records[o],a=parseInt(l.width);a<l.minwidth&&(a=l.minwidth),a>l.maxwidth&&(a=l.maxwidth);var n=e(this.filterrow[0].cells[o]);n.css("left",r);var d=!0;if(n.width()==a&&(d=!1),t&&(d=!0),n.width(a),n[0].left=r,l.element&&(n[0].style.width=l.element.style.width,n[0].style.left=l.element.style.left),l.hidden&&l.hideable?n.css("display","none"):r+=a,d)if(l.createfilterwidget&&"custom"==l.filtertype)l.createfilterwidget(l,n);else if(l.filterable){var h=function(t,i){var r=e(i.children()[0]);r[0].style.width=a-8+"px",e.jqx.browser.msie&&(r[0].style.width=a-16+"px"),r.attr("disabled",t.disabled)};switch(l.filtertype){case"number":case"input":e(n.children()[0]).width(a),n.find("input")[0].style.width=a-30+"px",e.jqx.browser.msie&&(n.find("input")[0].style.width=a-36+"px"),n.find("input").attr("disabled",s.disabled),e(n.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:s.theme,disabled:s.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(n.children()[0]).jqxDateTimeInput({theme:s.theme,disabled:s.disabled,width:a-10}):h(this,n);break;case"textbox":case"default":h(this,n);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(n.children()[0]).jqxDropDownList({theme:s.theme,disabled:s.disabled,width:a-10}):h(this,n);break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({theme:s.theme,disabled:s.disabled}):h(this,n)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(r)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,r=0;r<i;r++){var s=this.columns.records[r],o=e(this.filterrow[0].cells[r]);if(("string"!=typeof t||s.displayfield==t)&&s.filterable){var l=function(t,i){var r=e(i.children()[0]);r.val(""),r[0]&&(t["_oldWriteText"+r[0].id]="")};switch(s.filtertype){case"number":case"input":if(o.find("input").val(""),this.host.jqxDropDownList){var a=e(e(e(o).children()[0]).children()[1]);a.jqxDropDownList("clearSelection");var n=0;if(0==n){this._getfiltersbytype("number"==s.filtertype?"number":"string");var d=(new e.jqx.filter).getoperatorsbyfiltertype("number"==s.filtertype?"numberfilter":"stringfilter");null!=s.filtercondition?-1==(n=d.indexOf(s.filtercondition.toUpperCase()))&&(n="number"==s.filtertype?0:2):n="number"==s.filtertype?0:2}a.jqxDropDownList({selectedIndex:n}),a.jqxDropDownList("ensureVisible",n)}break;case"date":case"range":this.host.jqxDateTimeInput?e(o.children()[0]).jqxDateTimeInput("setDate",null):l(this,o);break;case"textbox":case"default":l(this,o);break;case"list":this.host.jqxDropDownList?e(o.children()[0]).jqxDropDownList("clearSelection"):l(this,o);break;case"checkedlist":this.host.jqxDropDownList?e(o.children()[0]).jqxDropDownList("checkAll",!1):l(this,o);break;case"bool":case"boolean":this.host.jqxCheckBox?e(o.children()[0]).jqxCheckBox({checked:null}):l(this,o)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,r=0;r<t;r++){var s=new e.jqx.filter,o=this.columns.records[r];if(o.filterable&&null!==o.datafield){var l=i._getcolumntypebydatafield(o),a=i._getfiltertype(l),n=!0,d=function(e,t,r){var s=!0;if(e._filterwidget){var o=e._filterwidget.val();if(""!=o){var l="equal";if("stringfilter"==t&&(l="contains"),"numericfilter"==t&&","==i.gridlocalization.decimalseparator&&o.indexOf(i.gridlocalization.decimalseparator)>=0&&(o=o.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var a=0;if(-1!=o.indexOf(">")&&(l="greater_than",a=1),-1!=o.indexOf("<")&&(l="less_than",a=1),-1!=o.indexOf("=")&&("greater_than"==l?(l="greater_than_or_equal",a=2):"less_than"==l?(l="less_than_or_equal",a=2):(l="equal",a=1)),0!=a&&(o=o.substring(a)).length<1)return!1}if(void 0!=e.filtercondition&&(l=e.filtercondition),"datefilter"==t)var n=r.createfilter(t,o,l,null,e.cellsformat,i.gridlocalization);else n=r.createfilter(t,o,l);r.addfilter(1,n)}else s=!1}return s};switch(o.filtertype){case"range":case"date":if(o._filterwidget.jqxDateTimeInput)if("range"==o.filtertype)if(null!=(f=o._filterwidget.jqxDateTimeInput("getRange"))&&null!=f.from&&null!=f.to){var h="GREATER_THAN_OR_EQUAL";(g=new Date(0)).setHours(0),g.setMinutes(0),g.setFullYear(f.from.getFullYear(),f.from.getMonth(),f.from.getDate());var c=new Date(0);c.setHours(0),c.setMinutes(0),c.setFullYear(f.to.getFullYear(),f.to.getMonth(),f.to.getDate()),c.setHours(f.to.getHours()),c.setMinutes(f.to.getMinutes()),c.setSeconds(f.to.getSeconds());var u=s.createfilter(a,g,h);s.addfilter(0,u);var p=s.createfilter(a,c,"LESS_THAN_OR_EQUAL");s.addfilter(0,p)}else n=!1;else if(null!=(f=o._filterwidget.jqxDateTimeInput("getDate"))){var g;(g=new Date(0)).setHours(0),g.setMinutes(0),g.setFullYear(f.getFullYear(),f.getMonth(),f.getDate()),h="EQUAL",void 0!=o.filtercondition&&(h=o.filtercondition),u=s.createfilter(a,g,h),s.addfilter(0,u)}else n=!1;else n=d(o,a,s);break;case"input":if(o._filterwidget){var f=o._filterwidget.find("input").val(),m=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=s.getoperatorsbyfiltertype(a)[m];i.updatefilterconditions&&(void 0!=(b=i.updatefilterconditions(a,s.getoperatorsbyfiltertype(a)))&&s.setoperatorsbyfiltertype(a,b),v=s.getoperatorsbyfiltertype(a)[m]);var w="NULL"==v||"NOT_NULL"==v,x="EMPTY"==v||"NOT_EMPTY"==v;void 0!=f&&f.length>0||w||x?(u=s.createfilter(a,f,v,null,o.cellsformat,i.gridlocalization),s.addfilter(0,u)):n=!1}else n=!1;break;case"number":var b;if(o._filterwidget)f=o._filterwidget.find("input").val(),","==i.gridlocalization.decimalseparator&&f.indexOf(i.gridlocalization.decimalseparator)>=0&&(f=f.replace(i.gridlocalization.decimalseparator,".")),m=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=s.getoperatorsbyfiltertype(a)[m],i.updatefilterconditions&&(void 0!=(b=i.updatefilterconditions(a,s.getoperatorsbyfiltertype(a)))&&s.setoperatorsbyfiltertype(a,b),v=s.getoperatorsbyfiltertype(a)[m]),w="NULL"==v||"NOT_NULL"==v,x="EMPTY"==v||"NOT_EMPTY"==v,void 0!=f&&f.length>0||w||x?(u=s.createfilter(a,new Number(f),v,null,o.cellsformat,i.gridlocalization),s.addfilter(0,u)):n=!1;else n=!1;break;case"textbox":case"default":n=d(o,a,s);break;case"bool":case"boolean":if(o._filterwidget.jqxCheckBox)if(null!=(f=o._filterwidget.jqxCheckBox("checked"))){var y=s.createfilter(a,f,h="equal");s.addfilter(1,y)}else n=!1;else n=d(o,a,s);break;case"list":if((j=o._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var _=j.getItem(j.selectedIndex),q=_.value;h="equal",""===(f=_.label)&&(h="NULL"),y=s.createfilter(a,f,h),s.addfilter(1,y),q!==f&&(y.data=q)}else n=!1;break;case"checkedlist":if(o._filterwidget.jqxDropDownList){var j,C=(j=o._filterwidget.jqxDropDownList("listBox")).getCheckedItems();if(0==C.length){for(var k=1;k<j.items.length;k++)q=j.items[k].value,h="not_equal",""===(f=j.items[k].label)&&(h="NULL"),y=s.createfilter(a,f,h),q!==f&&(y.data=q),s.addfilter(0,y);n=!0}else if(C.length!=j.items.length)for(k=0;k<C.length;k++)q=C[k].value,h="equal",""===(f=C[k].label)&&(h="NULL"),y=s.createfilter(a,f,h),q!==f&&(y.data=q),s.addfilter(1,y);else n=!1}else n=d(o,a,s)}this._loading||(n?this.addfilter(o.displayfield,s,!1):this.removefilter(o.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),s+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var o=r+10,l=new Array,a=this.that;this.filterrow[0].cells=l,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var n=!1,d=new Array,h=document.createDocumentFragment(),c=0;c<r;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var g=document.createElement("div");g.style.overflow="hidden",g.style.position="absolute",g.style.height="100%",g.className=s,g=e(g),h.appendChild(g[0]),g[0].style.left=i+"px",this.rtl?(g.css("z-index",o++),g.css("border-left-width","1px")):g.css("z-index",o--),"auto"==p&&(p=0),g[0].style.width=parseFloat(p)+"px",g[0].left=i,u.hidden&&u.hideable?g.css("display","none"):i+=p,l[l.length]=g[0];var f=!0;this.rtl?(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)+c>r-1&&(f=!1),this.showrowdetailscolumn&&this.rowdetails&&c==r-1&&(f=!1)):(this.groupable&&this.groups.length+(this.showrowdetailscolumn&&this.rowdetails?1:0)>c&&(f=!1),this.showrowdetailscolumn&&this.rowdetails&&0==c&&(f=!1)),f&&("custom"==u.filtertype&&u.createfilterwidget?u.createfilterwidget(u,g,function(){a._applyfilterfromfilterrow()}):u.filterable&&(this._filterrowcache[u.datafield]?(n=!0,g.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,g,p),d[u.datafield]=u._filterwidget)))}t[0].appendChild(h),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseFloat(i)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),n&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,r){for(var s=this.that,o="",l=0;l<s.dataview.filters.length;l++){var a=s.dataview.filters[l];if(a.datafield&&a.datafield==t.datafield){l=a.filter.getfilters()[0],o=l.value,"range"===t.filtertype&&(o={from:o,to:a.filter.getfilters()[1].value}),t.filtercondition=l.condition;break}}var n,d,h,c=function(i,s){var l=e('<input autocomplete="off" type="textarea"/>');l.attr("tabindex",5+t.visibleindex),l[0].id=e.jqx.utilities.createId(),l.addClass(i.toThemeProperty("jqx-widget")),l.addClass(i.toThemeProperty("jqx-filter-input jqx-input jqx-input-widget")),l.addClass(i.toThemeProperty("jqx-rc-all")),l.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&l.css("direction","rtl"),i.disabled&&l.attr("disabled",!0),l.attr("disabled",!1),l.appendTo(s),l.css("margin","4px"),l.width(r-8),l.height(i.filterrowheight-9),t.createfilterwidget&&t.createfilterwidget(t,s,l),t._filterwidget=l,l.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=l,l.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),l.blur(function(){l.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),l.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),l[0]._writeTimer&&clearTimeout(l[0]._writeTimer),l[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+l[0].id]||(i["_oldWriteText"+l[0].id]=""),i["_oldWriteText"+l[0].id].length>0&&i["_oldWriteText"+l[0].id]!=l.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+l[0].id]=l.val()):0==i["_oldWriteText"+l[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+l[0].id]=l.val()))},t.filterdelay),i.focusedfilter=l}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),l.val(o)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var u=e("<div></div>");u.width(i.width()),u.height(this.filterrowheight),i.append(u),n=u,d=r=i.width()-21,h=e('<input style="float: left;" autocomplete="off" type="textarea"/>'),s.rtl&&(h.css("float","right"),h.css("direction","rtl")),h.attr("tabindex",5+t.visibleindex),h[0].id=e.jqx.utilities.createId(),h.addClass(s.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-input-widget jqx-filter-input jqx-widget-content")),h.appendTo(n),h.width(d-10),s.disabled&&h.attr("disabled",!0),h.attr("disabled",!1),h[0].style.height=s.filterrowheight-9+"px",h.css("margin","4px"),h.css("margin-right","3px"),h.focus(function(){s.focusedfilter=h,h.addClass(s.toThemeProperty("jqx-fill-state-focus"))}),h.blur(function(){h.removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),h.keydown(function(e){"13"==e.keyCode&&s._applyfilterfromfilterrow(),"9"!=e.keyCode&&(h[0]._writeTimer&&clearTimeout(h[0]._writeTimer),h[0]._writeTimer=setTimeout(function(){s._loading||s["_oldWriteText"+h[0].id]!=h.val()&&(s._applyfilterfromfilterrow(),s["_oldWriteText"+h[0].id]=h.val())},t.filterdelay),s.focusedfilter=h)}),h.val(o);var p=s._getfiltersbytype("number"==t.filtertype?"number":"string");(b=e("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),b.appendTo(u),s.rtl&&b.css("float","right");var g=0;null!=t.filtercondition&&-1!=(f=(l=new e.jqx.filter).getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter").indexOf(t.filtercondition.toUpperCase()))&&(g=f);var f,m=180;"input"==t.filtertype&&(m=240,0==g&&-1!=(f=p.indexOf("contains")||2)&&null==t.filtercondition&&(g=f)),b.jqxDropDownList({disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:g,width:20,height:27,dropDownHeight:150,dropDownWidth:m,source:p,theme:s.theme}),b.jqxDropDownList({selectionRenderer:function(e){return""}}),b.attr("tabindex",5+t.visibleindex),b.jqxDropDownList("setContent",""),b.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,u),t._filterwidget=u;var v=null;this.addHandler(b,"select",function(){var e=b.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!s.refreshingfilter&&s._applyfilterfromfilterrow(),("input"!=t.filtertype||s.refreshingfilter)&&(0!=t._filterwidget.find("input").val().length||s.refreshingfilter||"null"!=v&&"not null"!=v&&"null"!=e&&"not null"!=e)||s._applyfilterfromfilterrow(),v=e});break;case"textbox":case"default":default:c(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var w=e("<div></div>");w.css("margin","4px"),w.css("margin-left","5px"),w.appendTo(i),w.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:s.disabled,localization:{calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring},rtl:s.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:r-9,height:this.filterrowheight-9}),t.createfilterwidget&&t.createfilterwidget(t,i,w),o&&o.from?w.jqxDateTimeInput("setRange",o.from,o.to):o&&o.toString().length>1&&w.val(o),w.find("input").attr("tabindex",5+t.visibleindex),t._filterwidget=w,this.addHandler(w,"valueChanged",function(e){s.refreshingfilter||(s._applyfilterfromfilterrow(),s.focusedfilter=null)})}else c(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var x,b,y=this._getfilterdataadapter(t);(b=e("<div></div>")).css("margin","4px"),b.css("margin-left","5px");var _=t.datafield,q="checkedlist"==t.filtertype;m=r<150?220:"auto",y.dataBind();var j=y.records.length<8;x=j,b.appendTo(i),b.jqxDropDownList({hint:!1,placeHolder:s.gridlocalization.filterchoosestring,disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,checkboxes:q,dropDownWidth:m,source:y.records,autoDropDownHeight:j,theme:this.theme,width:r-9,height:this.filterrowheight-9,displayMember:t.displayfield,valueMember:_}),b.attr("tabindex",5+t.visibleindex),b.attr("default-placeholder",!0),t.createfilterwidget&&t.createfilterwidget(t,i,b);var C=b.jqxDropDownList("listBox");if(q){b.jqxDropDownList({selectionRenderer:function(){return'<span class="'+s.toThemeProperty("jqx-item")+'" style="top: 4px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>"}});var k=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>");if(k.addClass(this.toThemeProperty("jqx-item")),void 0!=C){x||C.host.height(200),C.insertAt(s.gridlocalization.filterselectallstring,0),b.jqxDropDownList("setContent",k);var z=!0;new Array,C.checkAll(!1),s.addHandler(C.host,"checkChange",function(e){if(b[0]._selectionChanged=!0,z)if(e.args.label!=s.gridlocalization.filterselectallstring){z=!1,C.host.jqxListBox("checkIndex",0,!0,!1);var t=C.host.jqxListBox("getCheckedItems"),i=C.host.jqxListBox("getItems");1==t.length?C.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&C.host.jqxListBox("indeterminateIndex",0,!0,!1),z=!0}else z=!1,C.host.jqxListBox(e.args.checked?"checkAll":"uncheckAll",!1),z=!0})}}else C.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),b.jqxDropDownList({selectedIndex:0});t._filterwidget=b,b.jqxDropDownList("dropdownlistWrapper"),"list"==t.filtertype?this.addHandler(b,"select",function(e){s.refreshingfilter||e.args&&"none"!=e.args.type&&(s._applyfilterfromfilterrow(),s.focusedfilter=null)}):this.addHandler(b,"close",function(e){b[0]._selectionChanged&&(s._applyfilterfromfilterrow(),s.focusedfilter=null,b[0]._selectionChanged=!1)})}else c(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var I=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -9px; margin-left: -12px;"></div>');I.appendTo(i),I.jqxCheckBox({disabled:s.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),I.attr("tabindex",5+t.visibleindex),t.createfilterwidget&&t.createfilterwidget(t,i,I),!0===o||"true"==o?I.jqxCheckBox({checked:!0}):!1!==o&&"false"!=o||I.jqxCheckBox({checked:!1}),t._filterwidget=I,this.addHandler(I,"change",function(e){s.refreshingfilter||e.args&&(s.focusedfilter=null,s._applyfilterfromfilterrow())})}else c(this,i)}},_getfilterdataadapter:function(t){if(this.source._source){var i={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},r=this;dataadapter=new e.jqx.dataAdapter(i,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var s=r._getcolumntypebydatafield(t),o=0;o<e.length;o++){i.push(e[o]);var l=e[o][t.displayfield];e[o][t.displayfield+"JQValue"]=l,"date"===s?e[o][t.displayfield]=null!=l?dataadapter.formatDate(l,t.cellsformat,r.gridlocalization):"":"number"!==s&&"float"!==s&&"int"!==s||(e[o][t.displayfield]=null!=l?dataadapter.formatNumber(l,t.cellsformat,r.gridlocalization):"")}return i}return e}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0)i={localdata:t.filteritems,datatype:this.source.datatype,async:!1},dataadapter=new e.jqx.dataAdapter(i,{autoBind:!1,async:!1});else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,r=0;r<i;r++){var s=this.columns.records[r];if(s.filterable&&s.filter){var o=s.filter.getfilters();if(o.length>0){var l=o[0].value,a=s._filterwidget,n=s._filterwidget.parent();if(null!=a)switch(s.filtertype){case"number":if(n.find("input").val(l),this.host.jqxDropDownList){var d=s.filter.getoperatorsbyfiltertype("numericfilter");a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition))}break;case"input":n.find("input").val(l),this.host.jqxDropDownList&&(d=s.filter.getoperatorsbyfiltertype("stringfilter"),a.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition)));break;case"date":case"range":if(this.host.jqxDateTimeInput){if(void 0!=(l=s.filter.getfilterat(0).filtervalue)){if(s.filter.getfilterat(1))var h=s.filter.getfilterat(1).filtervalue;else h=l;"range"==s.filtertype?e(n.children()[0]).jqxDateTimeInput("setRange",new Date(l),new Date(h)):e(n.children()[0]).jqxDateTimeInput("setDate",new Date(l))}}else a.val(l);break;case"textbox":case"default":a.val(l),t["_oldWriteText"+a[0].id]=l;break;case"bool":case"boolean":this.host.jqxCheckBox?e(n.children()[0]).jqxCheckBox({checked:l}):a.val(l)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var t=this.columns.records.length,i=0;i<t;i++){var r=this.columns.records[i];if(r.filterable){var s=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(s,"select"),this.removeHandler(s,"close"),s.jqxDropDownList("destroy");else if("date"==r.filtertype||"range"==r.filtertype)this.removeHandler(s,"valueChanged"),s.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(s,"change"),s.jqxCheckBox("destroy");else if("number"==r.filtertype||"input"===r.filtertype){var o=s.find(".jqx-input");this.removeHandler(o,"keydown"),e(s.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(s,"keydown");s.remove()}}},_updatelistfilters:function(t,i){for(var r=this.that,s=this.columns.records.length,o=0;o<s;o++){var l=this.columns.records[o];if(l.filterable&&("list"==l.filtertype||"checkedlist"==l.filtertype)){var a=l._filterwidget;if(t){var n=this._getfilterdataadapter(l);a.jqxDropDownList({source:n});var d=!0;if((u=a.jqxDropDownList("getItems")).length!=n.records.length+1&&(d=!1),d)for(var h=1;h<u.length;h++)if(u[h].label!=n.records[h-1][l.displayfield]){d=!1;break}if(d&&!i)continue}else if(void 0==l.filter){a.jqxDropDownList("renderSelection");continue}var c="checkedlist"==l.filtertype,u=a.jqxDropDownList("getItems"),p=a.jqxDropDownList("listBox");if(a.jqxDropDownList("dataBind"),c){a.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt(this.gridlocalization.filterselectallstring,0);var g=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(g.addClass(this.toThemeProperty("jqx-item")),a.jqxDropDownList("setContent",g),p.checkAll(!1),l.filter){var f=l.filter.getfilters();for(h=0;h<p.items.length;h++){var m=p.items[h].label,v=void 0;e.each(f,function(){var e;"NOT_EQUAL"==this.condition?e=m!=this.value:"EQUAL"==this.condition&&(e=m==this.value),v=void 0==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(h,!1,!1):p.uncheckIndex(h,!1,!1)}p._updateCheckedItems();var w=p.getCheckedItems().length;p.items.length!=w&&w>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterchoosestring)&&p.items[0].label!==this.gridlocalization.filterchoosestring&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),a.jqxDropDownList({selectedIndex:0}),l.filter){f=l.filter.getfilters();var x=-1;for(h=0;h<p.items.length;h++)m=p.items[h].label,e.each(f,function(){return"NOT_EQUAL"==this.condition||(m==this.value?(x=h,!1):void 0)});-1!=x&&p.selectIndex(x)}a.jqxDropDownList("autoDropDownHeight",u.length<8)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,r){var s=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),s=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),s=!0),this.element.removeAttribute("filter"),s&&this.element.setAttribute("filter",!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=s?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(!r.datatype){var s="";e.each(t,function(){if(this.name==r.displayfield)return this.type&&(s=this.type),!1}),r.datatype=""!=s?s:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var o="";if(e.each(s,function(){if(this.name==t.displayfield)return this.type&&(o=this.type),!1}),o)return o}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var l=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return l=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(l=this.dataview.cachedrecords[0][t.displayfield])&&""==l.toString())return"string"}if(null!=l)if("boolean"==typeof l)r="boolean";else if(e.jqx.dataFormat.isNumber(l))r="number";else{var a=new Date(l);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(l))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var n=new Number(l);return isNaN(n)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,r){var s=e(i).find(".filter1"),o=e(i).find(".filter2"),l=e(i).find(".filter3"),a=e(i).find(".filtertext1"+t.element.id),n=e(i).find(".filtertext2"+t.element.id),d=a.val(),h=n.val(),c=t._getcolumntypebydatafield(r),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype){var g=s.jqxDropDownList("selectedIndex"),f=o.jqxDropDownList("selectedIndex"),m=l.jqxDropDownList("selectedIndex"),v=null,w=null;if(t.updatefilterconditions){var x=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));void 0!=x&&u.setoperatorsbyfiltertype(p,x)}var b=!1,y=u.getoperatorsbyfiltertype(p)[g],_=(l=u.getoperatorsbyfiltertype(p)[m],"NULL"==y||"NOT_NULL"==y),q="EMPTY"==y||"NOT_EMPTY"==y;void 0==y&&(y=u.getoperatorsbyfiltertype(p)[0]),void 0==l&&(l=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||_||q)&&(v=u.createfilter(p,d,y,null,r.cellsformat,t.gridlocalization),u.addfilter(f,v),b=!0),(h.length>0||"NULL"==l||"NOT_NULL"==l||"EMPTY"==l||"NOT_EMPTY"==l)&&(w=u.createfilter(p,h,l,null,r.cellsformat,t.gridlocalization),u.addfilter(f,w),b=!0),b?this.addfilter(r.displayfield,u,!0):this._clearfilter(t,i,r)}else if("excel"===t.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var j=!1,C=s.data().jqxListBox.instance,k="excel"===this.filtermode||"checkedlist"===r.filtertype,z=C.getCheckedItems();if(k||(z=C.getSelectedItems()),0==z.length){for(var I=1;I<C.items.length;I++){void 0===(S=C.items[I].value)&&(S="");var T="not_equal";if(S&&S.indexOf&&(S.indexOf("|")>=0||S.indexOf(" AND ")>=0||S.indexOf(" OR ")>=0||S.indexOf(" and ")>=0||S.indexOf(" or ")>=0)&&(S=(S=(S=(S=(S=S.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or",""),T="equal"),"datefilter"==p)var D=u.createfilter(p,S,T,null,r.cellsformat,t.gridlocalization);else D=u.createfilter(p,S,T,null);u.addfilter(0,D)}j=!0}else if(z.length!=C.items.length){for(j=!0,I=0;I<z.length;I++)if(t.gridlocalization.filterselectallstring!==z[I].value){var S;void 0===(S=z[I].value)&&(S=""),T="equal",D="datefilter"==p?u.createfilter(p,S,T,null,r.cellsformat,t.gridlocalization):u.createfilter(p,S,T,null),u.addfilter(1,D)}}else j=!1;j?this.addfilter(r.displayfield,u,!0):this.removefilter(r.displayfield,!0)}},_clearfilter:function(e,t,i){this.removefilter(i.displayfield,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),s=this._getcolumn(e);void 0!=r&&null!=r&&(r.filter=t,s.filter=t,this.dataview.addfilter(e,t),1==i&&void 0!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);void 0!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==t||!1!==t;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!r)})}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),r=e(e.find("#filter1"+this.element.id)),s=e(e.find("#filter2"+this.element.id)),o=e(e.find("#filter3"+this.element.id)),l=e(e.find(".filtertext1"+this.element.id)),a=e(e.find(".filtertext2"+this.element.id));l.length>0&&a.length>0&&(l.removeClass(),a.removeClass(),l.remove(),a.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy"),r=e(e.find("#filter1"+this.element.id+"ex")),s=e(e.find("#filter2"+this.element.id+"ex")),o=e(e.find("#filter3"+this.element.id+"ex")),r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,r){null!=t&&void 0!=t||(t=this);var s=t._getcolumntypebydatafield(r),o=t._getfiltersbytype(s);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),r.filterpanel&&r.filterpanel.detach(),e(i).children().detach();var l=e(t.menuitemsarray[6]);if(e(l).css("height","190px"),r.createfilterpanel&&!r.filterpanel){var a=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(a),r.createfilterpanel(r.displayfield,a),r.filterpanel=a}"list"===r.filtertype||"checkedlist"===r.filtertype?e(i).append(t.excelfilterpanel):"custom"!==r.filtertype?e(i).append(t.filterpanel):r.filterpanel&&e(i).append(r.filterpanel);var n=e(i),d=n.find("#filterclearbutton"+t.element.id),h=n.find("#filterbutton"+t.element.id),c=n.find(".filter1"),u=n.find(".filter2"),p=n.find(".filter3"),g=n.find(".filtertext1"+t.element.id),f=n.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){var m=g.parent(),v=f.parent();if(m.children().remove(),v.children().remove(),"date"==r.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var w=e("<div class='filtertext1"+t.element.id+"' style=''></div>");m.append(w),(x=function(e){e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:{calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring},rtl:t.rtl,width:t._filterpanelwidth-10,height:24,value:null,formatString:r.cellsformat,theme:t.theme})})(w),w=e("<div class='filtertext2"+t.element.id+"' style=''></div>"),v.append(w),x(w)}else{var x;t._showwhere.text(t.gridlocalization.filtershowrowstring),w=e("<input class='filtertext1"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),m.append(w),(x=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-filter-input jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-18)})(w),w=e("<input class='filtertext2"+t.element.id+"' style='box-sizing: content-box; height: 16px; padding: 3px;' type='text'></input>"),v.append(w),x(w)}g=n.find(".filtertext1"+t.element.id),f=n.find(".filtertext2"+t.element.id)}if("date"!=r.filtertype?(g.val(""),f.val("")):(g.val(null),f.val(null)),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){t._buildfilter(t,i,r),t._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._clearfilter(t,i,r),t._closemenu()}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,r),t._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,r),t._closemenu())}),this.removeHandler(g,"keydown"),this.addHandler(g,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){if(c.jqxDropDownList("source")!=o&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o})),"boolean"==s||"bool"==s)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var b=!1;o&&o.length&&o.length<5&&(b=!0),c.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:b,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var y=r.filter,_=new e.jqx.filter,q="";switch(s){case"number":case"int":case"float":case"decimal":q="numericfilter",j=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":q="booleanfilter",j=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":q="datefilter",j=_.getoperatorsbyfiltertype("datefilter");break;case"string":q="stringfilter",j=_.getoperatorsbyfiltertype("stringfilter")}if(null!=y){if(m=y.getfilterat(0),v=y.getfilterat(1),y.getoperatorat(0),t.updatefilterconditions){var j=[],C=t.updatefilterconditions(q,j);if(void 0!=C){for(var k=0;k<C.length;k++)C[k]=C[k].toUpperCase();y.setoperatorsbyfiltertype(q,C),j=C}}var z="default";if(null!=m){var I=j.indexOf(m.comparisonoperator);g.val(m.filtervalue),c.jqxDropDownList({selectedIndex:I,animationType:z})}if(null!=v){var T=j.indexOf(v.comparisonoperator);f.val(v.filtervalue),p.jqxDropDownList({selectedIndex:T,animationType:z})}void 0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:z}):"and"==y.getoperatorat(0)||0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,u,g,f,h,d,y,q,j),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(this.touchdevice||(g.focus(),setTimeout(function(){g.focus()},10)))}else if("excel"===this.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var D=t._getfilterdataadapter(r),S=(q=t._getfiltertype(s),"excel"===this.filtermode||"checkedlist"===r.filtertype);if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&h.trigger("click"),27===e.keyCode&&t._closemenu()}),c.jqxListBox(r.cellsformat?{checkboxes:S,displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:D}:{checkboxes:S,displayMember:r.displayfield,valueMember:r.displayfield,source:D}),S){if(c.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0),(G=c.data().jqxListBox.instance).checkAll(!1),r.filter){G.uncheckAll(!1);for(var B=r.filter.getfilters(),P=0;P<G.items.length;P++){var L=G.items[P].value;e.each(B,function(){if("NOT_EQUAL"==this.condition){if(L!=this.value)return G.uncheckIndex(P,!1,!1),!1;if(null!=L&&null!=this.value&&L.toString()!=this.value.toString())return G.uncheckIndex(P,!1,!1),!1}else if("EQUAL"==this.condition){if(L==this.value)return G.checkIndex(P,!1,!1),!1;if(null!=L&&null!=this.value&&L.toString()==this.value.toString())return G.checkIndex(P,!1,!1),!1}})}G._updateCheckedItems();var H=G.getCheckedItems().length;G.items.length!=H&&H>0&&G.host.jqxListBox("indeterminateIndex",0,!0,!1),H===G.items.length-1&&G.host.jqxListBox("checkIndex",0,!0,!1)}}else if(r.filter){var G;for((G=c.data().jqxListBox.instance).clearSelection(),B=r.filter.getfilters(),P=0;P<G.items.length;P++)L=G.items[P].value,e.each(B,function(){if("NOT_EQUAL"==this.condition){if(L!=this.value)return G.unselectIndex(P,!1,!1),!1}else if("EQUAL"==this.condition&&L==this.value)return G.selectIndex(P,!0,!1),!1});G._renderItems()}}},_initfilterpanel:function(t,i,r,s,o){null!=t&&void 0!=t||(t=this),i[0].innerHTML="";var l=e("<div class='filter' style='position: absolute; bottom: 3px; margin-left: 3px;'></div>");i.append(l);var a=e("<div class='filter' style='height: 18px; margin-top: 3px; margin-bottom: 3px;'></div>");a.text(t.gridlocalization.filtershowrowstring),this._showwhere=a;var n=o?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+n+"'></div>"),h=e("<div class='filter filter2' id='filter2"+t.element.id+n+"' style='margin-top: 3px; margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+n+"'></div>"),u=t._getcolumntypebydatafield(r);if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=s,this.columns&&this.columns.records){for(var g=0;g<this.columns.records.length;g++)if("date"==this.columns.records[g].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(g=0;g<this.columns.length;g++)if("date"==this.columns[g].filtertype){this._hasdatefilter=!0;break}this._hasdatefilter=!0;var f=e("<div style='margin-top:3px;' class='filter'><input class='filtertext1"+t.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),m=f.find("input");m.addClass(this.toThemeProperty("jqx-input")),m.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),m.addClass(this.toThemeProperty("jqx-rc-all")),m.width(s-18);var v=e("<div style='margin-top:3px;' class='filter'><input class='filtertext2"+t.element.id+"' style='padding: 3px; height: 17px; margin-top: 3px;' type='text'></input></div>"),w=v.find("input");w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-filter-input jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-rc-all")),w.width(s-18),t.rtl&&(m.css("direction","rtl"),w.css("direction","rtl"));var x=e("<div class='filter' style='height: 25px; text-align:center; margin-top: 12px; margin-left:-2px;'></div>"),b=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px;">'+t.gridlocalization.filterstring+"</span>");x.append(b);var y=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="position: relative; left: 2px; padding: 4px 12px; margin-left: 7px;">'+t.gridlocalization.filterclearstring+"</span>");x.append(y),b.jqxButton({height:20,theme:t.theme}),y.jqxButton({height:20,theme:t.theme});var _=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||o){if("excel"===this.filtermode||o){l.append(a),l.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:s-10,height:130,theme:t.theme});var q=!0;t.addHandler(d,"checkChange",function(e){if(q)if(e.args.label!=t.gridlocalization.filterselectallstring){q=!1,d.jqxListBox("checkIndex",0,!0,!1);var i=d.jqxListBox("getCheckedItems"),r=d.jqxListBox("getItems");1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),q=!0}else q=!1,d.jqxListBox(e.args.checked?"checkAll":"uncheckAll",!1),q=!0})}}else{l.append(a),l.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-10,height:24,dropDownHeight:150,dropDownWidth:s-10,selectionRenderer:_,source:p,theme:t.theme}),l.append(f);var j=new Array;j[0]=t.gridlocalization.filterandconditionstring,j[1]=t.gridlocalization.filterorconditionstring,h.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:24,source:j,selectionRenderer:_,theme:t.theme}),l.append(h),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-10,height:24,dropDownHeight:150,dropDownWidth:s-10,selectionRenderer:_,source:p,theme:t.theme}),l.append(c),l.append(v)}l.append(x),t.updatefilterpanel&&t.updatefilterpanel(d,c,h,f,v,b,y,null,null,p)}})}(jqxBaseFramework)},hcty:function(e,t){var i;(i=jqxBaseFramework).jqx.dataview.grouping=function(){this.loadgrouprecords=function(e,t,r,s,o,l,a,n,d){for(var h=e,c=this,u=new Array,p=0;p<c.groups.length;p++)u[p]=c.generatekey();var g=new Array,f=0,m=(u=u,new Array),v=t,w=c.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var x=null!=this.sortdata,b=x?this.sortdata:this.records;if(this.pageable){var y=new Array,_=0;b[t]||(i.each(b,function(e,i){y[t+e++]=this}),b=y)}if(this.virtualmode){for(y=new Array,_=0,v=0;v<r-t;v++)b[v]?y[t+_++]=b[v]:b[t+_]&&(y[t+_]=b[t+_],_++);v=0,b=y}for(var q=t;q<r;q++){var j={};j=i.extend({},x?b[q].value:b[q]),id=j[c.uniqueId],(o>=n||id!=a[o][c.uniqueId]||l&&l[id])&&(d[d.length]=o);var C=new Array,k=0;for(p=0;p<w;p++){var z=j[G=c.groups[p]];null==z&&(z=""),C[k++]={value:z,hash:u[p]}}if(C.length!=w)break;for(var I=null,T="",D=0;D<C.length;D++){var S=C[D].value;if(void 0==m[T=T+"_"+C[D].hash+"_"+S]||null==m[T]){if(null==I)I={group:S,subItems:new Array,subGroups:new Array,level:0},g[f++]=I,I.uniqueid=c.generatekey(),c.loadedgroupsByKey[S]=I;else{var B={group:S,subItems:new Array,subGroups:new Array,parentItem:I,level:I.level+1};c.loadedgroupsByKey[I.uniqueid+"_"+S]=B,B.uniqueid=c.generatekey(),I.subGroups[I.subGroups.length++]=B,I=B}m[T]=I}else I=m[T]}null!=I?(void 0==j.uid&&(j.uid=this.getid(this.source.id,j,v)),x?(j.boundindex=b[q].index,this.recordsbyid["id"+j.uid]=b[q].value):(j.boundindex=v,this.recordsbyid["id"+j.uid]=b[q]),this.bounditems[j.boundindex]=j,this.sortedgroups[v]=j,j.uniqueid=c.generatekey(),j.parentItem=I,j.level=I.level+1,I.subItems[I.subItems.length++]=j):(void 0==j.uid&&(j.uid=this.getid(this.source.id,j,v)),x?(j.boundindex=b[q].index,this.recordsbyid["id"+j.uid]=b[q].value):(j.boundindex=v,this.recordsbyid["id"+j.uid]=b[q]),this.sortedgroups[v]=j,this.bounditems[j.boundindex]=j,j.uniqueid=c.generatekey()),o++,v++}var P=function(t,i,r){for(var s=0;s<i.subItems.length;s++)i.subItems[s].visibleindex=e+r,t.rows[r]=i.subItems[s],t.loadedrecords[r]=i.subItems[s],r++;return r},L=function(t,i,r){var s=1,o=t.grid.columns.records?t.grid.columns.records:t.grid.columns;if(1==t.aggregates)for(var l=0;l<o.length;l++)o[l].aggregates&&(s=Math.max(s,o[l].aggregates.length));for(subGroup in i.subGroups){var a=i.subGroups[subGroup];a.subGroups&&(t.loadedgroups[t.loadedgroups.length]=a,a.visibleindex=e+r,t.rows[r]=a,t.loadedrecords[r]=a,r++,a.subGroups.length>0?r=L(t,a,r):a.subItems.length>0&&(r=P(t,a,r)))}return i.subItems.length>0&&(r=P(t,i,r)),function(i){if(1==t.aggregates)for(var l=function(s){var l=i,a={},n=function(e){for(var i=0;i<o.length;i++)if(o[i].aggregates)for(var r=t.grid.getcolumnaggregateddata(o[i].datafield,o[i].aggregates,!0,e),l=0;l<o[i].aggregates.length;l++)if(o[i].aggregates[s]){var n=o[i],d=o[i].aggregates[s],h=d;h=t.grid._getaggregatename(h),a[n.datafield]=r[d]?h+":"+r[d]:h+":"+r[h]}};if(null!=l)if(a.level=l.level,a.visibleindex=e+r,a.uniqueid=t.generatekey(),t.rows[r]=a,t.loadedrecords[r++]=a,a.totalsrow=!0,i.subItems.length>0){a.parentItem=(l=i.subItems[i.subItems.length-1]).parentItem,a.parentItem.subItems&&(a.parentItem.subItems[a.parentItem.subItems.length]=a);var d=[];(h=function(){for(var e=0;e<i.subItems.length;e++)i.subItems[e].totalsrow||(d[d.length]=i.subItems[e])})(i),n(d)}else if(i.subGroups.length>0){var h;a.level=(l=i.subGroups[i.subGroups.length-1]).level,a.parentItem=i,i.subGroups[i.subGroups.length]=a,d=[],(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(i),n(d)}},a=0;a<s;a++)l(a)}(i),r},H=g.length;for(this.loadedgroups=new Array,this.rows=new Array,h=0,v=0;v<H;v++){var G;this.loadedrootgroups[v]=G=g[v],this.loadedgroups[this.loadedgroups.length]=G,G.visibleindex=e+h,this.rows[h]=G,this.loadedrecords[h]=G,h=L(this,G,++h)}return h},this._updategroupsinpage=function(e,t,r,s,o,l,a){var n=new Array,d=[];if(this.groupable&&this.groups.length>0){for(var h=0,c=new Array,u=new Array,p=0;p<e.groups.length;p++)u[p]=e.generatekey();var g=0,f=new Array,m=0;a>this.totalrecords&&(a=this.totalrecords);for(var v=l;v<a;v++){var w=i.extend({},e.sortedgroups[v]);if(id=w[e.uniqueId],!e.pagesize||r>=e.pagesize*e.pagenum&&r<e.pagesize*(e.pagenum+1)){(s>=o||id!=n[s][e.uniqueId]||updated&&updated[id])&&(d[d.length]=s);var x=new Array,b=0;for(p=0;p<e.groups.length;p++){var y=w[S=e.groups[p]];null==y&&(y=""),x[b++]={value:y,hash:u[p]}}if(x.length!=e.groups.length)break;for(var _=null,q="",j=0;j<x.length;j++){var C=x[j].value;if(void 0==c[q=q+"_"+x[j].hash+"_"+C]||null==c[q]){if(null==_)_={group:C,subItems:new Array,subGroups:new Array,level:0},f[m++]=_,void 0!=(k=e.loadedgroupsByKey[C])&&(_.visibleindex=k.visibleindex,_.uniqueid=k.uniqueid);else{var k,z={group:C,subItems:new Array,subGroups:new Array,parentItem:_,level:_.level+1};z.visibleindex=(k=e.loadedgroupsByKey[_.uniqueid+"_"+C]).visibleindex,z.uniqueid=k.uniqueid,_.subGroups[_.subGroups.length++]=z,_=z}c[q]=_}else _=c[q]}null!=_&&(w.parentItem=_,w.level=_.level+1,_.subItems[_.subItems.length++]=w),s++}g++,r++}var I=function(e,t,r){for(var s=0;s<t.subItems.length;s++)n[r]=i.extend({},t.subItems[s]),r++;return r},T=function(e){var t=!1;for(subGroup in e.subGroups){var i=e.subGroups[subGroup];if(i.subGroups){if(i.subGroups.length>0&&T(i))return t=!0,!0;if(i.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},D=function(e,t,i){var r=1,s=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var o=0;o<s.length;o++)s[o].aggregates&&(r=Math.max(r,s[o].aggregates.length));var l=function(t){if(1==e.aggregates)for(var o=function(r){var o=t,l={},a=function(t){for(var i=0;i<s.length;i++)if(s[i].aggregates)for(var o=e.grid.getcolumnaggregateddata(s[i].datafield,s[i].aggregates,!0,t),a=0;a<s[i].aggregates.length;a++)if(s[i].aggregates[r]){var n=s[i],d=s[i].aggregates[r],h=d;h=e.grid._getaggregatename(h),l[n.datafield]=h+":"+o[d]}};if(null!=o)if(l.level=o.level,l.visibleindex=i,l.uniqueid=e.generatekey(),n[i]=l,e.loadedrecords[i++]=l,l.totalsrow=!0,t.subItems.length>0){l.parentItem=(o=t.subItems[t.subItems.length-1]).parentItem,l.parentItem.subItems&&(l.parentItem.subItems[l.parentItem.subItems.length]=l);var d=[];(h=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(d[d.length]=t.subItems[e])})(t),a(d)}else if(t.subGroups.length>0){var h;l.level=(o=t.subGroups[t.subGroups.length-1]).level,l.parentItem=t,t.subGroups[t.subGroups.length]=l,d=[],(h=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t]);for(t=0;t<e.subGroups.length;t++)h(e.subGroups[t])}})(t),a(d)}},l=0;l<r;l++)o(l)};for(subGroup in t.subGroups){var a=t.subGroups[subGroup];a.subGroups&&T(a)&&(n[i]=a,i++,a.subGroups.length>0?i=D(e,a,i):a.subItems.length>0&&(i=I(0,a,i)),l(a))}return t.subItems.length>0&&(i=I(0,t,i)),l(t),i};for(g=0;g<f.length;g++){var S;T(S=f[g])&&(n[h]=S,h=D(this,S,++h))}}return n}},i.extend(i.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var e=this,t=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||i('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var r=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var s=new Array;if(r>0)i.each(this.groups,function(t){var o=this,l=e._getColumnText(this),a=e._rendergroupcolumn(l.label,o);if(a.addClass(e.toThemeProperty("jqx-grid-group-column")),e.groupsheaderdiv.append(a),e.closeablegroups){var n=i(a.find(".jqx-icon-close"));e.isTouchDevice()&&!0!==e.touchmode?e.addHandler(n,"touchstart",function(){return e.removegroupat(t),!1}):e.addHandler(n,"click",function(){return e.removegroupat(t),!1})}if(e.sortable&&e.addHandler(a,"click",function(){var t=e.getcolumn(o);return null!=t&&e._togglesort(t),!1}),s[s.length]=a,e._handlegroupstocolumnsdragdrop(this,a),t<r-1){var d=a.height(),h=i('<div style="float: left; position: relative;"></div>');e.rtl&&h.css("float","right"),h.width(e.groupindentwidth/3),h.height(1),h.css("top",d/2),h.addClass(e.toThemeProperty("jqx-grid-group-column-line")),e.groupsheaderdiv.append(h)}});else{var o=i('<div style="position: relative;">'+t+"</div>");this.groupsheaderdiv.append(o),this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=s,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var e=this,t=this.groupsheaderdiv.children().outerHeight(),r=(this.groupsheader.height()-t)/2;this.groupsheaderdiv.css("top",r),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",r)):(this.groupsheaderdiv.css("left",r),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),i.each(this._groupheaders,function(t){var i=this.coord();e.groupheadersbounds[t]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:t}})},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(void 0!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){var i=this;i.groups!==i.dataview.groups&&(i.dataview.groups=i.groups),i.groups.splice(e,0,t.toString()),i.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:i.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&void 0!=e){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(e,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:t.groups}),!0}return!1},cleargroups:function(){var e=this;return e.groups=[],e.dataview.groups=e.groups,e.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:e.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var r=0;r<t.length;r++)if(e=parseInt(t[r]),0==r)this.groupsVisibility[(i=this.dataview.loadedrootgroups[e]).group]=null;else{var s=i.subGroups[e];s&&(i=s,r==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,r=0;r<t.length;r++)if(e=parseInt(t[r]),0==r)i=this.dataview.loadedrootgroups[e],this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i;else{var s=i.subGroups[e];s&&(this._setgroupstate(i=s,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];return null==t?null:this.expandedgroups[t.uniqueid].expanded},getgroup:function(e){var t=this.dataview.loadedrootgroups[e];if(null==t)return null;var r=this.expandedgroups[t.uniqueid].expanded,s=t.group,o=t.level,l=new Array;this._getsubgroups(l,t);var a=this,n={group:s,level:o,expanded:r,subgroups:l};if(t.subItems){var d=new Array;i.each(t.subItems,function(){d[d.length]=a.getrowdata(this.boundindex)}),d.length>0&&(n.subrows=d)}return n},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(e,t){var r=this;for(obj in t.subGroups){var s=t.subGroups[obj];if(e[e.length]={group:s.group,level:s.level,expanded:r.expandedgroups[s.uniqueid].expanded},s.subItems){var o=new Array;i.each(s.subItems,function(){o[o.length]=r.getrowdata(this.boundindex)}),e[e.length-1].subrows=o}if(s.subGroups){var l=new Array;r._getsubgroups(l,s)}}return e},_setbatchgroupstate:function(e,t){var i=this;for(obj in this.dataview.loadedrootgroups)i._setrootgroupstate(obj,e,!1,!0);if(0==t)return i._requiresupdate=!0,i._renderrows(i.virtualsizeinfo),!0;var r=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(r!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,r){if(void 0==e||null==e||e<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var s=void 0==i||i;if(e>=0&&e<this.dataview.loadedrootgroups.length){var o=this.dataview.loadedrootgroups[e];if(this.pageable){for(var l=new Array,a=0;a<this.dataview.rows.length;a++)null!=this.dataview.rows[a].group&&0===this.dataview.rows[a].level&&l.push(this.dataview.rows[a]);if(!(o=l[e]))return}return this._setgroupstate(o,t,s,r)}return!1},_togglegroupstate:function(e,t){if(null==e||void 0==e)return!1;var i=this.vScrollInstance.value,r=this.expandedgroups[e.uniqueid];r=!(r=void 0!=r&&r.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=r?e:null;var s=this._setgroupstate(e,r,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(i<=this.vScrollInstance.max?i:this.vScrollInstance.max),s},_setgroupstate:function(e,t,i,r){if(null==e||void 0==e)return!1;var s=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var o=this.expandedgroups[e.uniqueid];if(void 0==o&&(o={expanded:!1},s=!0),o.expanded!=t&&(s=!0),s){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,r),i){var l=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(l!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return void 0!=this.suspendgroupevents&&0!=this.suspendgroupevents||this._raiseEvent(t?4:5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var r=0;r<t.subItems.length;r++)e._setrowvisibility(t.subItems[r].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,r){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups){var s=t.subGroups[subGroup];i||e._setrowvisibility(s.visibleindex,i,!1);var o=!i;r?this.expandedgroups[s.uniqueid]={expanded:o,group:s}:o=void 0!=e.expandedgroups[s.uniqueid]&&e.expandedgroups[s.uniqueid].expanded,s.subGroups&&(s.subGroups.length>0?e._setsubgroupsvisibility(e,s,!o||i,r):s.subItems.length>0&&e._setgroupitemsvisibility(e,s,!o||i)),i&&e._setrowvisibility(s.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var e=this,t=-1,r=!1;if(e.groupable){var s="mousemove.grouping"+this.element.id,o="mouseup.grouping"+this.element.id,l=!1;this.isTouchDevice()&&!0!==this.touchmode&&(l=!0,s=i.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,i.jqx.mobile.getTouchEventName("touchstart"),o=i.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(i(document),s),this.addHandler(i(document),s,function(s){if(!e.showgroupsheader)return!0;if(null!=e.dragcolumn){var o=parseInt(s.pageX),a=parseInt(s.pageY);if(l){var n=e.getTouches(s)[0];o=parseInt(n.pageX),a=parseInt(n.pageY)}var d=e.host.coord(),h=parseInt(d.left),c=parseInt(d.top);void 0!=e.dragmousedownoffset&&null!=e.dragmousedownoffset||(e.dragmousedownoffset={left:0,top:0});var u=parseInt(o)-parseInt(e.dragmousedownoffset.left),p=parseInt(a)-parseInt(e.dragmousedownoffset.top);if(e.dragcolumn.css({left:u+"px",top:p+"px"}),r=!1,o>=h&&o<=h+e.host.width()&&a>=c&&a<=c+e.host.height()&&(r=!0),t=-1,r){e.dragcolumnicon.removeClass(e.toThemeProperty("jqx-grid-dragcancel-icon")),e.dragcolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon"));var g=e.groupsheader.coord(),f=g.top+e.groupsheader.height(),m=i.data(e.dragcolumn[0],"datarecord");if(m)var v=e.groups.indexOf(m.toString());else v=-1;null!=e.dropline&&(a>=g.top&&a<=f?(-1==v||e.groups.length>1&&v>-1)&&(t=e._handlegroupdroplines(o)):e.dropline.fadeOut("slow"))}else null!=e.dropline&&e.dropline.fadeOut("slow"),e.dragcolumnicon.removeClass(e.toThemeProperty("jqx-grid-drag-icon")),e.dragcolumnicon.addClass(e.toThemeProperty("jqx-grid-dragcancel-icon"));if(l)return s.preventDefault(),s.stopPropagation(),!1}}),this.removeHandler(i(document),o),this.addHandler(i(document),o,function(s){if(!e.showgroupsheader)return!0;e.__drag=!1,i(document.body).removeClass("jqx-disableselect"),parseInt(s.pageX);var o=parseInt(s.pageY);if(l){var a=e.getTouches(s)[0];parseInt(a.pageX),o=parseInt(a.pageY)}var n=e.host.coord(),d=(parseInt(n.left),parseInt(n.top)),h=e.groupsheader.height();if(e.showtoolbar&&(d+=e.toolbarheight),e.dragstarted=!1,e.dragmousedown=null,null!=e.dragcolumn){var c=i.data(e.dragcolumn[0],"datarecord");if(e.dragcolumn.remove(),e.dragcolumn=null,null!=c){if(!e.getcolumn(c).groupable)return void(null!=e.dropline&&(e.dropline.remove(),e.dropline=null));if(r)if(-1!=t){var u=t.index,p=e.groups[u];(g=e._getGroupIndexByDataField(c))!=u&&(void 0!=g&&g>=0&&e.groups.splice(g,1),"before"==t.position?e.rtl?e._insertaftergroup(p,c):e._insertbeforegroup(p,c):e.rtl?e._insertbeforegroup(p,c):e._insertaftergroup(p,c))}else if(0==e.groups.length)o>d&&o<=d+h&&e.addgroup(c);else if(o>d+h){var g=e._getGroupIndexByDataField(c);e.removegroupat(g)}null!=e.dropline&&(e.dropline.remove(),e.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(e){var t=this,r=-1;return i.each(t.groupheadersbounds,function(i){if(e<=this.left+this.width/2){var s=this.left-3;return i>0&&(s=this.left-1-t.groupindentwidth/6),t.dropline.css("left",s),t.dropline.css("top",this.top),t.dropline.height(this.height),t.dropline.fadeIn("slow"),r={index:i,position:"before"},t.rtl&&(r={index:t.groupheadersbounds.length-1-i,position:"before"}),!1}e>=this.left+this.width/2&&(t.dropline.css("left",1+this.left+this.width),t.dropline.css("top",this.top),t.dropline.height(this.height),t.dropline.fadeIn("slow"),r={index:i,position:"after"},t.rtl&&(r={index:t.groupheadersbounds.length-1-i,position:"after"}))}),r},_handlegroupstocolumnsdragdrop:function(e,t){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r,s=this,o="mousedown",l="mousemove",a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,o=i.jqx.mobile.getTouchEventName("touchstart"),l=i.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(t,"dragstart",function(e){return!1}),this.addHandler(t,o,function(e){if(!s.showgroupsheader)return!0;var t=e.pageX,r=e.pageY;if(s.__drag=!0,s.dragmousedown={left:t,top:r},a){var o=s.getTouches(e)[0];s.dragmousedown={left:t=o.pageX,top:r=o.pageY},e.preventDefault&&e.preventDefault()}var l=i(e.target).coord();s.dragmousedownoffset={left:parseInt(t)-parseInt(l.left),top:parseInt(r-l.top)}}),this.addHandler(t,l,function(o){if(!s.showgroupsheader)return!0;if(s.dragmousedown){if(r={left:o.pageX,top:o.pageY},a){var l=s.getTouches(o)[0];r={left:l.pageX,top:l.pageY}}if(!s.dragstarted&&null==s.dragcolumn){var n=Math.abs(r.left-s.dragmousedown.left),d=Math.abs(r.top-s.dragmousedown.top);(n>3||d>3)&&(s._createdragcolumn(t,r,!0),i(document.body).addClass("jqx-disableselect"),i.data(s.dragcolumn[0],"datarecord",e),o.preventDefault&&o.preventDefault())}}})},_createdragcolumn:function(e,t,r){var s=this,o=t;s.dragcolumn=i("<div></div>");var l=e.clone();s.dragcolumn.css("z-index",999999),l.css("border-width","1px"),l.css("opacity","0.4");var a=i(l.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var n=i(l.find(".jqx-icon-close"));n.length>0&&n.css("display","none"),s.dragcolumnicon=i('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.dragcolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.dragcolumn.css("float","left"),s.dragcolumn.css("position","absolute"),s.host.coord(),l.width(e.width()+16),s.dragcolumn.append(l),s.dragcolumn.height(e.height()),s.dragcolumn.width(l.width()),s.dragcolumn.append(s.dragcolumnicon),i(document.body).append(s.dragcolumn),l.css("margin-left",0),l.css("left",0),l.css("top",0),s.dragcolumn.css("left",o.left+s.dragmousedown.left),s.dragcolumn.css("top",o.top+s.dragmousedown.top),void 0!=r&&r&&(s.dropline=i('<div style="display: none; position: absolute;"></div>'),s.dropline.width(2),s.dropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),i(document.body).append(s.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(e,t){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r=this,s=!1;this.isTouchDevice()&&!0!==this.touchmode&&(s=!0);var o="mousedown.drag",l="mousemove.drag";s?(o=i.jqx.mobile.getTouchEventName("touchstart")+".drag",l=i.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(t,"dragstart",function(e){return!1}),this.addHandler(t,o,function(o){if(!r.showgroupsheader)return!0;if(r.__drag=!0,r._isColumnInGroups(e.displayfield))return t.css("cursor"),!0;if(0==e.groupable)return!0;var l=o.pageX,a=o.pageY;if(s){var n=r.getTouches(o)[0];l=n.pageX,a=n.pageY}r.dragmousedown={left:l,top:a},s&&o.preventDefault&&o.preventDefault();var d=i(o.target).coord();r.dragmousedownoffset={left:parseInt(l)-parseInt(d.left),top:parseInt(a-d.top)}}),this.addHandler(t,l,function(o){if(!r.showgroupsheader)return!0;if(r._isColumnInGroups(e.displayfield))return t.css("cursor"),!0;if(r.dragmousedown){var a=o.pageX,n=o.pageY;if(s){var d=r.getTouches(o)[0];a=d.pageX,n=d.pageY}if(l={left:a,top:n},!r.dragstarted&&null==r.dragcolumn){var h=Math.abs(l.left-r.dragmousedown.left),c=Math.abs(l.top-r.dragmousedown.top);(h>3||c>3)&&(r._createdragcolumn(t,l,!0),i.data(r.dragcolumn[0],"datarecord",e.displayfield),o.preventDefault&&o.preventDefault())}}})},_rendergroupcolumn:function(e,t){var r=i('<div style="float: left; position: relative;"></div>');if(this.rtl&&r.css("float","right"),null!=this.groupcolumnrenderer&&(r[0].innerHTML=this.groupcolumnrenderer(e),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==r[0].innerHTML&&(r[0].innerHTML='<a style="float: left;" href="#">'+e+"</a>"),this.rtl&&(r[0].innerHTML='<a style="float: right;" href="#">'+e+"</a>");var s=this.rtl?"left":"right",o='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';i.jqx.browser.msie&&i.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl&&(o='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>',i.jqx.browser.msie&&i.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')),r[0].innerHTML+=o}else""==r[0].innerHTML&&(r[0].innerHTML='<a href="#">'+e+"</a>");if(this.sortable){var l=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');this.closeablegroups&&(l=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')),this.rtl&&(l=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>'),this.closeablegroups&&(l=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),a=i('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>'))),l.css("display","none"),a.css("display","none"),i.jqx.browser.msie&&i.jqx.browser.version<8&&(l.css("float","left"),a.css("float","left")),r.append(l),r.append(a),i.data(document.body,"groupsortelements"+t,{sortasc:l,sortdesc:a})}return r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r},_rendergroup:function(e,t,r,s,o,l,a){var n=t,d=t.cells[r.level];this.rtl&&(d=t.cells[t.cells.length-1-r.level]);var h=this._findgroupstate(r.uniqueid);if(r.bounddata.subGroups.length>0||r.bounddata.subItems.length>0){var c=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right");c&&(u=this.toThemeProperty("jqx-icon-arrow-left")),d.className+=h?" "+this.toThemeProperty("jqx-grid-group-expand"+c)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+c)+" "+u}var p=this._getColumnText(this.groups[r.level]).label,g=this.groupindentwidth,f=a-(T=this.rowdetails&&this.showrowdetailscolumn?(1+e)*g:e*g),m=r.level+1;this.rtl&&(m=0);for(var v=n.cells[m],w=2;void 0!=v&&"none"==v.style.display&&w<n.cells.length-1;)v=n.cells[m+w-1],w++;var x=i(v);if(v){if(v.style.width=parseInt(f)+"px",-1!=v.className.indexOf("jqx-grid-cell-filter")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=v.className.indexOf("jqx-grid-cell-sort")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=v.className.indexOf("jqx-grid-cell-pinned")&&x.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var b={group:r.group,level:r.level,parent:r.bounddata.parentItem,subGroups:r.bounddata.subGroups,subItems:r.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[r.level]).column},y=this.groupsrenderer(p+": "+r.group,r.group,h,b);if(y)v.innerHTML=y;else{var _=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length;if(this.showgroupaggregates){var q=r.bounddata.subItems.length>0?r.bounddata.subItems:r.bounddata.subGroups;_=0;for(var j=0;j<q.length;j++)q[j].totalsrow||_++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+r.group+" ("+_+")</span></div>"}}else{var C=this._getcolumnbydatafield(this.groups[r.level]),k=r.group;if(null==C)throw new Error("jqxGrid: Unable to find '"+this.groups[r.level]+"' group in the Grid's columns collection.");if(C.cellsformat&&i.jqx.dataFormat&&(i.jqx.dataFormat.isDate(k)?k=i.jqx.dataFormat.formatdate(k,C.cellsformat,this.gridlocalization):i.jqx.dataFormat.isNumber(k)&&(k=i.jqx.dataFormat.formatnumber(k,C.cellsformat,this.gridlocalization))),_=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length,this.showgroupaggregates)for(q=r.bounddata.subItems.length>0?r.bounddata.subItems:r.bounddata.subGroups,_=0,j=0;j<q.length;j++)q[j].totalsrow||_++;v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+k+" ("+_+")</span></div>"}if(this.rtl){C||(C=this._getcolumnbydatafield(this.groups[r.level]));var z="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,I="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,T=this.rowdetails&&this.showrowdetailscolumn?(2+r.level)*g:(1+r.level)*g;v.style.width=a+parseInt(z)-T-I+"px",x.addClass(this.toThemeProperty("jqx-rtl"));var D=i(t.cells[t.cells.length-1]).css("z-index");x.css("z-index",D);var S=x.find("div");f=S.width(),S.css("left","100%");var B=null!=this.columns.records[t.cells.length-2-r.level]&&this.columns.records[t.cells.length-2-r.level].pinned;this.table.width()<a&&(a=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(a+=this.vScrollBar.outerWidth())),C.pinned||B?(this.rowdetails&&this.showrowdetailscolumn&&(a+=30),S.css("margin-left",-f),v.style.width=a+z-T-I+"px"):(z="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max,v.style.width=a+z-T-I+"px",f=S.width(),S.css("margin-left",-f))}}}})},lGOm:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{autoresizecolumns:function(e,t){"cells"!=e&&"all"!=e&&"column"!=e&&(e="all");var r=this.that,s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records)),t=void 0==t?0:parseInt(t);var o=s.length;if(void 0==o&&void 0!=s){var l=new Array;i.each(s,function(e){l.push(this)}),o=(s=l).length}var a=i("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),i(document.body).append(a);var n=[],d=[],h=[],c=[],u=r.host.width();"hidden"!=r.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0);for(var p=0;p<o;p++)for(var g=s[p],f=0;f<this.columns.records.length;f++)if(!((j=this.columns.records[f]).hidden||this.groups.length>0&&f<=this.groups.length-1)){void 0==d[j.displayfield]&&(d[j.displayfield]=0),void 0==h[j.displayfield]&&(h[j.displayfield]="");var m,v,w=g[j.displayfield];if(""!=j.cellsformat)i.jqx.dataFormat&&(i.jqx.dataFormat.isDate(w)?w=i.jqx.dataFormat.formatdate(w,j.cellsformat,this.gridlocalization):i.jqx.dataFormat.isNumber(w)&&(w=i.jqx.dataFormat.formatnumber(w,j.cellsformat,this.gridlocalization)));else if(j.cellsrenderer){var x=r._defaultcellsrenderer(w,j),b=j.cellsrenderer(p,j.datafield,w,x,j.getcolumnproperties(),g);void 0!=b&&(w=i(b).text())}if((void 0==e||"cells"==e||"all"==e)&&null!=w){n=w.toString().length;var y=w.toString().replace(/[^A-Z]/g,"").length;n>d[j.displayfield]&&(d[j.displayfield]=n,h[j.displayfield]=w,c[j.displayfield]=y),n>0&&n>=y&&(m=20*y+15*(n-y))>(v=20*c[j.displayfield]+15*(d[j.displayfield]-c[j.displayfield]))&&m>0&&v>0&&(d[j.displayfield]=n,h[j.displayfield]=w,c[j.displayfield]=y)}"column"!=e&&"all"!=e||(j.text.toString().length>d[j.displayfield]&&(h[j.displayfield]=j.text,d[j.displayfield]=j.text.length,y=j.text.toString().replace(/[^A-Z]/g,"").length,c[j.displayfield]=y),n=(w=j.text).toString().length,y=w.toString().replace(/[^A-Z]/g,"").length,n>0&&n>=y&&(m=20*y+15*(n-y))>(v=20*c[j.displayfield]+15*(d[j.displayfield]-c[j.displayfield]))&&m>0&&v>0&&(d[j.displayfield]=n,h[j.displayfield]=w,c[j.displayfield]=y))}if(this.columns.records){for(f=0;f<this.columns.records.length;f++)if((j=this.columns.records[f]).displayfield){void 0==h[j.displayfield]&&(h[j.displayfield]=j.text),a[0].className.indexOf("jqx-grid-column-header")>=0&&a.removeClass(this.toThemeProperty("jqx-grid-column-header")),h[j.displayfield]==j.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header")),a[0].innerHTML=h[j.displayfield].toString();var _=a.outerWidth()+10;if(a.children().length>0&&(_=a.children().outerWidth()+10),i.jqx.browser.msie&&i.jqx.browser.version<8&&(_+=10),this.filterable&&this.showfilterrow&&(_+=5),(_+=t)>j.maxwidth&&(_=j.maxwidth),void 0!=j._width&&(j.__width=j._width),j._width=null,"auto"==j.maxwidth||_<=j.maxwidth){var q=j.width;_<j.minwidth&&(_=j.minwidth),j.width=_,void 0!=j._percentagewidth&&(j._percentagewidth=null),this._raiseEvent(14,{columntext:j.text,column:j.getcolumnproperties(),datafield:j.datafield,displayfield:j.displayfield,oldwidth:q,newwidth:_})}}for(a.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),f=0;f<this.columns.records.length;f++){var j;void 0!=(j=this.columns.records[f]).__width&&(j._width=j.__width)}}},autoresizecolumn:function(e,t,r){if("cells"!=t&&"all"!=t&&"column"!=t&&(t="all"),void 0==e)return!1;var s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records));var o=this.getcolumn(e);if(void 0==o)return!1;r=void 0==r?0:parseInt(r);var l=s.length,a=i("<span></span>");a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-grid-cell")),i(document.body).append(a);var n,d,h=0,c="",u=0,p=this.that,g=p.host.width();if("hidden"!=p.vScrollBar[0].style.visibility&&(g-=this.scrollbarsize+5),g<0&&(g=0),void 0==t||"cells"==t||"all"==t)for(var f=0;f<l;f++){var m=s[f][o.displayfield];if(""!=o.cellsformat)i.jqx.dataFormat&&(i.jqx.dataFormat.isDate(m)?m=i.jqx.dataFormat.formatdate(m,o.cellsformat,this.gridlocalization):i.jqx.dataFormat.isNumber(m)&&(m=i.jqx.dataFormat.formatnumber(m,o.cellsformat,this.gridlocalization)));else if(o.cellsrenderer){var v=o.cellsrenderer(f,o,m);void 0!=v&&(m=i(v).text())}if(null!=m){var w=m.toString().length,x=m.toString().replace(/[^A-Z]/g,"").length;w>h&&(h=w,c=m,u=x),w>0&&w>=x&&(n=20*x+15*(w-x))>(d=20*u+15*(h-u))&&n>0&&d>0&&(h=w,c=m,u=x)}}"column"!=t&&"all"!=t||(o.text.toString().length>h&&(c=o.text),w=(m=o.text.toString()).toString().length,x=m.toString().replace(/[^A-Z]/g,"").length,w>0&&w>=x&&(n=20*x+15*(w-x))>(d=20*u+15*(h-u))&&n>0&&d>0&&(h=w,c=m,u=x)),void 0==c&&(c=o.text),a[0].innerHTML=c,c==o.text&&a.addClass(this.toThemeProperty("jqx-grid-column-header"));var b=a.outerWidth()+10;if(i.jqx.browser.msie&&i.jqx.browser.version<8&&(b+=5),this.filterable&&this.showfilterrow&&(b+=5),b+=r,a.remove(),b>o.maxwidth&&(b=o.maxwidth),"auto"==o.maxwidth||b<=o.maxwidth){var y=o.width;b<o.minwidth&&(b=o.minwidth),o.width=b,void 0!=o._width&&(o.__width=o._width),o._width=null,void 0!=o._percentagewidth&&(o._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:o.text,column:o.getcolumnproperties(),datafield:e,displayfield:o.displayfield,oldwidth:y,newwidth:b}),this._renderrows(this.virtualsizeinfo),void 0!=o._width&&(o._width=o.__width)}},_handlecolumnsresize:function(){var e=this.that;if(this.columnsresize){var t=!1;e.isTouchDevice()&&!0!==e.touchmode&&(t=!0);var r="mousemove.resize"+this.element.id,s="mousedown.resize"+this.element.id,o="mouseup.resize"+this.element.id;t&&(r=i.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=i.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,o=i.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id),this.removeHandler(i(document),r),this.addHandler(i(document),r,function(r){if(null!=i.data(document.body,"contextmenu"+e.element.id)&&e.autoshowcolumnsmenubutton)return!0;if(null!=e.resizablecolumn&&!e.disabled&&e.resizing&&null!=e.resizeline){var s=e.host.coord(),o=parseInt(e.resizestartline.coord().left),l=o-e._startcolumnwidth,a=e.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var n=e.resizablecolumn.column.maxwidth;n="auto"==n?0:parseInt(n);var d=r.pageX;t&&(d=e.getTouches(r)[0].pageX),l+=a;var h=n>0?o+n:0,c=0==n||e._startcolumnwidth+d-o<n;if(e.rtl&&(c=!0),c)if(e.rtl){if(d>=s.left&&d<=s.left+e.host.width()&&(e.resizeline.css("left",d),t))return!1}else if(d>=s.left&&d>=l&&(0!=h&&r.pageX<h?e.resizeline.css("left",d):0==h&&e.resizeline.css("left",d),t))return!1}return!(!t&&null!=e.resizablecolumn)&&void 0}),this.removeHandler(i(document),s),this.addHandler(i(document),s,function(t){if(null!=i.data(document.body,"contextmenu"+e.element.id)&&e.autoshowcolumnsmenubutton)return!0;if(null!=e.resizablecolumn&&!e.disabled){var r=e.resizablecolumn.columnelement;if(r.coord().top+r.height()+5<t.pageY)return void(e.resizablecolumn=null);if(r.coord().top-5>t.pageY)return void(e.resizablecolumn=null);if(e._startcolumnwidth=e.resizablecolumn.column.width,e.resizablecolumn.column._width=null,i(document.body).addClass("jqx-disableselect"),i(document.body).addClass("jqx-position-reset"),e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"),e._mouseDownResize=new Date,e.resizing=!0,e._lastmouseDownResize&&e.columnsautoresize&&e._lastmouseDownResize-e._mouseDownResize<300&&e._lastmouseDownResize-e._mouseDownResize>-500){var s=e.resizablecolumn.column;if(s.resizable){var o=e.hScrollBar[0].style.visibility;return e._resizecolumn=null,e.resizeline.hide(),e.resizestartline.hide(),e.resizebackground.remove(),e.resizablecolumn=null,e.columndragstarted=!1,e.dragmousedown=null,e.__drag=!1,e.autoresizecolumn(s.displayfield,"all"),o!=e.hScrollBar[0].style.visibility&&e.hScrollInstance.setPosition(0),e.rtl&&e._arrange(),e.autosavestate&&e.savestate&&e.savestate(),t.stopPropagation(),e.suspendClick=!0,setTimeout(function(){e.suspendClick=!1},100),!1}}e._lastmouseDownResize=new Date,e._resizecolumn=e.resizablecolumn.column,e.resizeline=e.resizeline||i('<div style="position: absolute;"></div>'),e.resizestartline=e.resizestartline||i('<div style="position: absolute;"></div>'),e.resizebackground=e.resizebackground||i('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),e.resizebackground.css("opacity",.01),e.resizebackground.css("cursor","col-resize"),e.resizeline.css("cursor","col-resize"),e.resizestartline.css("cursor","col-resize"),e.resizeline.addClass(e.toThemeProperty("jqx-grid-column-resizeline")),e.resizestartline.addClass(e.toThemeProperty("jqx-grid-column-resizestartline")),i(document.body).append(e.resizeline),i(document.body).append(e.resizestartline),i(document.body).append(e.resizebackground);var l=e.resizablecolumn.columnelement.coord();e.resizebackground.css("left",e.host.coord().left),e.resizebackground.css("top",e.host.coord().top),e.resizebackground.width(e.host.width()),e.resizebackground.height(e.host.height()),e.resizebackground.css("z-index",9999);var a=function(t){t.css("left",e.rtl?parseInt(l.left):parseInt(l.left)+e._startcolumnwidth);var i=e._groupsheader()?e.groupsheader.height():0;i+=e.showtoolbar?e.toolbarheight:0,i+=e.showstatusbar?e.statusbarheight:0;var r=0;e.pageable&&(r=e.pagerheight);var s="visible"==e.hScrollBar.css("visibility")?17:0;t.css("top",parseInt(l.top)),t.css("z-index",99999),t.height(e.columngroups?e.host.height()+e.resizablecolumn.columnelement.height()-r-i-s-e.columngroupslevel*e.columnsheight:e.host.height()-r-i-s),e.enableanimations?t.show("fast"):t.show()};a(e.resizeline),a(e.resizestartline),e.dragmousedown=null}});var l=function(){if(i(document.body).removeClass("jqx-disableselect"),i(document.body).removeClass("jqx-position-reset"),(e.showfilterrow||e.showstatusbar||e.showtoolbar||e.enablebrowserselection)&&(e.host.removeClass("jqx-disableselect"),e.content.removeClass("jqx-disableselect")),e.resizing){if(e._mouseUpResize=new Date,e._mouseUpResize-e._mouseDownResize<200)return e.resizing=!1,void(null!=e._resizecolumn&&null!=e.resizeline&&"block"==e.resizeline.css("display")&&(e._resizecolumn=null,e.resizeline.hide(),e.resizestartline.hide(),e.resizebackground.remove()));if(e.resizing=!1,!e.disabled){var t=e.host.width();if("hidden"!=e.vScrollBar[0].style.visibility&&(t-=20),t<0&&(t=0),null!=e._resizecolumn&&null!=e.resizeline&&"block"==e.resizeline.css("display")){var r=parseInt(e.resizeline.css("left")),s=parseInt(e.resizestartline.css("left")),o=e._startcolumnwidth+r-s;e.rtl&&(o=e._startcolumnwidth-r+s);var l=e._resizecolumn.width;e._closemenu(),o<e._resizecolumn.minwidth&&(o=e._resizecolumn.minwidth),e._resizecolumn.width=o,void 0!=e._resizecolumn._percentagewidth&&(e._resizecolumn._percentagewidth=o/t*100);for(var a=0;a<e._columns.length;a++)if(e._columns[a].datafield===e._resizecolumn.datafield){e._columns[a].width=e._resizecolumn.width,e._columns[a].width<e._resizecolumn.minwidth&&(e._columns[a].width=e._resizecolumn.minwidth);break}var n=e.hScrollBar[0].style.visibility;e._updatecolumnwidths(),e._updatecellwidths(),e._raiseEvent(14,{columntext:e._resizecolumn.text,column:e._resizecolumn.getcolumnproperties(),datafield:e._resizecolumn.datafield,oldwidth:l,newwidth:o}),e._renderrows(e.virtualsizeinfo),e.autosavestate&&e.savestate&&e.savestate(),n!=e.hScrollBar[0].style.visibility&&e.hScrollInstance.setPosition(0),e.rtl&&e._arrange(),e._resizecolumn=null,e.resizeline.hide(),e.resizestartline.hide(),e.resizebackground.remove(),e.resizablecolumn=null}else e.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var n=function(e){l()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",n,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",n)}}}catch(e){}this.removeHandler(i(document),o),this.addHandler(i(document),o,function(t){if(null!=i.data(document.body,"contextmenu"+e.element.id)&&e.autoshowcolumnsmenubutton)return!0;l()})}}})},t6Hq:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{exportdata:function(e,t,r,s,o,l,a){if(!i.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";void 0==r&&(r=!0);var n=this;if(void 0==s&&0==(s=this.getrows()).length)throw"No data to export.";this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo);var d=void 0!=o&&o,h={},c={},u=this.host.find(".jqx-grid-cell:first"),p=this.host.find(".jqx-grid-cell-alt:first");u.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),u.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),p.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),p.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),u.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),u.removeClass(this.toThemeProperty("jqx-fill-state-hover")),p.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),p.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var g="cell",f=1,m="column",v=1,w=[],x=0;x<this.columns.records.length;x++){var b=this.columns.records[x];if(""!=b.cellclassname)if(b.customCellStyles=new Array,"string"==typeof b.cellclassname)for(var y=0;y<s.length;y++)b.customCellStyles[y]=b.cellclassname;else for(y=0;y<s.length;y++){var _=this.getrowboundindex(y),q=b.cellclassname(_,b.displayfield,s[y][b.displayfield],s[y]);q&&(b.customCellStyles[y]=q)}}var j=new Array,C=null,k=null,z=null;if(i.each(this.columns.records,function(t){var o=i(n.table[0].rows[0].cells[t]);if(n.table[0].rows.length>1){var l=i(n.table[0].rows[1].cells[t]);z||(z=l)}k||(k=o);var a=this,u=function(e){if(e.removeClass(n.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(n.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(n.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(n.toThemeProperty("jqx-fill-state-hover")),a.customCellStyles)for(var t in a.customCellStyles)e.removeClass(a.customCellStyles[t])};if(u(o),l&&u(l),null==this.displayfield)return!0;n.showaggregates&&n.getcolumnaggregateddata&&w.push(n.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,s));var p=n._getexportcolumntype(this);!this.exportable||this.hidden&&!d||(h[this.displayfield]={},h[this.displayfield].text=this.text,h[this.displayfield].width=parseInt(this.width),isNaN(h[this.displayfield].width)&&(h[this.displayfield].width=60),h[this.displayfield].formatString=this.cellsformat,h[this.displayfield].localization=n.gridlocalization,h[this.displayfield].type=p,h[this.displayfield].cellsAlign=this.cellsalign,h[this.displayfield].hidden=!r,h[this.displayfield].displayfield=this.displayfield,j.push(h[this.displayfield])),g="cell"+f;var x=i(this.element);if(void 0==this.element&&(x=i(this.uielement)),C){if(!a._rendered){x=C,o=k,l=z;var b=n.toTP("jqx-grid-cell")+" "+n.toTP("jqx-item");o[0].className=b,b+=n.toTP("jqx-grid-cell-alt"),l&&(l[0].className=b)}}else C=x;if(m="column"+v,"html"==e||"xls"==e||"pdf"==e){var y=function(t,i,r,s,o,l,a,n,u){c[t]={},void 0!=i&&(c[t]["font-size"]=i.css("font-size"),c[t]["font-weight"]=i.css("font-weight"),c[t]["font-style"]=i.css("font-style"),c[t]["background-color"]=l._getexportcolor(i.css("background-color")),c[t].color=l._getexportcolor(i.css("color")),c[t]["border-color"]=l._getexportcolor(i.css("border-top-color")),r?c[t]["text-align"]=o.align:(c[t]["text-align"]=o.cellsalign,c[t].formatString=o.cellsformat,c[t].dataType=p),"html"!=e&&"pdf"!=e||(c[t]["border-top-width"]=i.css("border-top-width"),c[t]["border-left-width"]=i.css("border-left-width"),c[t]["border-right-width"]=i.css("border-right-width"),c[t]["border-bottom-width"]=i.css("border-bottom-width"),c[t]["border-top-style"]=i.css("border-top-style"),c[t]["border-left-style"]=i.css("border-left-style"),c[t]["border-right-style"]=i.css("border-right-style"),c[t]["border-bottom-style"]=i.css("border-bottom-style"),r?(0==a&&(c[t]["border-left-width"]=i.css("border-right-width")),c[t]["border-top-width"]=i.css("border-right-width"),c[t]["border-bottom-width"]=i.css("border-bottom-width")):0==a&&(c[t]["border-left-width"]=i.css("border-right-width")),c[t].height=i.css("height")),!o.exportable||o.hidden&&!d||(1==n?(h[o.displayfield].customCellStyles||(h[o.displayfield].customCellStyles=new Array),h[o.displayfield].customCellStyles[u]=t):r?h[o.displayfield].style=t:s?h[o.displayfield].cellAltStyle=t:h[o.displayfield].cellStyle=t))};if(y(m,x,!0,!1,this,n,t),v++,y(g,o,!1,!1,this,n,t),n.altrows&&y(g="cellalt"+f,l,!1,!0,this,n,t),this.customCellStyles){for(var _ in a.customCellStyles)o.removeClass(a.customCellStyles[_]);for(var _ in a.customCellStyles)o.addClass(a.customCellStyles[_]),y(g+a.customCellStyles[_],o,!1,!1,this,n,t,!0,_),o.removeClass(a.customCellStyles[_])}f++}}),i.each(this.columns.records,function(e){h[this.displayfield]&&(h[this.displayfield].columnsDataFields=j)}),this.showaggregates){var I=[],T="xls"==e?"_AG":"",D=this.groupable?this.groups.length:0;this.rowdetails&&D++,"checkbox"===this.selectionmode&&D++,w.length>0&&(i.each(this.columns.records,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(I[t]||(I[t]={}),I[t]){var i=n._getaggregatename(this.aggregates[t]),r=n._getaggregatetype(this.aggregates[t]),s=w[e-D];s&&(I[t][this.displayfield]=T+i+": "+s[r])}}),i.each(this.columns.records,function(e){for(var t=0;t<I.length;t++)void 0==I[t][this.displayfield]&&(I[t][this.displayfield]=T)})),i.each(I,function(){s.push(this)})}var S=this,B=i.jqx.dataAdapter.ArrayExporter(s,h,c);if(void 0==t){this._renderrows(this.virtualsizeinfo);var P=B.exportTo(e);return this.showaggregates&&i.each(I,function(){s.pop(this)}),setTimeout(function(){S.exporting=!1},50),P}B.exportToFile(e,t,l,a),this.showaggregates&&i.each(I,function(){s.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){S.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var r=parseInt(i[0].substring(5)),s=parseInt(i[1]),o=parseInt(i[2]),l=parseInt(i[3].substring(1,4)),a=this._rgbToHex({r:r,g:s,b:o});return 0==r&&0==s&&0==o&&0==l?"#ffffff":"#"+a}return r=parseInt(i[0].substring(4)),s=parseInt(i[1]),o=parseInt(i[2].substring(1,4)),"#"+this._rgbToHex({r:r,g:s,b:o})}return-1!=t.toString().indexOf("#")&&4==t.toString().length&&(t+=t.toString().substring(1,4)),t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(e){var t=this,r="string",s=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(s){var o="";if(i.each(s,function(){if(this.name==e.displayfield)return this.type&&(o=this.type),!1}),o)return o}if(null!=e){if(void 0==this.dataview.cachedrecords)return r;var l=null;if(this.virtualmode)i.each(this.dataview.cachedrecords,function(){return l=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(null!=(l=this.dataview.cachedrecords[0][e.displayfield])&&""==l.toString())return"string"}if(null!=l){if(-1!=e.cellsformat.indexOf("c"))return"number";if(-1!=e.cellsformat.indexOf("n"))return"number";if(-1!=e.cellsformat.indexOf("p"))return"number";if(-1!=e.cellsformat.indexOf("d"))return"date";if(-1!=e.cellsformat.indexOf("y"))return"date";if(-1!=e.cellsformat.indexOf("M"))return"date";if(-1!=e.cellsformat.indexOf("m"))return"date";if(-1!=e.cellsformat.indexOf("t"))return"date";if("boolean"==typeof l)r="boolean";else if(i.jqx.dataFormat.isNumber(l))r="number";else{var a=new Date(l);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(i.jqx.dataFormat){if(null!=(a=i.jqx.dataFormat.tryparsedate(l))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var n=new Number(l);return isNaN(n)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}}return r}})},ta97:function(e,t){var i;(i=jqxBaseFramework).jqx.jqxWidget("jqxButtonGroup","",{}),i.extend(i.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var e={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:i.jqx.mobile.getTouchEventName("touchstart"),mouseup:i.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===i.jqx._jqxButtonGroup.prototype?e:(i.extend(!0,this,e),e)},createInstance:function(e){var t=this;t._isTouchDevice=i.jqx.mobile.isTouchDevice(),i.jqx.aria(t),t._baseId=t._baseId+t.element.id,t.addHandler(t.host,"selectstart",function(e){t.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&e.width.toString().indexOf("%")>=0?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;return t._isTouchDevice?(t._eventsMap[e]||e)+"."+t.element.id:e+"."+t.element.id},_refreshButtons:function(){var e=this;e.lastElement&&e.lastElement.remove(),e.lastElement=i("<div style='clear: both;'></div>");var t,r=e.host.children(),s=r.length;switch(e.mode){case"radio":e.host.attr("role","radiogroup");break;case"checkbox":case"default":e.host.attr("role","group")}for(var o=new Number(100/s).toFixed(2),l=0;l<s;l+=1)t=i(r[l]),e.width&&("horizontal"===e.orientation?(t.css("width",o+"%"),t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("white-space","nowrap"),t.css("text-overflow","ellipsis"),t.css("overflow","hidden")):(t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("width","100%"))),e._refreshButton(t,l,s);e.lastElement.appendTo(e.host)},_refreshButton:function(e,t,i){(function(e){var r=this;e=r._render(e),r._removeStyles(e),r._addStyles(e,t,i),r._performLayout(e),r._removeButtonListeners(e),r._addButtonListeners(e),r._handleButtonId(e,t),e.attr("role","radio"===r.mode?"radio":"button"),e.attr("disabled",r.disabled),r.disabled?e.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(r.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(e){for(var t,r=this,s=r.host.children(),o=s.length,l=0;l<o;l+=1)t=i(s[l]),r._removeStyles(t),r._removeButtonListeners(t);!1!==e&&r.host.remove()},_render:function(e){return"button"===e[0].tagName.toLowerCase()?this._renderFromButton(e):this._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,i=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(i.call(this,"jqx-fill-state-normal")),e.removeClass(i.call(this,"jqx-group-button-normal")),e.removeClass(i.call(this,"jqx-rc-tl")),e.removeClass(i.call(this,"jqx-rc-bl")),e.removeClass(i.call(this,"jqx-rc-tr")),e.removeClass(i.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,i){var r=this,s=this.toThemeProperty;r.host.addClass(s.call(this,"jqx-widget")),r.host.addClass(s.call(this,"jqx-rc-all")),r.host.addClass(s.call(this,"jqx-buttongroup")),e.addClass(s.call(this,"jqx-button")),e.addClass(s.call(this,"jqx-group-button-normal")),e.addClass(s.call(this,"jqx-fill-state-normal")),r.template&&e.addClass(s.call(this,"jqx-"+r.template)),r.roundedCorners&&(0===t?r._addRoundedCorners(e,!0):t===i-1&&r._addRoundedCorners(e,!1)),e.css("horizontal"===r.orientation?"margin-left":"margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var i=this.toThemeProperty;"horizontal"===this.orientation?t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-bl"))):(e.addClass(i.call(this,"jqx-rc-tr")),e.addClass(i.call(this,"jqx-rc-br"))):t?(e.addClass(i.call(this,"jqx-rc-tl")),e.addClass(i.call(this,"jqx-rc-tr"))):(e.addClass(i.call(this,"jqx-rc-bl")),e.addClass(i.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(e){var t,r=e.val();""===r&&(r=e.html());var s=e[0].id;return e.wrap("<div/>"),(t=e.parent()).attr("style",e.attr("style")),e.remove(),i.jqx.utilities.html(t,r),t[0].id=s,t},_performLayout:function(e){e.css("float","horizontal"===this.orientation?this.rtl?"right":"left":"none"),this._centerContent(i(e.children()),e)},_mouseEnterHandler:function(e){var t=e.data.self,r=i(e.currentTarget);if(!t._isDisabled(r)&&t.enableHover){var s=t.toThemeProperty;r.addClass(s.call(t,"jqx-group-button-hover")),r.addClass(s.call(t,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(e){var t=e.data.self,r=i(e.currentTarget);if(!t._isDisabled(r)&&t.enableHover){var s=t.toThemeProperty;r.removeClass(s.call(t,"jqx-group-button-hover")),r.removeClass(s.call(t,"jqx-fill-state-hover"))}},_mouseDownHandler:function(e){var t=e.data.self,r=i(e.currentTarget);if(!t._isDisabled(r)){t._pressed=r;var s=t.toThemeProperty;r.addClass(s.call(t,"jqx-group-button-pressed")),r.addClass(s.call(t,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(e){var t=e.data.self,r=i(e.currentTarget);t._isDisabled(r)||(t._handleSelection(r),t._pressed=null,t._raiseEvent(2,{index:(r=t._buttonId[r[0].id]).num,button:r.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var t=e.data.self,i=t._pressed;i&&!t._buttonId[i[0].id].selected&&(i.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(e){var t=this,r=t.addHandler,s=t._getEvent;r(e,s.call(t,"mouseenter"),t._mouseEnterHandler,{self:t}),r(e,s.call(t,"mouseleave"),t._mouseLeaveHandler,{self:t}),r(e,s.call(t,"mousedown"),t._mouseDownHandler,{self:t}),r(e,s.call(t,"mouseup"),t._mouseUpHandler,{self:t}),r(i(document),s.call(t,"mouseup"),t._documentUpHandler,{self:t})},_removeButtonListeners:function(e){var t=this,r=t.removeHandler,s=t._getEvent;r(e,s.call(t,"mouseenter"),t._mouseEnterHandler),r(e,s.call(t,"mouseleave"),t._mouseLeaveHandler),r(e,s.call(t,"mousedown"),t._mouseDownHandler),r(e,s.call(t,"mouseup"),t._mouseUpHandler),r(i(document),s.call(t,"mouseup"),t._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t=this,i=t._getSelectedButton();for(var r in i&&i.btn[0].id!==e[0].id&&t._unselectButton(i.btn,!0),t._buttonId)t._buttonId[r].selected=!0,t._unselectButton(t._buttonId[r].btn,!1);t._selectButton(e,!0)},_handleCheckbox:function(e){var t=this,i=t._buttonId[e[0].id];i.selected?t._unselectButton(i.btn,!0):t._selectButton(e,!0)},_handleDefault:function(e){var t=this;for(var i in t._selectButton(e,!1),t._buttonId)t._buttonId[i].selected=!0,t._unselectButton(t._buttonId[i].btn,!1)},_getSelectedButton:function(){var e=this;for(var t in e._buttonId)if(e._buttonId[t].selected)return e._buttonId[t];return null},_getSelectedButtons:function(){var e=this,t=[];for(var i in e._buttonId)e._buttonId[i].selected&&t.push(e._buttonId[i].num);return t},_getButtonByIndex:function(e){var t=this;for(var i in t._buttonId)if(t._buttonId[i].num===e)return t._buttonId[i];return null},_selectButton:function(e,t){var r=this,s=r._buttonId[e[0].id];if(!s.selected){var o=r.toThemeProperty;s.btn.addClass(o.call(this,"jqx-group-button-pressed")),s.btn.addClass(o.call(this,"jqx-fill-state-pressed")),s.selected=!0,t&&r._raiseEvent(0,{index:s.num,button:s.btn}),i.jqx.aria(s.btn,"aria-checked",!0)}},_unselectButton:function(e,t){var r=this,s=r._buttonId[e[0].id];if(s.selected){var o=r.toThemeProperty;s.btn.removeClass(o.call(this,"jqx-group-button-pressed")),s.btn.removeClass(o.call(this,"jqx-fill-state-pressed")),s.selected=!1,t&&r._raiseEvent(1,{index:s.num,button:s.btn}),i.jqx.aria(s.btn,"aria-checked",!1)}},setSelection:function(e){var t=this;if(-1!==e)if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var i=0;i<e.length;i+=1)t._setSelection(e[i]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e);else t.clearSelection()},_setSelection:function(e){var t=this._getButtonByIndex(e);t&&this._handleSelection(t.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons()},disable:function(){var e=this;for(var t in e.disabled=!0,e._buttonId)e.disableAt(e._buttonId[t].num);i.jqx.aria(e,"aria-disabled",!0)},enable:function(){var e=this;for(var t in e.disabled=!1,e._buttonId)e.enableAt(e._buttonId[t].num);i.jqx.aria(e,"aria-disabled",!1)},disableAt:function(e){var t=this._getButtonByIndex(e);t.disabled||(t.disabled=!0,t.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){var t=this._getButtonByIndex(e);t.disabled&&(t.disabled=!1,t.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var i=e[0].id,r={btn:e,num:t,selected:!1};return i||(i=this._baseId+e.index()),e[0].id=i,this._buttonId[i]=r,i},_raiseEvent:function(e,t){var r=i.Event(this._events[e]);return r.args=t,this.host.trigger(r)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(e,t,r,s){if("theme"===t&&null!==s&&i.jqx.utilities.setTheme(r,s,e.host),"template"===t&&e.refresh(),"mode"===t)return e._unselectAll(),void e.refresh();"disabled"===t?s?e.disable():e.enable():e.refresh()}})},wG7f:function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{_initpager:function(){var e=this.that,t=this.gridlocalization.pagergotopagestring,r=this.gridlocalization.pagershowrowsstring,s=(this.pagerheight-28)/2;if(this.pagerdiv=this.pagerdiv||i('<div style="line-height: 26px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var o=this.pagerrenderer();null!=o&&this.pagerdiv.append(i(o)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",s),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||i('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),this.pagergoto=this.pagergoto||i('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||i('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||i('<div type="button" style="padding: 0px; margin-right: 3px; height:26px; width: 26px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||i('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||i('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=i('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=i('<div type="button" style="padding: 0px; margin-left: 3px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagerlastbutton=i('<div type="button" style="padding: 0px; margin-right: 3px; width: 26px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||i('<div id="gridpagerlist" style="margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){i.jqx.browser.msie&&i.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var l=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");l.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(l);var a=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var n=this.rtl?"right":"left";this.pagerbuttons.css("float",n),this.pagerlastbutton.css("float",n),this.pagerfirstbutton.css("float",n),this.pagerrightbutton.css("float",n),this.pagerleftbutton.css("float",n),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var d=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(d);var h=i("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(h),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=r,this.pagergoto[0].innerHTML=t,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var g=6+(this.columns.records?this.columns.records.length:this.columns.length);this.pagerpageinput.attr("tabindex",g++),this.pagershowrowscombo.attr("tabindex",g++),this.pagerleftbutton.attr("tabindex",g++),this.pagerrightbutton.attr("tabindex",g++),e=this.that,this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(t){if(t.args){e.vScrollInstance&&e.vScrollInstance.setPosition(0),null!=e.editcell&&e.endcelledit&&e.endcelledit(e.editcell.row,e.editcell.column,!0,!1);var i=e.dataview.pagenum*e.dataview.pagesize,r=e.pagesize;e.pagesize=parseInt(c[t.args.index]),isNaN(e.pagesize)&&(e.pagesize=10),e.dataview.pagesize=e.pagesize;var s=Math.floor(i/e.dataview.pagesize);e.prerenderrequired=!0,e._requiresupdate=!0,e._raiseEvent(10,{pagenum:s,oldpagesize:r,pagesize:e.dataview.pagesize}),e.gotopage(s),e.autoheight&&e._updatesizeonwindowresize&&(e._updatesize(!0),setTimeout(function(){e._updatesize(!0)},500)),setTimeout(function(){e.pagershowrowscombo.focus()},25)}});var f=this.pagergotoinput.find("input");f.addClass(this.toThemeProperty("jqx-grid-pager-input")),f.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(f,"keydown"),this.removeHandler(f,"change"),this.addHandler(f,"keydown",function(t){if(t.keyCode>=65&&t.keyCode<=90)return!1;if("13"==t.keyCode){var i=f.val();return i=parseInt(i),isNaN(i)||(e.gotopage(i-1),setTimeout(function(){f.focus()},25)),!1}}),this.addHandler(f,"change",function(){var t=f.val();t=parseInt(t),isNaN(t)||(e.gotopage(t-1),setTimeout(function(){f.focus()},25))}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){h.addClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){h.removeClass(e.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){h.addClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){h.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(i(document),"mouseup.pagerbuttons"+this.element.id,function(){h.removeClass(e.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(e.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){e.pagerrightbutton.jqxButton("disabled")||(e.rtl?e.gotoprevpage():e.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){e.pagerleftbutton.jqxButton("disabled")||(e.rtl?e.gotonextpage():e.gotoprevpage())}),this.addHandler(this.pagerrightbutton,"keydown",function(t){13===t.keyCode&&(e.pagerrightbutton.jqxButton("disabled")||(e.rtl?e.gotoprevpage():e.gotonextpage(),setTimeout(function(){e.pagerrightbutton.focus()},25)))}),this.addHandler(this.pagerleftbutton,"keydown",function(t){13===t.keyCode&&(e.pagerleftbutton.jqxButton("disabled")||(e.rtl?e.gotonextpage():e.gotoprevpage(),setTimeout(function(){e.pagerleftbutton.focus()},25)))});var m=this;if("simple"===this.pagermode){var v=this.pagerfirstbutton,w=this.pagerlastbutton;this.addHandler(w,"mouseenter",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(v,"mouseenter",function(){l.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(w,"mouseleave",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(v,"mouseleave",function(){l.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(w,"mousedown",function(){a.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(v,"mousedown",function(){l.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(w,"mouseup",function(){a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(v,"mouseup",function(){l.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(i(document),"mouseup.pagerbuttons"+name+this.element.id,function(){h.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),a&&(a.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),l.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(m.rtl){var e=Math.ceil(m.dataview.totalrecords/m.pagesize);m.gotopage(e-1)}else m.gotopage(0)}),this.addHandler(w,"click",function(){if(!w.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var e=Math.ceil(m.dataview.totalrecords/m.pagesize);m.gotopage(e-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var e=this.pagergotoinput.find("input");e.removeClass(),e.addClass(this.toThemeProperty("jqx-grid-pager-input")),e.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var t=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");t.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(t);var r=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(r),"simple"==this.pagermode){i.jqx.browser.msie&&i.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var s=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(s);var o=i("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(o),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var l=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};l(this,this.pagerrightbutton),l(this,this.pagerleftbutton);var a=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){t.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){t.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){r.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){r.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){t.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){t.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&void 0!=e||(e=0),-1==e&&(e=0),!(e<0)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var r=Math.ceil(t/this.pagesize);if(e>=r&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=r-1),e<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var s=e*this.dataview.pagesize;if(null!=s&&null!=s+this.dataview.pagesize)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight();height=o+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var e=this.dataview.pagenum*this.pagesize,t=(this.dataview.pagenum+1)*this.pagesize;t>=this.dataview.totalrecords&&(t=this.dataview.totalrecords);var r=this.dataview.totalrecords;this.summaryrows&&(r+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(t=r)),e++;var s=Math.ceil(r/this.dataview.pagesize);if(s>=1&&s--,s++,"simple"!==this.pagermode)this.pagergotoinput.find("input").val(this.dataview.pagenum+1);else{var o="",l=this.pagerbuttonscount;0!=l&&l||(l=5);var a=0;for(this.rtl&&(a=l-1);this.rtl&&a>=0||!this.rtl&&a<l;){var n=1+a;n+=Math.floor(this.dataview.pagenum/l)*l;var d=this.toTP("jqx-grid-pager-number");if(d+=" "+this.toTP("jqx-rc-all"),n>s)break;this.rtl||0==a&&n>l&&(o+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>"),this.dataview.pagenum===n-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl?(a===l-1&&(d=this.toTP("jqx-grid-pager-number"),d+=" "+this.toTP("jqx-rc-all"),s>=1+n&&(o+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>")),this.dataview.pagenum===n-1&&(d+=" "+this.toTP("jqx-fill-state-pressed")),o+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>"):(o+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>",a===l-1&&(d=this.toTP("jqx-grid-pager-number"),d+=" "+this.toTP("jqx-rc-all"),s>=1+n&&(o+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>"))),this.rtl&&(d=this.toTP("jqx-grid-pager-number"),d+=" "+this.toTP("jqx-rc-all"),0==a&&n>l&&(o+="<a class='"+d+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>")),this.rtl?a--:a++}var h=this.pagerbuttons.find("a");this.removeHandler(h,"click"),this.removeHandler(h,"mouseenter"),this.removeHandler(h,"mouseleave"),this.pagerbuttons[0].innerHTML=o;var c=this;h=this.pagerbuttons.find("a"),c.addHandler(h,"click",function(e){var t=i(e.target).attr("data-page");return c.gotopage(parseInt(t)-1),!1}),c.addHandler(h,"mouseenter",function(e){i(e.target).addClass(c.toTP("jqx-fill-state-hover"))}),c.addHandler(h,"mouseleave",function(e){i(e.target).removeClass(c.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+s),0==t&&t<e&&(e=0),this.pagerdetails[0].innerHTML=this.rtl?r+this.gridlocalization.pagerrangestring+t+"-"+e:e+"-"+t+this.gridlocalization.pagerrangestring+r,e>t&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var r=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var s=this.dataview.rows.length,o=0;o<s;o++){var l=this.dataview.rows[o].visibleindex,a={index:l,height:this.heights[l],hidden:this.hiddens[l],details:this.details[l]};if(void 0==this.heights[l]&&(this.heights[l]=this.rowsheight,a.height=this.rowsheight),void 0==this.hiddens[l]&&(this.hiddens[l]=!1,a.hidden=!1),void 0==this.details[l]&&(this.details[l]=null),a.height!=r.rowsheight&&(t-=r.rowsheight,t+=a.height),a.hidden)t-=a.height;else{i+=a.height;var n=0;this.rowdetails&&a.details&&a.details.rowdetails&&!a.details.rowdetailshidden&&(i+=n=a.details.rowdetailsheight,t+=n)}}return this._pageviews[0]={top:0,height:i},t}})},"z/Tp":function(e,t){var i;(i=jqxBaseFramework).extend(i.jqx._jqxGrid.prototype,{getcolumnindex:function(e){var t=this.getcolumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(e,t,r){if(!((u=this.getcolumn(e)).pinned||u.hidden||u.checkboxcolumn||u.grouped)){var s=this.columns.records.indexOf(u);this.columns.records.splice(s,1),this.columns.records.splice(t,0,u);var o=0,l=this.headerZIndex;this.columnsrow.children().detach();var a=this.toThemeProperty("jqx-grid-cell");a+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(i(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var n=this,d=null;void 0!=n.filterrow&&(d=i(n.filterrow.children()[0])),this.columnsrow[0].cells=[];var h=!1;if(i.each(this.columns.records,function(e,t){var r=this.uielement;n.columnsrow.append(r),r.css("z-index",n.rtl?l++:l--);var s=this.width;if(r.css("left",o),n.columnsrow[0].cells[n.columnsrow[0].cells.length]=r[0],n.filterrow){var c=i('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+a+'"></div>');d.append(c),c.css("left",o),c.css("z-index",l+1),c.width(this.width),c[0].left=o,c.append(this._filterwidget),n.filterrow[0].cells[n.filterrow[0].cells.length]=c[0]}this.hidden&&(h=!0),this.hidden&&this.hideable||(o+=s)}),this.groupable){var c=this.groups.length;c>0&&s-c>=0&&(s-=c,t-=c)}this.rowdetails&&s-1>=0&&(s--,t--),"checkbox"==this.selectionmode&&s-1>=0&&(s--,t--);var u=this._columns[s];this._columns.splice(s,1),this._columns.splice(t,0,u),this._raiseEvent(24,{columntext:u.text,datafield:u.datafield,oldindex:s,newindex:t}),0!=r&&(h||"checkbox"==u.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var e=0;return i.each(this.columns.records,function(){this.pinned&&e++,this.grouped&&e++}),"checkbox"==this.selectionmode&&e++,e},_handlecolumnsreorder:function(){var e=this,t=-1,r=!1;if(e.columnsreorder){var s="mousemove.reorder"+this.element.id,o="mousedown.reorder"+this.element.id,l="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,s=i.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,o=i.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,l=i.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(i(document),s),this.addHandler(i(document),s,function(i){if(e.resizing)return!0;if(null!=e.reordercolumn){var s=parseInt(i.pageX),o=parseInt(i.pageY);if(a){var l=e.getTouches(i)[0];void 0!=l&&(s=parseInt(l.pageX),o=parseInt(l.pageY))}var n=e.host.coord(),d=parseInt(n.left),h=parseInt(n.top);void 0!=e.dragmousedownoffset&&null!=e.dragmousedownoffset||(e.dragmousedownoffset={left:0,top:0});var c=parseInt(s)-parseInt(e.dragmousedownoffset.left),u=parseInt(o)-parseInt(e.dragmousedownoffset.top);if(e.reordercolumn.css({left:c+"px",top:u+"px"}),r=!1,s>=d&&s<=d+e.host.width()&&o>=h&&o<=h+e.host.height()&&(r=!0),t=-1,r){e.reordercolumnicon.removeClass(e.toThemeProperty("jqx-grid-dragcancel-icon")),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon"));var p=e.columnsheader.coord(),g=p.top+e.columnsheader.height();null!=e.columnsdropline&&(o>=p.top&&o<=g?t=e._handlereordercolumnsdroplines(s):e.columnsdropline.fadeOut("slow"))}else null!=e.columnsdropline&&e.columnsdropline.fadeOut("slow"),e.reordercolumnicon.removeClass(e.toThemeProperty("jqx-grid-drag-icon")),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-dragcancel-icon"));if(a)return i.preventDefault(),i.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(i(document),o),this.addHandler(i(document),o,function(t){if(e.resizing)return!0;e.columnsbounds=new Array;var r=e.host.coord().left,s=e.host.coord().top;e.showtoolbar&&(s+=e.toolbarheight),e.groupable&&e.showgroupsheader&&(s+=e.groupsheaderheight);var o=0;i.each(e.columns.records,function(t){var l=this;if(l.hidden)return e.columnsbounds[e.columnsbounds.length]={top:s,column:l,left:r,width:0,height:2+e.rowsheight},!0;0==o&&(r=e.rtl?"hidden"!=e.hScrollBar.css("visibility")?parseInt(e.host.coord().left)-e.hScrollInstance.max+e.hScrollInstance.value:"hidden"==e.vScrollBar.css("visibility")?i(l.element).coord().left:i(l.element).coord().left-e.vScrollBar.width()-e.host.offset().left:parseInt(e.host.coord().left)-e.hScrollInstance.value),o++;var a=2+e.columnsheight;e.columnshierarchy&&(s=i(l.uielement).coord().top,a=i(l.uielement).height()),e.columnsbounds[e.columnsbounds.length]={top:s,column:l,left:r,width:l.width,height:a},r+=l.width})}),this.removeHandler(i(document),l),this.addHandler(i(document),l,function(s){if(e.resizing)return!0;if(e.__drag=!1,i(document.body).removeClass("jqx-disableselect"),parseInt(s.pageX),parseInt(s.pageY),a){var o=e.getTouches(s)[0];parseInt(o.pageX),parseInt(o.pageY)}var l=e.host.coord();if(parseInt(l.left),parseInt(l.top),e.groupsheader.height(),e.columndragstarted=!1,e.dragmousedown=null,null!=e.reordercolumn){var n=i.data(e.reordercolumn[0],"reorderrecord"),d=e.columns.records.indexOf(e.getcolumn(n));e.reordercolumn.remove(),e.reordercolumn=null;var h=0;if(h+=e._pinnedColumnsLength(),null!=n){if(r&&-1!=t){var c=t.index;if(c>=h){var u=e.columns.records[c];if(void 0!=u){var p=e.columns.records.indexOf(e.getcolumn(u.datafield));if(null==u.datafield&&(p=e.columns.records.indexOf(e.getcolumnbytext(u.text))),e.columngroups){var g=u;if(d<p&&"before"==t.position&&(g=e.columns.records[p-1]),g.columngroup!=e.getcolumn(n).columngroup)return void(null!=e.columnsdropline&&(e.columnsdropline.remove(),e.columnsdropline=null))}d<p?e.setcolumnindex(n,"before"==t.position?p-1:p):d>p&&e.setcolumnindex(n,p),e.autosavestate&&e.savestate&&e.savestate()}}}null!=e.columnsdropline&&(e.columnsdropline.remove(),e.columnsdropline=null)}}})}},getcolumnbytext:function(e){var t=null;return this.columns.records&&i.each(this.columns.records,function(){if(this.text==e)return t=this,!1}),t},_handlereordercolumnsdroplines:function(e){var t=this,r=-1,s=t._pinnedColumnsLength(),o=parseInt(t.host.coord().left)+t.host.width(),l="hidden"!=t.vScrollBar.css("visibility")?19:0;return t.rtl||(l=0),i.each(t.columnsbounds,function(i){if(i>=s){if(0==this.width)return!0;if(e<=this.left+this.width/2)return e>o?(t.columnsdropline.fadeOut(),!1):(t.columnsdropline.css("left",l+parseInt(this.left)+"px"),t.columnsdropline.css("top",parseInt(this.top)+"px"),t.columnsdropline.height(this.height),t.columnsdropline.fadeIn("slow"),r={index:i,position:"before"},!1);if(e>=this.left+this.width/2){if(this.left+this.width>o)return t.columnsdropline.fadeOut(),!1;t.columnsdropline.css("left",l+1+this.left+this.width),t.columnsdropline.css("top",this.top),t.columnsdropline.height(this.height),t.columnsdropline.fadeIn("slow"),r={index:i,position:"after"}}}}),r},_createreordercolumn:function(e,t,r){var s=this,o=t;s.reordercolumn&&s.reordercolumn.remove(),s.columnsdropline&&s.columnsdropline.remove(),s.reordercolumn=i("<div></div>");var l=e.clone();s.reordercolumn.css("z-index",999999),l.css("border-width","1px"),l.css("opacity","0.4");var a=i(l.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var n=i(l.find(".jqx-icon-close"));n.length>0&&n.css("display","none"),s.reordercolumnicon=i('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.reordercolumn.css("float","left"),s.reordercolumn.css("position","absolute"),s.host.coord(),l.width(e.width()+16),s.reordercolumn.append(l),s.reordercolumn.height(e.height()),s.reordercolumn.width(l.width()),s.reordercolumn.append(s.reordercolumnicon),i(document.body).append(s.reordercolumn),l.css("margin-left",0),l.css("left",0),l.css("top",0),s.reordercolumn.css("left",o.left+s.dragmousedown.left),s.reordercolumn.css("top",o.top+s.dragmousedown.top),void 0!=r&&r&&(s.columnsdropline=i('<div style="z-index: 9999; display: none; position: absolute;"></div>'),s.columnsdropline.width(2),s.columnsdropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),i(document.body).append(s.columnsdropline))},_handlecolumnsdragreorder:function(e,t){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var r=this,s=!1;this.isTouchDevice()&&!0!==this.touchmode&&(s=!0);var o="mousedown.drag",l="mousemove.drag";s?(o=i.jqx.mobile.getTouchEventName("touchstart")+".drag",l=i.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(t,"dragstart",function(e){return!1}),this.addHandler(t,o,function(t){if(0==e.draggable)return!0;if(r.resizing)return!0;r.__drag=!0;var o=t.pageX,l=t.pageY;if(s){var a=r.getTouches(t)[0];o=a.pageX,l=a.pageY}r.dragmousedown={left:o,top:l};var n=i(t.target).coord();return r.dragmousedownoffset={left:parseInt(o)-parseInt(n.left),top:parseInt(l-n.top)},!0}),this.addHandler(t,l,function(o){if(!e.draggable)return!0;if(void 0==e.datafield)return!0;if(e.pinned)return!0;if(r.resizing)return!0;if(r.dragmousedown){var a=o.pageX,n=o.pageY;if(s){var d=r.getTouches(o)[0];void 0!=d&&(a=d.pageX,n=d.pageY)}if(l={left:a,top:n},!r.columndragstarted&&null==r.reordercolumn){var h=Math.abs(l.left-r.dragmousedown.left),c=Math.abs(l.top-r.dragmousedown.top);(h>3||c>3)&&(r._createreordercolumn(t,l,!0),i(document.body).addClass("jqx-disableselect"),i.data(r.reordercolumn[0],"reorderrecord",e.datafield))}}})}})}}]);